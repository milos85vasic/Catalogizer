const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginForm-DmYC2LBB.js","assets/router-CYAiCCsK.js","assets/Input-DQaGiHGP.js","assets/Card-pVNkGvZm.js","assets/ui-DhyrEzjX.js","assets/charts-BaIhTcLh.js","assets/utils-B26ZFImD.js","assets/RegisterForm-Dh_--fJl.js","assets/Dashboard-CW97Gj2-.js","assets/mediaApi-7GevB2yo.js","assets/MediaBrowser-C-wk6NNq.js","assets/MediaGrid-BESADauV.js","assets/FavoriteToggle-C1Ak6xgo.js","assets/MediaPlayer-DrQ3sVTP.js","assets/Progress-DQYu3Ol9.js","assets/Analytics-BYpN_US6.js","assets/SubtitleManager-TjnXTn_H.js","assets/Collections-CnjrFI1E.js","assets/Tabs-VczWTLgE.js","assets/AIMetadata-CNrDn82p.js","assets/ConversionTools-9f69Kl8o.js","assets/Badge-CeVT3Lft.js","assets/Admin-0ls_G6tU.js","assets/Favorites-CGCqmRTJ.js","assets/PageHeader-1sRnzjfp.js","assets/Playlists-CL-ws1RH.js","assets/AIDashboard-DVXVG47v.js"])))=>i.map(i=>d[i]);
var Kt=Object.defineProperty;var zt=(t,e,s)=>e in t?Kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var q=(t,e,s)=>zt(t,typeof e!="symbol"?e+"":e,s);import{b as mt,d as $t,g as Bt,R as T,r as m,u as Ht,L as E,O as Wt,f as Vt,N as Y,B as Gt,h as Jt,i as D}from"./router-CYAiCCsK.js";import{P as k}from"./charts-BaIhTcLh.js";import{a as Yt,t as Zt,c as Xt}from"./utils-B26ZFImD.js";import{A as yt,m as gt,W as Ue,a as es,L as ts,H as Ke,b as ze,F as $e,S as Be,U as ss,c as rs,d as ns,X as is,M as as}from"./ui-DhyrEzjX.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var ke={exports:{}},ee={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var He;function os(){if(He)return ee;He=1;var t=mt(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,l){var d,h={},f=null,p=null;l!==void 0&&(f=""+l),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(p=c.ref);for(d in c)r.call(c,d)&&!i.hasOwnProperty(d)&&(h[d]=c[d]);if(u&&u.defaultProps)for(d in c=u.defaultProps,c)h[d]===void 0&&(h[d]=c[d]);return{$$typeof:e,type:u,key:f,ref:p,props:h,_owner:n.current}}return ee.Fragment=s,ee.jsx=a,ee.jsxs=a,ee}var We;function us(){return We||(We=1,ke.exports=os()),ke.exports}var o=us(),oe={},Ve;function cs(){if(Ve)return oe;Ve=1;var t=$t();return oe.createRoot=t.createRoot,oe.hydrateRoot=t.hydrateRoot,oe}var ls=cs();const ds=Bt(ls);function hs(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Pe(t,e)}function Pe(t,e){return Pe=Object.setPrototypeOf||function(s,r){return s.__proto__=r,s},Pe(t,e)}var A={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},fs={rel:["amphtml","canonical","alternate"]},ps={type:["application/ld+json"]},ms={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]};Object.keys(A).map(function(t){return A[t]});var fe={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.keys(fe).reduce(function(t,e){return t[fe[e]]=e,t},{});var ys=function(t){return Array.isArray(t)?t.join(""):t},je=function(t,e){return Array.isArray(t)?t.reduce(function(s,r){return(function(n,i){for(var a=Object.keys(n),u=0;u<a.length;u+=1)if(i[a[u]]&&i[a[u]].includes(n[a[u]]))return!0;return!1})(r,e)?s.priority.push(r):s.default.push(r),s},{priority:[],default:[]}):{default:t}},gs=[A.NOSCRIPT,A.SCRIPT,A.STYLE],Oe=function(t,e){return e===void 0&&(e=!0),e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Ge=function(t){return Object.keys(t).reduce(function(e,s){var r=t[s]!==void 0?s+'="'+t[s]+'"':""+s;return e?e+" "+r:r},"")},Je=function(t,e){return e===void 0&&(e={}),Object.keys(t).reduce(function(s,r){return s[fe[r]||r]=t[r],s},e)},le=function(t,e){return e.map(function(s,r){var n,i=((n={key:r})["data-rh"]=!0,n);return Object.keys(s).forEach(function(a){var u=fe[a]||a;u==="innerHTML"||u==="cssText"?i.dangerouslySetInnerHTML={__html:s.innerHTML||s.cssText}:i[u]=s[a]}),T.createElement(t,i)})},I=function(t,e,s){switch(t){case A.TITLE:return{toComponent:function(){return n=e.titleAttributes,(i={key:r=e.title})["data-rh"]=!0,a=Je(n,i),[T.createElement(A.TITLE,a,r)];var r,n,i,a},toString:function(){return(function(r,n,i,a){var u=Ge(i),c=ys(n);return u?"<"+r+' data-rh="true" '+u+">"+Oe(c,a)+"</"+r+">":"<"+r+' data-rh="true">'+Oe(c,a)+"</"+r+">"})(t,e.title,e.titleAttributes,s)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return Je(e)},toString:function(){return Ge(e)}};default:return{toComponent:function(){return le(t,e)},toString:function(){return(function(r,n,i){return n.reduce(function(a,u){var c=Object.keys(u).filter(function(h){return!(h==="innerHTML"||h==="cssText")}).reduce(function(h,f){var p=u[f]===void 0?f:f+'="'+Oe(u[f],i)+'"';return h?h+" "+p:p},""),l=u.innerHTML||u.cssText||"",d=gs.indexOf(r)===-1;return a+"<"+r+' data-rh="true" '+c+(d?"/>":">"+l+"</"+r+">")},"")})(t,e,s)}}}},vs=function(t){var e=t.baseTag,s=t.bodyAttributes,r=t.encode,n=t.htmlAttributes,i=t.noscriptTags,a=t.styleTags,u=t.title,c=u===void 0?"":u,l=t.titleAttributes,d=t.linkTags,h=t.metaTags,f=t.scriptTags,p={toComponent:function(){},toString:function(){return""}};if(t.prioritizeSeoTags){var b=(function(x){var v=x.linkTags,y=x.scriptTags,C=x.encode,g=je(x.metaTags,ms),w=je(v,fs),M=je(y,ps);return{priorityMethods:{toComponent:function(){return[].concat(le(A.META,g.priority),le(A.LINK,w.priority),le(A.SCRIPT,M.priority))},toString:function(){return I(A.META,g.priority,C)+" "+I(A.LINK,w.priority,C)+" "+I(A.SCRIPT,M.priority,C)}},metaTags:g.default,linkTags:w.default,scriptTags:M.default}})(t);p=b.priorityMethods,d=b.linkTags,h=b.metaTags,f=b.scriptTags}return{priority:p,base:I(A.BASE,e,r),bodyAttributes:I("bodyAttributes",s,r),htmlAttributes:I("htmlAttributes",n,r),link:I(A.LINK,d,r),meta:I(A.META,h,r),noscript:I(A.NOSCRIPT,i,r),script:I(A.SCRIPT,f,r),style:I(A.STYLE,a,r),title:I(A.TITLE,{title:c,titleAttributes:l},r)}},ue=[],bs=function(t,e){var s=this;e===void 0&&(e=typeof document<"u"),this.instances=[],this.value={setHelmet:function(r){s.context.helmet=r},helmetInstances:{get:function(){return s.canUseDOM?ue:s.instances},add:function(r){(s.canUseDOM?ue:s.instances).push(r)},remove:function(r){var n=(s.canUseDOM?ue:s.instances).indexOf(r);(s.canUseDOM?ue:s.instances).splice(n,1)}}},this.context=t,this.canUseDOM=e,e||(t.helmet=vs({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},xs=T.createContext({}),ws=k.shape({setHelmet:k.func,helmetInstances:k.shape({get:k.func,add:k.func,remove:k.func})}),Cs=typeof document<"u",se=(function(t){function e(s){var r;return(r=t.call(this,s)||this).helmetData=new bs(r.props.context,e.canUseDOM),r}return hs(e,t),e.prototype.render=function(){return T.createElement(xs.Provider,{value:this.helmetData.value},this.props.children)},e})(m.Component);se.canUseDOM=Cs,se.propTypes={context:k.shape({helmet:k.shape()}),children:k.node.isRequired},se.defaultProps={context:{}},se.displayName="HelmetProvider";ws.isRequired;k.object,k.object,k.oneOfType([k.arrayOf(k.node),k.node]),k.string,k.bool,k.bool,k.object,k.arrayOf(k.object),k.arrayOf(k.object),k.arrayOf(k.object),k.func,k.arrayOf(k.object),k.arrayOf(k.object),k.string,k.object,k.string,k.bool,k.object;class Z{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const s={listener:e};return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const ne=typeof window>"u"||"Deno"in window;function _(){}function Ss(t,e){return typeof t=="function"?t(e):t}function Ae(t){return typeof t=="number"&&t>=0&&t!==1/0}function vt(t,e){return Math.max(t+(e||0)-Date.now(),0)}function re(t,e,s){return ie(t)?typeof e=="function"?{...s,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function ks(t,e,s){return ie(t)?{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function B(t,e,s){return ie(t)?[{...e,queryKey:t},s]:[t||{},e]}function Ye(t,e){const{type:s="all",exact:r,fetchStatus:n,predicate:i,queryKey:a,stale:u}=t;if(ie(a)){if(r){if(e.queryHash!==qe(a,e.options))return!1}else if(!pe(e.queryKey,a))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||typeof n<"u"&&n!==e.state.fetchStatus||i&&!i(e))}function Ze(t,e){const{exact:s,fetching:r,predicate:n,mutationKey:i}=t;if(ie(i)){if(!e.options.mutationKey)return!1;if(s){if(J(e.options.mutationKey)!==J(i))return!1}else if(!pe(e.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||n&&!n(e))}function qe(t,e){return((e==null?void 0:e.queryKeyHashFn)||J)(t)}function J(t){return JSON.stringify(t,(e,s)=>Ne(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function pe(t,e){return bt(t,e)}function bt(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!bt(t[s],e[s])):!1}function xt(t,e){if(t===e)return t;const s=Xe(t)&&Xe(e);if(s||Ne(t)&&Ne(e)){const r=s?t.length:Object.keys(t).length,n=s?e:Object.keys(e),i=n.length,a=s?[]:{};let u=0;for(let c=0;c<i;c++){const l=s?c:n[c];a[l]=xt(t[l],e[l]),a[l]===t[l]&&u++}return r===i&&u===r?t:a}return e}function me(t,e){if(t&&!e||e&&!t)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Xe(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ne(t){if(!et(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const s=e.prototype;return!(!et(s)||!s.hasOwnProperty("isPrototypeOf"))}function et(t){return Object.prototype.toString.call(t)==="[object Object]"}function ie(t){return Array.isArray(t)}function wt(t){return new Promise(e=>{setTimeout(e,t)})}function tt(t){wt(0).then(t)}function js(){if(typeof AbortController=="function")return new AbortController}function Te(t,e,s){return s.isDataEqual!=null&&s.isDataEqual(t,e)?t:typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?xt(t,e):e}class Os extends Z{constructor(){super(),this.setup=e=>{if(!ne&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),()=>{window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var s;this.setup=e,(s=this.cleanup)==null||s.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const ye=new Os,st=["online","offline"];class Rs extends Z{constructor(){super(),this.setup=e=>{if(!ne&&window.addEventListener){const s=()=>e();return st.forEach(r=>{window.addEventListener(r,s,!1)}),()=>{st.forEach(r=>{window.removeEventListener(r,s)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var s;this.setup=e,(s=this.cleanup)==null||s.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const ge=new Rs;function Es(t){return Math.min(1e3*2**t,3e4)}function be(t){return(t??"online")==="online"?ge.isOnline():!0}class Ct{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function de(t){return t instanceof Ct}function St(t){let e=!1,s=0,r=!1,n,i,a;const u=new Promise((v,y)=>{i=v,a=y}),c=v=>{r||(p(new Ct(v)),t.abort==null||t.abort())},l=()=>{e=!0},d=()=>{e=!1},h=()=>!ye.isFocused()||t.networkMode!=="always"&&!ge.isOnline(),f=v=>{r||(r=!0,t.onSuccess==null||t.onSuccess(v),n==null||n(),i(v))},p=v=>{r||(r=!0,t.onError==null||t.onError(v),n==null||n(),a(v))},b=()=>new Promise(v=>{n=y=>{const C=r||!h();return C&&v(y),C},t.onPause==null||t.onPause()}).then(()=>{n=void 0,r||t.onContinue==null||t.onContinue()}),x=()=>{if(r)return;let v;try{v=t.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(f).catch(y=>{var C,g;if(r)return;const w=(C=t.retry)!=null?C:3,M=(g=t.retryDelay)!=null?g:Es,O=typeof M=="function"?M(s,y):M,j=w===!0||typeof w=="number"&&s<w||typeof w=="function"&&w(s,y);if(e||!j){p(y);return}s++,t.onFail==null||t.onFail(s,y),wt(O).then(()=>{if(h())return b()}).then(()=>{e?p(y):x()})})};return be(t.networkMode)?x():b().then(x),{promise:u,cancel:c,continue:()=>(n==null?void 0:n())?u:Promise.resolve(),cancelRetry:l,continueRetry:d}}const Ie=console;function Ps(){let t=[],e=0,s=d=>{d()},r=d=>{d()};const n=d=>{let h;e++;try{h=d()}finally{e--,e||u()}return h},i=d=>{e?t.push(d):tt(()=>{s(d)})},a=d=>(...h)=>{i(()=>{d(...h)})},u=()=>{const d=t;t=[],d.length&&tt(()=>{r(()=>{d.forEach(h=>{s(h)})})})};return{batch:n,batchCalls:a,schedule:i,setNotifyFunction:d=>{s=d},setBatchNotifyFunction:d=>{r=d}}}const P=Ps();class kt{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ae(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(ne?1/0:300*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class As extends kt{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Ie,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||Ns(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,s){const r=Te(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(e,s){this.dispatch({type:"setState",state:e,setStateOptions:s})}cancel(e){var s;const r=this.promise;return(s=this.retryer)==null||s.cancel(e),r?r.then(_).catch(_):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!vt(this.state.dataUpdatedAt,e)}onFocus(){var e;const s=this.observers.find(r=>r.shouldFetchOnWindowFocus());s&&s.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const s=this.observers.find(r=>r.shouldFetchOnReconnect());s&&s.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,s){var r,n;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&s!=null&&s.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return(i=this.retryer)==null||i.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(b=>b.options.queryFn);p&&this.setOptions(p.options)}const a=js(),u={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>{if(a)return this.abortSignalConsumed=!0,a.signal}})};c(u);const l=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(u)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),d={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};if(c(d),(r=this.options.behavior)==null||r.onFetch(d),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((n=d.fetchOptions)==null?void 0:n.meta)){var h;this.dispatch({type:"fetch",meta:(h=d.fetchOptions)==null?void 0:h.meta})}const f=p=>{if(de(p)&&p.silent||this.dispatch({type:"error",error:p}),!de(p)){var b,x,v,y;(b=(x=this.cache.config).onError)==null||b.call(x,p,this),(v=(y=this.cache.config).onSettled)==null||v.call(y,this.state.data,p,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=St({fn:d.fetchFn,abort:a==null?void 0:a.abort.bind(a),onSuccess:p=>{var b,x,v,y;if(typeof p>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(p),(b=(x=this.cache.config).onSuccess)==null||b.call(x,p,this),(v=(y=this.cache.config).onSettled)==null||v.call(y,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(p,b)=>{this.dispatch({type:"failed",failureCount:p,error:b})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const s=r=>{var n,i;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(n=e.meta)!=null?n:null,fetchStatus:be(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(i=e.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return de(a)&&a.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),P.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function Ns(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=typeof e<"u",r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"loading",fetchStatus:"idle"}}class Ts extends Z{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,s,r){var n;const i=s.queryKey,a=(n=s.queryHash)!=null?n:qe(i,s);let u=this.get(a);return u||(u=new As({cache:this,logger:e.getLogger(),queryKey:i,queryHash:a,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const s=this.queriesMap[e.queryHash];s&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),s===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){P.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,s){const[r]=B(e,s);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(n=>Ye(r,n))}findAll(e,s){const[r]=B(e,s);return Object.keys(r).length>0?this.queries.filter(n=>Ye(r,n)):this.queries}notify(e){P.batch(()=>{this.listeners.forEach(({listener:s})=>{s(e)})})}onFocus(){P.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){P.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class Ms extends kt{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Ie,this.observers=[],this.state=e.state||jt(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(s=>s!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,s;return(e=(s=this.retryer)==null?void 0:s.continue())!=null?e:this.execute()}async execute(){const e=()=>{var j;return this.retryer=St({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(S,F)=>{this.dispatch({type:"failed",failureCount:S,error:F})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(j=this.options.retry)!=null?j:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},s=this.state.status==="loading";try{var r,n,i,a,u,c,l,d;if(!s){var h,f,p,b;this.dispatch({type:"loading",variables:this.options.variables}),await((h=(f=this.mutationCache.config).onMutate)==null?void 0:h.call(f,this.state.variables,this));const S=await((p=(b=this.options).onMutate)==null?void 0:p.call(b,this.state.variables));S!==this.state.context&&this.dispatch({type:"loading",context:S,variables:this.state.variables})}const j=await e();return await((r=(n=this.mutationCache.config).onSuccess)==null?void 0:r.call(n,j,this.state.variables,this.state.context,this)),await((i=(a=this.options).onSuccess)==null?void 0:i.call(a,j,this.state.variables,this.state.context)),await((u=(c=this.mutationCache.config).onSettled)==null?void 0:u.call(c,j,null,this.state.variables,this.state.context,this)),await((l=(d=this.options).onSettled)==null?void 0:l.call(d,j,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:j}),j}catch(j){try{var x,v,y,C,g,w,M,O;throw await((x=(v=this.mutationCache.config).onError)==null?void 0:x.call(v,j,this.state.variables,this.state.context,this)),await((y=(C=this.options).onError)==null?void 0:y.call(C,j,this.state.variables,this.state.context)),await((g=(w=this.mutationCache.config).onSettled)==null?void 0:g.call(w,void 0,j,this.state.variables,this.state.context,this)),await((M=(O=this.options).onSettled)==null?void 0:M.call(O,void 0,j,this.state.variables,this.state.context)),j}finally{this.dispatch({type:"error",error:j})}}}dispatch(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!be(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=s(this.state),P.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function jt(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Ds extends Z{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,s,r){const n=new Ms({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(s),state:r,defaultOptions:s.mutationKey?e.getMutationDefaults(s.mutationKey):void 0});return this.add(n),n}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(s=>s!==e),this.notify({type:"removed",mutation:e})}clear(){P.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(s=>Ze(e,s))}findAll(e){return this.mutations.filter(s=>Ze(e,s))}notify(e){P.batch(()=>{this.listeners.forEach(({listener:s})=>{s(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const s=this.mutations.filter(r=>r.state.isPaused);return P.batch(()=>s.reduce((r,n)=>r.then(()=>n.continue().catch(_)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Fs(){return{onFetch:t=>{t.fetchFn=()=>{var e,s,r,n,i,a;const u=(e=t.fetchOptions)==null||(s=e.meta)==null?void 0:s.refetchPage,c=(r=t.fetchOptions)==null||(n=r.meta)==null?void 0:n.fetchMore,l=c==null?void 0:c.pageParam,d=(c==null?void 0:c.direction)==="forward",h=(c==null?void 0:c.direction)==="backward",f=((i=t.state.data)==null?void 0:i.pages)||[],p=((a=t.state.data)==null?void 0:a.pageParams)||[];let b=p,x=!1;const v=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>{var j;if((j=t.signal)!=null&&j.aborted)x=!0;else{var S;(S=t.signal)==null||S.addEventListener("abort",()=>{x=!0})}return t.signal}})},y=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),C=(O,j,S,F)=>(b=F?[j,...b]:[...b,j],F?[S,...O]:[...O,S]),g=(O,j,S,F)=>{if(x)return Promise.reject("Cancelled");if(typeof S>"u"&&!j&&O.length)return Promise.resolve(O);const X={queryKey:t.queryKey,pageParam:S,meta:t.options.meta};v(X);const Se=y(X);return Promise.resolve(Se).then(Ut=>C(O,S,Ut,F))};let w;if(!f.length)w=g([]);else if(d){const O=typeof l<"u",j=O?l:rt(t.options,f);w=g(f,O,j)}else if(h){const O=typeof l<"u",j=O?l:qs(t.options,f);w=g(f,O,j,!0)}else{b=[];const O=typeof t.options.getNextPageParam>"u";w=(u&&f[0]?u(f[0],0,f):!0)?g([],O,p[0]):Promise.resolve(C([],p[0],f[0]));for(let S=1;S<f.length;S++)w=w.then(F=>{if(u&&f[S]?u(f[S],S,f):!0){const Se=O?p[S]:rt(t.options,F);return g(F,O,Se)}return Promise.resolve(C(F,p[S],f[S]))})}return w.then(O=>({pages:O,pageParams:b}))}}}}function rt(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function qs(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class Is{constructor(e={}){this.queryCache=e.queryCache||new Ts,this.mutationCache=e.mutationCache||new Ds,this.logger=e.logger||Ie,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=ye.subscribe(()=>{ye.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=ge.subscribe(()=>{ge.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,s;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(s=this.unsubscribeOnline)==null||s.call(this),this.unsubscribeOnline=void 0)}isFetching(e,s){const[r]=B(e,s);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,s){var r;return(r=this.queryCache.find(e,s))==null?void 0:r.state.data}ensureQueryData(e,s,r){const n=re(e,s,r),i=this.getQueryData(n.queryKey);return i?Promise.resolve(i):this.fetchQuery(n)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:s,state:r})=>{const n=r.data;return[s,n]})}setQueryData(e,s,r){const n=this.queryCache.find(e),i=n==null?void 0:n.state.data,a=Ss(s,i);if(typeof a>"u")return;const u=re(e),c=this.defaultQueryOptions(u);return this.queryCache.build(this,c).setData(a,{...r,manual:!0})}setQueriesData(e,s,r){return P.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,s,r)]))}getQueryState(e,s){var r;return(r=this.queryCache.find(e,s))==null?void 0:r.state}removeQueries(e,s){const[r]=B(e,s),n=this.queryCache;P.batch(()=>{n.findAll(r).forEach(i=>{n.remove(i)})})}resetQueries(e,s,r){const[n,i]=B(e,s,r),a=this.queryCache,u={type:"active",...n};return P.batch(()=>(a.findAll(n).forEach(c=>{c.reset()}),this.refetchQueries(u,i)))}cancelQueries(e,s,r){const[n,i={}]=B(e,s,r);typeof i.revert>"u"&&(i.revert=!0);const a=P.batch(()=>this.queryCache.findAll(n).map(u=>u.cancel(i)));return Promise.all(a).then(_).catch(_)}invalidateQueries(e,s,r){const[n,i]=B(e,s,r);return P.batch(()=>{var a,u;if(this.queryCache.findAll(n).forEach(l=>{l.invalidate()}),n.refetchType==="none")return Promise.resolve();const c={...n,type:(a=(u=n.refetchType)!=null?u:n.type)!=null?a:"active"};return this.refetchQueries(c,i)})}refetchQueries(e,s,r){const[n,i]=B(e,s,r),a=P.batch(()=>this.queryCache.findAll(n).filter(c=>!c.isDisabled()).map(c=>{var l;return c.fetch(void 0,{...i,cancelRefetch:(l=i==null?void 0:i.cancelRefetch)!=null?l:!0,meta:{refetchPage:n.refetchPage}})}));let u=Promise.all(a).then(_);return i!=null&&i.throwOnError||(u=u.catch(_)),u}fetchQuery(e,s,r){const n=re(e,s,r),i=this.defaultQueryOptions(n);typeof i.retry>"u"&&(i.retry=!1);const a=this.queryCache.build(this,i);return a.isStaleByTime(i.staleTime)?a.fetch(i):Promise.resolve(a.state.data)}prefetchQuery(e,s,r){return this.fetchQuery(e,s,r).then(_).catch(_)}fetchInfiniteQuery(e,s,r){const n=re(e,s,r);return n.behavior=Fs(),this.fetchQuery(n)}prefetchInfiniteQuery(e,s,r){return this.fetchInfiniteQuery(e,s,r).then(_).catch(_)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,s){const r=this.queryDefaults.find(n=>J(e)===J(n.queryKey));r?r.defaultOptions=s:this.queryDefaults.push({queryKey:e,defaultOptions:s})}getQueryDefaults(e){if(!e)return;const s=this.queryDefaults.find(r=>pe(e,r.queryKey));return s==null?void 0:s.defaultOptions}setMutationDefaults(e,s){const r=this.mutationDefaults.find(n=>J(e)===J(n.mutationKey));r?r.defaultOptions=s:this.mutationDefaults.push({mutationKey:e,defaultOptions:s})}getMutationDefaults(e){if(!e)return;const s=this.mutationDefaults.find(r=>pe(e,r.mutationKey));return s==null?void 0:s.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const s={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!s.queryHash&&s.queryKey&&(s.queryHash=qe(s.queryKey,s)),typeof s.refetchOnReconnect>"u"&&(s.refetchOnReconnect=s.networkMode!=="always"),typeof s.useErrorBoundary>"u"&&(s.useErrorBoundary=!!s.suspense),s}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class _s extends Z{constructor(e,s){super(),this.client=e,this.options=s,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(s)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),nt(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Me(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Me(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,s){const r=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),me(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const i=this.hasListeners();i&&it(this.currentQuery,n,this.options,r)&&this.executeFetch(),this.updateResult(s),i&&(this.currentQuery!==n||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const a=this.computeRefetchInterval();i&&(this.currentQuery!==n||this.options.enabled!==r.enabled||a!==this.currentRefetchInterval)&&this.updateRefetchInterval(a)}getOptimisticResult(e){const s=this.client.getQueryCache().build(this.client,e),r=this.createResult(s,e);return Ls(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const s={};return Object.keys(e).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),s}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...s}={}){return this.fetch({...s,meta:{refetchPage:e}})}fetchOptimistic(e){const s=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,s);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,s))}fetch(e){var s;return this.executeFetch({...e,cancelRefetch:(s=e.cancelRefetch)!=null?s:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let s=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(_)),s}updateStaleTimeout(){if(this.clearStaleTimeout(),ne||this.currentResult.isStale||!Ae(this.options.staleTime))return;const s=vt(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},s)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(ne||this.options.enabled===!1||!Ae(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||ye.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,s){const r=this.currentQuery,n=this.options,i=this.currentResult,a=this.currentResultState,u=this.currentResultOptions,c=e!==r,l=c?e.state:this.currentQueryInitialState,d=c?this.currentResult:this.previousQueryResult,{state:h}=e;let{dataUpdatedAt:f,error:p,errorUpdatedAt:b,fetchStatus:x,status:v}=h,y=!1,C=!1,g;if(s._optimisticResults){const S=this.hasListeners(),F=!S&&nt(e,s),X=S&&it(e,r,s,n);(F||X)&&(x=be(e.options.networkMode)?"fetching":"paused",f||(v="loading")),s._optimisticResults==="isRestoring"&&(x="idle")}if(s.keepPreviousData&&!h.dataUpdatedAt&&d!=null&&d.isSuccess&&v!=="error")g=d.data,f=d.dataUpdatedAt,v=d.status,y=!0;else if(s.select&&typeof h.data<"u")if(i&&h.data===(a==null?void 0:a.data)&&s.select===this.selectFn)g=this.selectResult;else try{this.selectFn=s.select,g=s.select(h.data),g=Te(i==null?void 0:i.data,g,s),this.selectResult=g,this.selectError=null}catch(S){this.selectError=S}else g=h.data;if(typeof s.placeholderData<"u"&&typeof g>"u"&&v==="loading"){let S;if(i!=null&&i.isPlaceholderData&&s.placeholderData===(u==null?void 0:u.placeholderData))S=i.data;else if(S=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof S<"u")try{S=s.select(S),this.selectError=null}catch(F){this.selectError=F}typeof S<"u"&&(v="success",g=Te(i==null?void 0:i.data,S,s),C=!0)}this.selectError&&(p=this.selectError,g=this.selectResult,b=Date.now(),v="error");const w=x==="fetching",M=v==="loading",O=v==="error";return{status:v,fetchStatus:x,isLoading:M,isSuccess:v==="success",isError:O,isInitialLoading:M&&w,data:g,dataUpdatedAt:f,error:p,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>l.dataUpdateCount||h.errorUpdateCount>l.errorUpdateCount,isFetching:w,isRefetching:w&&!M,isLoadingError:O&&h.dataUpdatedAt===0,isPaused:x==="paused",isPlaceholderData:C,isPreviousData:y,isRefetchError:O&&h.dataUpdatedAt!==0,isStale:_e(e,s),refetch:this.refetch,remove:this.remove}}updateResult(e){const s=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,me(r,s))return;this.currentResult=r;const n={cache:!0},i=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,u=typeof a=="function"?a():a;if(u==="all"||!u&&!this.trackedProps.size)return!0;const c=new Set(u??this.trackedProps);return this.options.useErrorBoundary&&c.add("error"),Object.keys(this.currentResult).some(l=>{const d=l;return this.currentResult[d]!==s[d]&&c.has(d)})};(e==null?void 0:e.listeners)!==!1&&i()&&(n.listeners=!0),this.notify({...n,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const s=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const s={};e.type==="success"?s.onSuccess=!e.manual:e.type==="error"&&!de(e.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()}notify(e){P.batch(()=>{if(e.onSuccess){var s,r,n,i;(s=(r=this.options).onSuccess)==null||s.call(r,this.currentResult.data),(n=(i=this.options).onSettled)==null||n.call(i,this.currentResult.data,null)}else if(e.onError){var a,u,c,l;(a=(u=this.options).onError)==null||a.call(u,this.currentResult.error),(c=(l=this.options).onSettled)==null||c.call(l,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:d})=>{d(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Qs(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function nt(t,e){return Qs(t,e)||t.state.dataUpdatedAt>0&&Me(t,e,e.refetchOnMount)}function Me(t,e,s){if(e.enabled!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&_e(t,e)}return!1}function it(t,e,s,r){return s.enabled!==!1&&(t!==e||r.enabled===!1)&&(!s.suspense||t.state.status!=="error")&&_e(t,s)}function _e(t,e){return t.isStaleByTime(e.staleTime)}function Ls(t,e,s){return s.keepPreviousData?!1:s.placeholderData!==void 0?e.isPlaceholderData:!me(t.getCurrentResult(),e)}let Us=class extends Z{constructor(e,s){super(),this.client=e,this.setOptions(s),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var s;const r=this.options;this.options=this.client.defaultMutationOptions(e),me(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(s=this.currentMutation)==null||s.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const s={listeners:!0};e.type==="success"?s.onSuccess=!0:e.type==="error"&&(s.onError=!0),this.notify(s)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:jt(),s=e.status==="loading",r={...e,isLoading:s,isPending:s,isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=r}notify(e){P.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var s,r,n,i;(s=(r=this.mutateOptions).onSuccess)==null||s.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(n=(i=this.mutateOptions).onSettled)==null||n.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var a,u,c,l;(a=(u=this.mutateOptions).onError)==null||a.call(u,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(c=(l=this.mutateOptions).onSettled)==null||c.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:d})=>{d(this.currentResult)})})}};var Re={exports:{}},Ee={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var at;function Ks(){if(at)return Ee;at=1;var t=mt();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var s=typeof Object.is=="function"?Object.is:e,r=t.useState,n=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function u(h,f){var p=f(),b=r({inst:{value:p,getSnapshot:f}}),x=b[0].inst,v=b[1];return i(function(){x.value=p,x.getSnapshot=f,c(x)&&v({inst:x})},[h,p,f]),n(function(){return c(x)&&v({inst:x}),h(function(){c(x)&&v({inst:x})})},[h]),a(p),p}function c(h){var f=h.getSnapshot;h=h.value;try{var p=f();return!s(h,p)}catch{return!0}}function l(h,f){return f()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:u;return Ee.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,Ee}var ot;function zs(){return ot||(ot=1,Re.exports=Ks()),Re.exports}var $s=zs();const Ot=$s.useSyncExternalStore,ut=m.createContext(void 0),Rt=m.createContext(!1);function Et(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=ut),window.ReactQueryClientContext):ut)}const xe=({context:t}={})=>{const e=m.useContext(Et(t,m.useContext(Rt)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Bs=({client:t,children:e,context:s,contextSharing:r=!1})=>{m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const n=Et(s,r);return m.createElement(Rt.Provider,{value:!s&&r},m.createElement(n.Provider,{value:t},e))},Pt=m.createContext(!1),Hs=()=>m.useContext(Pt);Pt.Provider;function Ws(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const Vs=m.createContext(Ws()),Gs=()=>m.useContext(Vs);function At(t,e){return typeof t=="function"?t(...e):!!t}const Js=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Ys=t=>{m.useEffect(()=>{t.clearReset()},[t])},Zs=({result:t,errorResetBoundary:e,useErrorBoundary:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&At(s,[t.error,r]),Xs=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.cacheTime=="number"&&(t.cacheTime=Math.max(t.cacheTime,1e3)))},er=(t,e)=>t.isLoading&&t.isFetching&&!e,tr=(t,e,s)=>(t==null?void 0:t.suspense)&&er(e,s),sr=(t,e,s)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{s.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function rr(t,e){const s=xe({context:t.context}),r=Hs(),n=Gs(),i=s.defaultQueryOptions(t);i._optimisticResults=r?"isRestoring":"optimistic",i.onError&&(i.onError=P.batchCalls(i.onError)),i.onSuccess&&(i.onSuccess=P.batchCalls(i.onSuccess)),i.onSettled&&(i.onSettled=P.batchCalls(i.onSettled)),Xs(i),Js(i,n),Ys(n);const[a]=m.useState(()=>new e(s,i)),u=a.getOptimisticResult(i);if(Ot(m.useCallback(c=>{const l=r?()=>{}:a.subscribe(P.batchCalls(c));return a.updateResult(),l},[a,r]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),m.useEffect(()=>{a.setOptions(i,{listeners:!1})},[i,a]),tr(i,u,r))throw sr(i,a,n);if(Zs({result:u,errorResetBoundary:n,useErrorBoundary:i.useErrorBoundary,query:a.getCurrentQuery()}))throw u.error;return i.notifyOnChangeProps?u:a.trackResult(u)}function ct(t,e,s){const r=re(t,e,s);return rr(r,_s)}function te(t,e,s){const r=ks(t,e),n=xe({context:r.context}),[i]=m.useState(()=>new Us(n,r));m.useEffect(()=>{i.setOptions(r)},[i,r]);const a=Ot(m.useCallback(c=>i.subscribe(P.batchCalls(c)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=m.useCallback((c,l)=>{i.mutate(c,l).catch(nr)},[i]);if(a.error&&At(i.options.useErrorBoundary,[a.error]))throw a.error;return{...a,mutate:u,mutateAsync:a.mutate}}function nr(){}const ir=function(){return null};let ar={data:""},or=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||ar},ur=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,cr=/\/\*[^]*?\*\/|  +/g,lt=/\n+/g,H=(t,e)=>{let s="",r="",n="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?s=i+" "+a+";":r+=i[1]=="f"?H(a,i):i+"{"+H(a,i[1]=="k"?"":e)+"}":typeof a=="object"?r+=H(a,e?e.replace(/([^,])+/g,u=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,u):u?u+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=H.p?H.p(i,a):i+":"+a+";")}return s+(e&&n?e+"{"+n+"}":n)+r},K={},Nt=t=>{if(typeof t=="object"){let e="";for(let s in t)e+=s+Nt(t[s]);return e}return t},lr=(t,e,s,r,n)=>{let i=Nt(t),a=K[i]||(K[i]=(c=>{let l=0,d=11;for(;l<c.length;)d=101*d+c.charCodeAt(l++)>>>0;return"go"+d})(i));if(!K[a]){let c=i!==t?t:(l=>{let d,h,f=[{}];for(;d=ur.exec(l.replace(cr,""));)d[4]?f.shift():d[3]?(h=d[3].replace(lt," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(lt," ").trim();return f[0]})(t);K[a]=H(n?{["@keyframes "+a]:c}:c,s?"":"."+a)}let u=s&&K.g?K.g:null;return s&&(K.g=K[a]),((c,l,d,h)=>{h?l.data=l.data.replace(h,c):l.data.indexOf(c)===-1&&(l.data=d?c+l.data:l.data+c)})(K[a],e,r,u),a},dr=(t,e,s)=>t.reduce((r,n,i)=>{let a=e[i];if(a&&a.call){let u=a(s),c=u&&u.props&&u.props.className||/^go/.test(u)&&u;a=c?"."+c:u&&typeof u=="object"?u.props?"":H(u,""):u===!1?"":u}return r+n+(a??"")},"");function we(t){let e=this||{},s=t.call?t(e.p):t;return lr(s.unshift?s.raw?dr(s,[].slice.call(arguments,1),e.p):s.reduce((r,n)=>Object.assign(r,n&&n.call?n(e.p):n),{}):s,or(e.target),e.g,e.o,e.k)}let Tt,De,Fe;we.bind({g:1});let $=we.bind({k:1});function hr(t,e,s,r){H.p=e,Tt=t,De=s,Fe=r}function W(t,e){let s=this||{};return function(){let r=arguments;function n(i,a){let u=Object.assign({},i),c=u.className||n.className;s.p=Object.assign({theme:De&&De()},u),s.o=/ *go\d+/.test(c),u.className=we.apply(s,r)+(c?" "+c:"");let l=t;return t[0]&&(l=u.as||t,delete u.as),Fe&&l[0]&&Fe(u),Tt(l,u)}return n}}var fr=t=>typeof t=="function",ve=(t,e)=>fr(t)?t(e):t,pr=(()=>{let t=0;return()=>(++t).toString()})(),Mt=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),mr=20,Qe="default",Dt=(t,e)=>{let{toastLimit:s}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,s)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return Dt(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},he=[],Ft={toasts:[],pausedAt:void 0,settings:{toastLimit:mr}},U={},qt=(t,e=Qe)=>{U[e]=Dt(U[e]||Ft,t),he.forEach(([s,r])=>{s===e&&r(U[e])})},It=t=>Object.keys(U).forEach(e=>qt(t,e)),yr=t=>Object.keys(U).find(e=>U[e].toasts.some(s=>s.id===t)),Ce=(t=Qe)=>e=>{qt(e,t)},gr={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},vr=(t={},e=Qe)=>{let[s,r]=m.useState(U[e]||Ft),n=m.useRef(U[e]);m.useEffect(()=>(n.current!==U[e]&&r(U[e]),he.push([e,r]),()=>{let a=he.findIndex(([u])=>u===e);a>-1&&he.splice(a,1)}),[e]);let i=s.toasts.map(a=>{var u,c,l;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((u=t[a.type])==null?void 0:u.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((c=t[a.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||gr[a.type],style:{...t.style,...(l=t[a.type])==null?void 0:l.style,...a.style}}});return{...s,toasts:i}},br=(t,e="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||pr()}),ae=t=>(e,s)=>{let r=br(e,t,s);return Ce(r.toasterId||yr(r.id))({type:2,toast:r}),r.id},N=(t,e)=>ae("blank")(t,e);N.error=ae("error");N.success=ae("success");N.loading=ae("loading");N.custom=ae("custom");N.dismiss=(t,e)=>{let s={type:3,toastId:t};e?Ce(e)(s):It(s)};N.dismissAll=t=>N.dismiss(void 0,t);N.remove=(t,e)=>{let s={type:4,toastId:t};e?Ce(e)(s):It(s)};N.removeAll=t=>N.remove(void 0,t);N.promise=(t,e,s)=>{let r=N.loading(e.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(n=>{let i=e.success?ve(e.success,n):void 0;return i?N.success(i,{id:r,...s,...s==null?void 0:s.success}):N.dismiss(r),n}).catch(n=>{let i=e.error?ve(e.error,n):void 0;i?N.error(i,{id:r,...s,...s==null?void 0:s.error}):N.dismiss(r)}),t};var xr=1e3,wr=(t,e="default")=>{let{toasts:s,pausedAt:r}=vr(t,e),n=m.useRef(new Map).current,i=m.useCallback((h,f=xr)=>{if(n.has(h))return;let p=setTimeout(()=>{n.delete(h),a({type:4,toastId:h})},f);n.set(h,p)},[]);m.useEffect(()=>{if(r)return;let h=Date.now(),f=s.map(p=>{if(p.duration===1/0)return;let b=(p.duration||0)+p.pauseDuration-(h-p.createdAt);if(b<0){p.visible&&N.dismiss(p.id);return}return setTimeout(()=>N.dismiss(p.id,e),b)});return()=>{f.forEach(p=>p&&clearTimeout(p))}},[s,r,e]);let a=m.useCallback(Ce(e),[e]),u=m.useCallback(()=>{a({type:5,time:Date.now()})},[a]),c=m.useCallback((h,f)=>{a({type:1,toast:{id:h,height:f}})},[a]),l=m.useCallback(()=>{r&&a({type:6,time:Date.now()})},[r,a]),d=m.useCallback((h,f)=>{let{reverseOrder:p=!1,gutter:b=8,defaultPosition:x}=f||{},v=s.filter(g=>(g.position||x)===(h.position||x)&&g.height),y=v.findIndex(g=>g.id===h.id),C=v.filter((g,w)=>w<y&&g.visible).length;return v.filter(g=>g.visible).slice(...p?[C+1]:[0,C]).reduce((g,w)=>g+(w.height||0)+b,0)},[s]);return m.useEffect(()=>{s.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let f=n.get(h.id);f&&(clearTimeout(f),n.delete(h.id))}})},[s,i]),{toasts:s,handlers:{updateHeight:c,startPause:u,endPause:l,calculateOffset:d}}},Cr=$`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Sr=$`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kr=$`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,jr=W("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Cr} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Sr} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${kr} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Or=$`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Rr=W("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Or} 1s linear infinite;
`,Er=$`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Pr=$`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ar=W("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Er} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Pr} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Nr=W("div")`
  position: absolute;
`,Tr=W("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Mr=$`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Dr=W("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Mr} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Fr=({toast:t})=>{let{icon:e,type:s,iconTheme:r}=t;return e!==void 0?typeof e=="string"?m.createElement(Dr,null,e):e:s==="blank"?null:m.createElement(Tr,null,m.createElement(Rr,{...r}),s!=="loading"&&m.createElement(Nr,null,s==="error"?m.createElement(jr,{...r}):m.createElement(Ar,{...r})))},qr=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ir=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,_r="0%{opacity:0;} 100%{opacity:1;}",Qr="0%{opacity:1;} 100%{opacity:0;}",Lr=W("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ur=W("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Kr=(t,e)=>{let s=t.includes("top")?1:-1,[r,n]=Mt()?[_r,Qr]:[qr(s),Ir(s)];return{animation:e?`${$(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${$(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},zr=m.memo(({toast:t,position:e,style:s,children:r})=>{let n=t.height?Kr(t.position||e||"top-center",t.visible):{opacity:0},i=m.createElement(Fr,{toast:t}),a=m.createElement(Ur,{...t.ariaProps},ve(t.message,t));return m.createElement(Lr,{className:t.className,style:{...n,...s,...t.style}},typeof r=="function"?r({icon:i,message:a}):m.createElement(m.Fragment,null,i,a))});hr(m.createElement);var $r=({id:t,className:e,style:s,onHeightUpdate:r,children:n})=>{let i=m.useCallback(a=>{if(a){let u=()=>{let c=a.getBoundingClientRect().height;r(t,c)};u(),new MutationObserver(u).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return m.createElement("div",{ref:i,className:e,style:s},n)},Br=(t,e)=>{let s=t.includes("top"),r=s?{top:0}:{bottom:0},n=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Mt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(s?1:-1)}px)`,...r,...n}},Hr=we`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ce=16,Wr=({reverseOrder:t,position:e="top-center",toastOptions:s,gutter:r,children:n,toasterId:i,containerStyle:a,containerClassName:u})=>{let{toasts:c,handlers:l}=wr(s,i);return m.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:ce,left:ce,right:ce,bottom:ce,pointerEvents:"none",...a},className:u,onMouseEnter:l.startPause,onMouseLeave:l.endPause},c.map(d=>{let h=d.position||e,f=l.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),p=Br(h,f);return m.createElement($r,{id:d.id,key:d.id,onHeightUpdate:l.updateHeight,className:d.visible?Hr:"",style:p},d.type==="custom"?ve(d.message,d):n?n(d):m.createElement(zr,{toast:d,position:h}))}))},R=N;const Vr="modulepreload",Gr=function(t){return"/"+t},dt={},Q=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){let a=function(l){return Promise.all(l.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));n=a(s.map(l=>{if(l=Gr(l),l in dt)return;dt[l]=!0;const d=l.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Vr,d||(f.as="script"),f.crossOrigin="",f.href=l,c&&f.setAttribute("nonce",c),document.head.appendChild(f),d)return new Promise((p,b)=>{f.addEventListener("load",p),f.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return n.then(a=>{for(const u of a||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},Jr="http://localhost:8080",z=Yt.create({baseURL:`${Jr}/api/v1`,timeout:1e4,headers:{"Content-Type":"application/json"}});z.interceptors.request.use(t=>{const e=localStorage.getItem("auth_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});z.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(t)});const V={login:t=>z.post("/auth/login",t).then(e=>e.data),register:t=>z.post("/auth/register",t).then(e=>e.data),logout:()=>z.post("/auth/logout").then(()=>{}),updateProfile:t=>z.put("/auth/profile",t).then(e=>e.data),changePassword:t=>z.post("/auth/change-password",t).then(()=>{}),getAuthStatus:()=>z.get("/auth/status").then(t=>t.data),getPermissions:()=>z.get("/auth/permissions").then(t=>t.data)},_t=m.createContext(void 0),Le=()=>{const t=m.useContext(_t);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Yr=({children:t})=>{const[e,s]=m.useState(null),[r,n]=m.useState([]),i=xe(),{data:a,isLoading:u}=ct({queryKey:["auth-status"],queryFn:V.getAuthStatus,retry:(y,C)=>{var g;return((g=C==null?void 0:C.response)==null?void 0:g.status)===401?!1:y<2},staleTime:1e3*60*5}),{data:c}=ct({queryKey:["permissions"],queryFn:V.getPermissions,enabled:!!e,staleTime:1e3*60*10});m.useEffect(()=>{a!=null&&a.authenticated&&a.user?(s(a.user),n(a.permissions||[])):(s(null),n([]))},[a]),m.useEffect(()=>{c&&n(c.permissions||[])},[c]);const l=te({mutationFn:V.login,onSuccess:y=>{localStorage.setItem("auth_token",y.token),localStorage.setItem("user",JSON.stringify(y.user)),s(y.user),i.invalidateQueries({queryKey:["auth-status"]}),i.invalidateQueries({queryKey:["permissions"]}),R.success("Successfully logged in!")},onError:y=>{var g,w;const C=((w=(g=y==null?void 0:y.response)==null?void 0:g.data)==null?void 0:w.error)||"Login failed";R.error(C)}}),d=te({mutationFn:V.register,onSuccess:()=>{R.success("Registration successful! Please log in.")},onError:y=>{var g,w;const C=((w=(g=y==null?void 0:y.response)==null?void 0:g.data)==null?void 0:w.error)||"Registration failed";R.error(C)}}),h=te({mutationFn:V.logout,onSuccess:()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("user"),s(null),n([]),i.clear(),R.success("Successfully logged out!")},onError:()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("user"),s(null),n([]),i.clear()}}),f=te({mutationFn:V.updateProfile,onSuccess:y=>{s(y),i.invalidateQueries({queryKey:["auth-status"]}),R.success("Profile updated successfully!")},onError:y=>{var g,w;const C=((w=(g=y==null?void 0:y.response)==null?void 0:g.data)==null?void 0:w.error)||"Profile update failed";R.error(C)}}),p=te({mutationFn:V.changePassword,onSuccess:()=>{R.success("Password changed successfully!")},onError:y=>{var g,w;const C=((w=(g=y==null?void 0:y.response)==null?void 0:g.data)==null?void 0:w.error)||"Password change failed";R.error(C)}}),b=y=>(e==null?void 0:e.role)==="admin"?!0:r.includes(y),x=(y,C)=>{const g=`${C}:${y}`;return b(g)||b("admin:system")},v={user:e,isAuthenticated:!!e,isLoading:u,permissions:r,isAdmin:(e==null?void 0:e.role)==="admin",login:l.mutateAsync,register:d.mutateAsync,logout:h.mutateAsync,updateProfile:f.mutateAsync,changePassword:p.mutateAsync,hasPermission:b,canAccess:x};return o.jsx(_t.Provider,{value:v,children:t})},ht="ws://localhost:8080/ws";class Zr{constructor(e){q(this,"ws",null);q(this,"reconnectAttempts",0);q(this,"maxReconnectAttempts",5);q(this,"reconnectDelay",1e3);q(this,"messageQueue",[]);q(this,"isConnected",!1);q(this,"token",null);q(this,"onMessage",null);q(this,"onConnect",null);q(this,"onDisconnect",null);q(this,"onError",null);this.token=e||localStorage.getItem("auth_token")}connect(){var s;if(((s=this.ws)==null?void 0:s.readyState)===WebSocket.OPEN)return;const e=this.token?`${ht}?token=${this.token}`:ht;try{this.ws=new WebSocket(e),this.ws.onopen=()=>{var r,n;for(this.isConnected=!0,this.reconnectAttempts=0;this.messageQueue.length>0;){const i=this.messageQueue.shift();i&&((r=this.ws)==null?void 0:r.readyState)===WebSocket.OPEN&&this.ws.send(i)}(n=this.onConnect)==null||n.call(this)},this.ws.onmessage=r=>{var n;try{const i=JSON.parse(r.data);(n=this.onMessage)==null||n.call(this,i)}catch(i){console.error("Failed to parse WebSocket message:",i)}},this.ws.onclose=r=>{var n;this.isConnected=!1,(n=this.onDisconnect)==null||n.call(this),r.code!==1e3&&this.reconnectAttempts<this.maxReconnectAttempts&&this.scheduleReconnect()},this.ws.onerror=r=>{var n;console.error("WebSocket error:",r),(n=this.onError)==null||n.call(this,r)}}catch(r){console.error("Failed to create WebSocket connection:",r),this.scheduleReconnect()}}scheduleReconnect(){this.reconnectAttempts++;const e=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);setTimeout(()=>{this.connect()},e)}send(e){var r;const s=JSON.stringify(e);this.isConnected&&((r=this.ws)==null?void 0:r.readyState)===WebSocket.OPEN?this.ws.send(s):this.messageQueue.push(s)}subscribe(e){this.send({type:"subscribe",channel:e})}unsubscribe(e){this.send({type:"unsubscribe",channel:e})}setOnMessage(e){this.onMessage=e}setOnConnect(e){this.onConnect=e}setOnDisconnect(e){this.onDisconnect=e}setOnError(e){this.onError=e}disconnect(){this.ws&&this.ws.close(1e3,"Client disconnect")}getConnectionState(){if(!this.ws)return"closed";switch(this.ws.readyState){case WebSocket.CONNECTING:return"connecting";case WebSocket.OPEN:return"open";case WebSocket.CLOSING:return"closing";case WebSocket.CLOSED:return"closed";default:return"closed"}}}const Qt=()=>{const t=m.useRef(null),e=xe(),s=m.useCallback(()=>{if(!t.current){const c=localStorage.getItem("auth_token")||void 0;t.current=new Zr(c)}t.current.setOnMessage(c=>{switch(c.type){case"media_update":Xr(c.data,e);break;case"system_update":en(c.data);break;case"analysis_complete":tn(c.data,e);break;case"notification":sn(c.data);break}}),t.current.setOnConnect(()=>{var c,l,d;R.success("Connected to real-time updates"),(c=t.current)==null||c.subscribe("media_updates"),(l=t.current)==null||l.subscribe("system_updates"),(d=t.current)==null||d.subscribe("analysis_updates")}),t.current.setOnDisconnect(()=>{R.error("Disconnected from real-time updates")}),t.current.setOnError(c=>{console.error("WebSocket error:",c),R.error("Connection error - some features may not work")}),t.current.connect()},[e]),r=m.useCallback(()=>{var c;(c=t.current)==null||c.disconnect(),t.current=null},[]),n=m.useCallback(c=>{var l;(l=t.current)==null||l.send(c)},[]),i=m.useCallback(c=>{var l;(l=t.current)==null||l.subscribe(c)},[]),a=m.useCallback(c=>{var l;(l=t.current)==null||l.unsubscribe(c)},[]),u=m.useCallback(()=>{var c;return((c=t.current)==null?void 0:c.getConnectionState())||"closed"},[]);return m.useEffect(()=>()=>{r()},[r]),{connect:s,disconnect:r,send:n,subscribe:i,unsubscribe:a,getConnectionState:u}},Xr=(t,e)=>{switch(t.action){case"created":R.success(`New ${t.media.media_type} added: ${t.media.title}`),e.invalidateQueries({queryKey:["media-search"]}),e.invalidateQueries({queryKey:["media-stats"]}),e.invalidateQueries({queryKey:["recent-media"]});break;case"updated":R.success(`${t.media.title} updated`),e.invalidateQueries({queryKey:["media-search"]}),e.setQueryData(["media",t.media_id],t.media);break;case"deleted":R.success("Media item deleted"),e.invalidateQueries({queryKey:["media-search"]}),e.invalidateQueries({queryKey:["media-stats"]}),e.removeQueries({queryKey:["media",t.media_id]});break;case"analyzed":R.success(`Analysis complete for ${t.media.title}`),e.invalidateQueries({queryKey:["media",t.media_id]});break}},en=t=>{const{component:e,status:s,message:r}=t;switch(s){case"healthy":break;case"warning":R(`${e} warning: ${r}`,{icon:"",duration:6e3});break;case"error":R.error(`${e} error: ${r}`);break}},tn=(t,e)=>{R.success(`Analysis complete for ${t.items_processed} items`),e.invalidateQueries({queryKey:["media-search"]}),e.invalidateQueries({queryKey:["media-stats"]})},sn=t=>{const{type:e,title:s,message:r,level:n}=t;switch(n){case"info":R(r,{icon:""});break;case"success":R.success(r);break;case"warning":R(r,{icon:""});break;case"error":R.error(r);break;default:R(r)}},rn=m.createContext(void 0),nn=({children:t})=>{const{isAuthenticated:e,user:s}=Le(),r=Qt();return m.useEffect(()=>{if(e&&s)return r.connect(),()=>{r.disconnect()};r.disconnect()},[e,s,r]),o.jsx(rn.Provider,{value:r,children:t})},an=()=>{const{getConnectionState:t}=Qt(),[e,s]=m.useState("closed"),[r,n]=m.useState(!1);m.useEffect(()=>{const u=()=>{const l=t();s(l),n(l!=="open")};u();const c=setInterval(u,1e3);return()=>clearInterval(c)},[t]);const a=(()=>{switch(e){case"connecting":return{icon:o.jsx(ts,{className:"h-4 w-4 animate-spin"}),text:"Connecting...",color:"bg-yellow-500",textColor:"text-yellow-100"};case"open":return{icon:o.jsx(es,{className:"h-4 w-4"}),text:"Connected",color:"bg-green-500",textColor:"text-green-100"};case"closing":return{icon:o.jsx(Ue,{className:"h-4 w-4"}),text:"Disconnecting...",color:"bg-orange-500",textColor:"text-orange-100"};case"closed":return{icon:o.jsx(Ue,{className:"h-4 w-4"}),text:"Disconnected",color:"bg-red-500",textColor:"text-red-100"}}})();return o.jsx(yt,{children:r&&o.jsx(gt.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-4 right-4 z-50",children:o.jsxs("div",{className:`${a.color} ${a.textColor} px-3 py-2 rounded-lg shadow-lg flex items-center space-x-2 text-sm font-medium`,children:[a.icon,o.jsx("span",{children:a.text})]})})})};function Lt(t){var e,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(s=Lt(t[e]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function on(){for(var t,e,s=0,r="",n=arguments.length;s<n;s++)(t=arguments[s])&&(e=Lt(t))&&(r&&(r+=" "),r+=e);return r}const ft=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,pt=on,un=(t,e)=>s=>{var r;if((e==null?void 0:e.variants)==null)return pt(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:i}=e,a=Object.keys(n).map(l=>{const d=s==null?void 0:s[l],h=i==null?void 0:i[l];if(d===null)return null;const f=ft(d)||ft(h);return n[l][f]}),u=s&&Object.entries(s).reduce((l,d)=>{let[h,f]=d;return f===void 0||(l[h]=f),l},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((l,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(b=>{let[x,v]=b;return Array.isArray(v)?v.includes({...i,...u}[x]):{...i,...u}[x]===v})?[...l,h,f]:l},[]);return pt(t,a,c,s==null?void 0:s.class,s==null?void 0:s.className)};function cn(...t){return Zt(Xt(t))}function qn(t){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(new Date(t))}function In(t,e){return t.length<=e?t:t.slice(0,e)+"..."}function _n(t,e){let s;return(...r)=>{clearTimeout(s),s=setTimeout(()=>t(...r),e)}}const ln=un("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700 shadow-lg hover:shadow-xl",destructive:"bg-red-600 text-white hover:bg-red-700 shadow-lg hover:shadow-xl",outline:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",ghost:"hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-white",link:"text-blue-600 underline-offset-4 hover:underline dark:text-blue-400",glass:"bg-white/10 backdrop-blur-md border border-white/20 text-white hover:bg-white/20",primary:"bg-blue-600 text-white hover:bg-blue-700 shadow-lg hover:shadow-xl"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",md:"h-10 px-4 py-2",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),G=T.forwardRef(({className:t,variant:e,size:s,loading:r,children:n,disabled:i,...a},u)=>o.jsxs("button",{className:cn(ln({variant:e,size:s,className:t})),ref:u,disabled:i||r,...a,children:[r&&o.jsxs("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n]}));G.displayName="Button";const dn=()=>{const{user:t,isAuthenticated:e,logout:s}=Le(),[r,n]=m.useState(!1),i=Ht(),a=async()=>{try{await s(),i("/login")}catch(c){console.error("Logout failed:",c)}},u=()=>n(!r);return o.jsxs("header",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-gray-200 dark:bg-gray-900/80 dark:border-gray-700",children:[o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs(E,{to:"/",className:"flex items-center space-x-2 text-xl font-bold text-gray-900 dark:text-white",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-sm",children:"C"})}),o.jsx("span",{children:"Catalogizer"})]}),e&&o.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[o.jsx(E,{to:"/dashboard",className:"text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors",children:"Dashboard"}),o.jsx(E,{to:"/media",className:"text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors",children:"Media"}),o.jsx(E,{to:"/favorites",className:"text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ke,{className:"h-4 w-4"}),"Favorites"]})}),o.jsx(E,{to:"/playlists",className:"text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ze,{className:"h-4 w-4"}),"Playlists"]})}),o.jsx(E,{to:"/analytics",className:"text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors",children:"Analytics"}),o.jsx(E,{to:"/subtitles",className:"text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors",children:"Subtitles"}),o.jsx(E,{to:"/collections",className:"text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx($e,{className:"h-4 w-4"}),"Collections"]})}),o.jsx(E,{to:"/conversion",className:"text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors",children:"Convert"}),(t==null?void 0:t.role)==="admin"&&o.jsx(E,{to:"/admin",className:"text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors",children:"Admin"})]}),e&&o.jsx("div",{className:"hidden md:flex items-center flex-1 max-w-md mx-8",children:o.jsxs("div",{className:"relative w-full",children:[o.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search media...",className:"w-full pl-10 pr-4 py-2 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]})}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:e?o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Welcome, ",(t==null?void 0:t.first_name)||(t==null?void 0:t.username)]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>i("/profile"),className:"h-8 w-8",children:o.jsx(ss,{className:"h-4 w-4"})}),o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>i("/settings"),className:"h-8 w-8",children:o.jsx(rs,{className:"h-4 w-4"})}),o.jsx(G,{variant:"ghost",size:"icon",onClick:a,className:"h-8 w-8",children:o.jsx(ns,{className:"h-4 w-4"})})]})]}):o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(G,{variant:"ghost",onClick:()=>i("/login"),children:"Login"}),o.jsx(G,{onClick:()=>i("/register"),children:"Sign Up"})]})}),o.jsx(G,{variant:"ghost",size:"icon",className:"md:hidden",onClick:u,children:r?o.jsx(is,{className:"h-6 w-6"}):o.jsx(as,{className:"h-6 w-6"})})]})}),o.jsx(yt,{children:r&&o.jsx(gt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white border-t border-gray-200 dark:bg-gray-900 dark:border-gray-700",children:o.jsxs("div",{className:"px-4 py-4 space-y-4",children:[e&&o.jsxs("div",{className:"relative",children:[o.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search media...",className:"w-full pl-10 pr-4 py-2 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),e?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(E,{to:"/dashboard",className:"block px-3 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md dark:text-gray-300 dark:hover:text-white dark:hover:bg-gray-800 transition-colors",onClick:()=>n(!1),children:"Dashboard"}),o.jsx(E,{to:"/media",className:"block px-3 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md dark:text-gray-300 dark:hover:text-white dark:hover:bg-gray-800 transition-colors",onClick:()=>n(!1),children:"Media"}),o.jsx(E,{to:"/favorites",className:"block px-3 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md dark:text-gray-300 dark:hover:text-white dark:hover:bg-gray-800 transition-colors",onClick:()=>n(!1),children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ke,{className:"h-4 w-4"}),"Favorites"]})}),o.jsx(E,{to:"/playlists",className:"block px-3 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md dark:text-gray-300 dark:hover:text-white dark:hover:bg-gray-800 transition-colors",onClick:()=>n(!1),children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ze,{className:"h-4 w-4"}),"Playlists"]})}),o.jsx(E,{to:"/subtitles",className:"block px-3 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md dark:text-gray-300 dark:hover:text-white dark:hover:bg-gray-800 transition-colors",onClick:()=>n(!1),children:"Subtitles"}),o.jsx(E,{to:"/collections",className:"block px-3 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md dark:text-gray-300 dark:hover:text-white dark:hover:bg-gray-800 transition-colors",onClick:()=>n(!1),children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($e,{className:"h-4 w-4"}),"Collections"]})}),o.jsx(E,{to:"/conversion",className:"block px-3 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md dark:text-gray-300 dark:hover:text-white dark:hover:bg-gray-800 transition-colors",onClick:()=>n(!1),children:"Convert"}),(t==null?void 0:t.role)==="admin"&&o.jsx(E,{to:"/admin",className:"block px-3 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md dark:text-gray-300 dark:hover:text-white dark:hover:bg-gray-800 transition-colors",onClick:()=>n(!1),children:"Admin"})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[o.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:(t==null?void 0:t.first_name)||(t==null?void 0:t.username)}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(E,{to:"/profile",className:"block px-3 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md dark:text-gray-300 dark:hover:text-white dark:hover:bg-gray-800 transition-colors",onClick:()=>n(!1),children:"Profile"}),o.jsx(E,{to:"/settings",className:"block px-3 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md dark:text-gray-300 dark:hover:text-white dark:hover:bg-gray-800 transition-colors",onClick:()=>n(!1),children:"Settings"}),o.jsx("button",{onClick:()=>{a(),n(!1)},className:"block w-full text-left px-3 py-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md dark:text-red-400 dark:hover:text-red-300 dark:hover:bg-red-900/20 transition-colors",children:"Logout"})]})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsx(E,{to:"/login",className:"block px-3 py-2 text-center bg-gray-100 text-gray-900 rounded-md hover:bg-gray-200 transition-colors dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700",onClick:()=>n(!1),children:"Login"}),o.jsx(E,{to:"/register",className:"block px-3 py-2 text-center bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:()=>n(!1),children:"Sign Up"})]})]})})})]})},hn=()=>o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(dn,{}),o.jsx("main",{className:"flex-1",children:o.jsx(Wt,{})})]}),L=({children:t,requireAdmin:e=!1,requiredPermission:s,requiredRole:r})=>{const{isAuthenticated:n,isLoading:i,user:a,hasPermission:u}=Le(),c=Vt();return i?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):n?e&&(a==null?void 0:a.role)!=="admin"?o.jsx(Y,{to:"/dashboard",replace:!0}):r&&(a==null?void 0:a.role)!==r?o.jsx(Y,{to:"/dashboard",replace:!0}):s&&!u(s)?o.jsx(Y,{to:"/dashboard",replace:!0}):o.jsx(o.Fragment,{children:t}):o.jsx(Y,{to:"/login",state:{from:c},replace:!0})};class fn extends T.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("ErrorBoundary caught an error:",e,s)}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Something went wrong"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 text-center max-w-md",children:((e=this.state.error)==null?void 0:e.message)||"An unexpected error occurred."}),o.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Try again"})]}):this.props.children}}const pn=T.lazy(()=>Q(()=>import("./LoginForm-DmYC2LBB.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(t=>({default:t.LoginForm}))),mn=T.lazy(()=>Q(()=>import("./RegisterForm-Dh_--fJl.js"),__vite__mapDeps([7,1,2,3,4,5,6])).then(t=>({default:t.RegisterForm}))),yn=T.lazy(()=>Q(()=>import("./Dashboard-CW97Gj2-.js"),__vite__mapDeps([8,1,3,4,5,6,9])).then(t=>({default:t.Dashboard}))),gn=T.lazy(()=>Q(()=>import("./MediaBrowser-C-wk6NNq.js"),__vite__mapDeps([10,1,11,3,12,4,2,13,9,14,5,6])).then(t=>({default:t.MediaBrowser}))),vn=T.lazy(()=>Q(()=>import("./Analytics-BYpN_US6.js"),__vite__mapDeps([15,3,1,9,4,5,6])).then(t=>({default:t.Analytics}))),bn=T.lazy(()=>Q(()=>import("./SubtitleManager-TjnXTn_H.js"),__vite__mapDeps([16,1,9,4,5,6])).then(t=>({default:t.SubtitleManager}))),xn=T.lazy(()=>Q(()=>import("./Collections-CnjrFI1E.js").then(t=>t.C),__vite__mapDeps([17,1,2,18,4,3,5,19])).then(t=>({default:t.Collections}))),wn=T.lazy(()=>Q(()=>import("./ConversionTools-9f69Kl8o.js"),__vite__mapDeps([20,1,3,21,14,2,4,5,6])).then(t=>({default:t.ConversionTools}))),Cn=T.lazy(()=>Q(()=>import("./Admin-0ls_G6tU.js"),__vite__mapDeps([22,1,3,21,14,4,5,6])).then(t=>({default:t.Admin}))),Sn=T.lazy(()=>Q(()=>import("./Favorites-CGCqmRTJ.js"),__vite__mapDeps([23,1,3,18,4,2,11,12,24,5,6]))),kn=T.lazy(()=>Q(()=>import("./Playlists-CL-ws1RH.js"),__vite__mapDeps([25,1,24,2,18,4,13,3,12,9,5,6])).then(t=>({default:t.PlaylistsPage}))),jn=T.lazy(()=>Q(()=>import("./AIDashboard-DVXVG47v.js"),__vite__mapDeps([26,1,19,4,5,6]))),On=()=>o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});function Rn(){return o.jsx(fn,{children:o.jsx(Yr,{children:o.jsx(nn,{children:o.jsxs(Gt,{children:[o.jsx(an,{}),o.jsx(m.Suspense,{fallback:o.jsx(On,{}),children:o.jsxs(Jt,{children:[o.jsx(D,{path:"/login",element:o.jsx(pn,{})}),o.jsx(D,{path:"/register",element:o.jsx(mn,{})}),o.jsxs(D,{path:"/",element:o.jsx(hn,{}),children:[o.jsx(D,{index:!0,element:o.jsx(Y,{to:"/dashboard",replace:!0})}),o.jsx(D,{path:"/dashboard",element:o.jsx(L,{children:o.jsx(yn,{})})}),o.jsx(D,{path:"/media",element:o.jsx(L,{requiredPermission:"read:media",children:o.jsx(gn,{})})}),o.jsx(D,{path:"/analytics",element:o.jsx(L,{requiredPermission:"view:analysis",children:o.jsx(vn,{})})}),o.jsx(D,{path:"/subtitles",element:o.jsx(L,{requiredPermission:"manage:subtitles",children:o.jsx(bn,{})})}),o.jsx(D,{path:"/collections",element:o.jsx(L,{requiredPermission:"read:collections",children:o.jsx(xn,{})})}),o.jsx(D,{path:"/favorites",element:o.jsx(L,{children:o.jsx(Sn,{})})}),o.jsx(D,{path:"/playlists",element:o.jsx(L,{children:o.jsx(kn,{})})}),o.jsx(D,{path:"/conversion",element:o.jsx(L,{requiredPermission:"convert:media",children:o.jsx(wn,{})})}),o.jsx(D,{path:"/admin",element:o.jsx(L,{requireAdmin:!0,children:o.jsx(Cn,{})})}),o.jsx(D,{path:"/ai",element:o.jsx(L,{children:o.jsx(jn,{})})})]}),o.jsx(D,{path:"*",element:o.jsx(Y,{to:"/dashboard",replace:!0})})]})})]})})})})}const En=new Is({defaultOptions:{queries:{retry:(t,e)=>{var s,r;return((s=e==null?void 0:e.response)==null?void 0:s.status)===401||((r=e==null?void 0:e.response)==null?void 0:r.status)===403?!1:t<3},staleTime:1e3*60*5,cacheTime:1e3*60*10},mutations:{retry:!1}}});ds.createRoot(document.getElementById("root")).render(o.jsx(T.StrictMode,{children:o.jsx(se,{children:o.jsxs(Bs,{client:En,children:[o.jsx(Rn,{}),o.jsx(Wr,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{style:{background:"#059669"}},error:{style:{background:"#dc2626"}}}}),o.jsx(ir,{initialIsOpen:!1})]})})}));export{G as B,Q as _,ct as a,z as b,xe as c,_n as d,te as e,cn as f,qn as g,o as j,N as n,In as t,Le as u,R as z};
//# sourceMappingURL=index-BzqIBI_1.js.map
