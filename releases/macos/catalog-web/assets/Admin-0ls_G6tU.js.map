{"version":3,"file":"Admin-0ls_G6tU.js","sources":["../../src/components/admin/AdminPanel.tsx","../../src/lib/adminApi.ts","../../src/pages/Admin.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Users, Settings, HardDrive, Database, Shield, Activity, Download, Upload, RefreshCw } from 'lucide-react';\nimport { Button } from '../ui/Button';\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/Card';\nimport { Badge } from '../ui/Badge';\nimport { Progress } from '../ui/Progress';\n\ninterface SystemInfo {\n  version: string;\n  uptime: number;\n  cpuUsage: number;\n  memoryUsage: number;\n  diskUsage: {\n    total: number;\n    used: number;\n    free: number;\n  };\n  activeConnections: number;\n  totalRequests: number;\n}\n\ninterface User {\n  id: string;\n  username: string;\n  email: string;\n  role: 'admin' | 'user' | 'viewer';\n  status: 'active' | 'inactive' | 'suspended';\n  lastLogin?: string;\n  createdAt: string;\n}\n\ninterface StorageInfo {\n  path: string;\n  totalSpace: number;\n  usedSpace: number;\n  availableSpace: number;\n  mediaCount: number;\n  lastScan?: string;\n}\n\ninterface Backup {\n  id: string;\n  filename: string;\n  size: number;\n  createdAt: string;\n  type: 'full' | 'incremental';\n  status: 'completed' | 'in-progress' | 'failed';\n}\n\ninterface AdminPanelProps {\n  systemInfo: SystemInfo;\n  users: User[];\n  storageInfo: StorageInfo[];\n  backups: Backup[];\n  onCreateBackup?: (type: 'full' | 'incremental') => void;\n  onRestoreBackup?: (id: string) => void;\n  onScanStorage?: (path: string) => void;\n  onUpdateUser?: (id: string, updates: Partial<User>) => void;\n}\n\nexport const AdminPanel: React.FC<AdminPanelProps> = ({\n  systemInfo,\n  users,\n  storageInfo,\n  backups,\n  onCreateBackup,\n  onRestoreBackup,\n  onScanStorage,\n  onUpdateUser\n}) => {\n  const [activeTab, setActiveTab] = useState<'overview' | 'users' | 'storage' | 'backups'>('overview');\n\n  const formatUptime = (seconds: number) => {\n    const days = Math.floor(seconds / 86400);\n    const hours = Math.floor((seconds % 86400) / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    return `${days}d ${hours}h ${minutes}m`;\n  };\n\n  const formatFileSize = (bytes: number) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  const getUserRoleBadge = (role: User['role']) => {\n    const colors = {\n      admin: 'destructive',\n      user: 'default',\n      viewer: 'secondary'\n    } as const;\n\n    return <Badge variant={colors[role]}>{role.toUpperCase()}</Badge>;\n  };\n\n  const getUserStatusBadge = (status: User['status']) => {\n    const colors = {\n      active: 'default',\n      inactive: 'secondary',\n      suspended: 'destructive'\n    } as const;\n\n    return <Badge variant={colors[status]}>{status.toUpperCase()}</Badge>;\n  };\n\n  const getBackupStatusBadge = (status: Backup['status']) => {\n    const colors = {\n      completed: 'default',\n      'in-progress': 'default',\n      failed: 'destructive'\n    } as const;\n\n    return <Badge variant={colors[status]}>{status.replace('-', ' ').toUpperCase()}</Badge>;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-3xl font-bold\">Admin Panel</h2>\n        <Button variant=\"outline\">\n          <RefreshCw className=\"w-4 h-4 mr-2\" />\n          Refresh\n        </Button>\n      </div>\n\n      {/* Navigation Tabs */}\n      <div className=\"border-b border-gray-200\">\n        <nav className=\"flex space-x-8\">\n          {[\n            { id: 'overview', label: 'Overview', icon: Activity },\n            { id: 'users', label: 'Users', icon: Users },\n            { id: 'storage', label: 'Storage', icon: HardDrive },\n            { id: 'backups', label: 'Backups', icon: Database }\n          ].map(({ id, label, icon: Icon }) => (\n            <button\n              key={id}\n              onClick={() => setActiveTab(id as any)}\n              className={`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm transition-colors ${\n                activeTab === id\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              <Icon className=\"w-4 h-4\" />\n              {label}\n            </button>\n          ))}\n        </nav>\n      </div>\n\n      {/* Overview Tab */}\n      {activeTab === 'overview' && (\n        <div className=\"space-y-6\">\n          {/* System Stats */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center\">\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm font-medium text-gray-600\">Version</p>\n                    <p className=\"text-2xl font-bold text-gray-900\">{systemInfo.version}</p>\n                  </div>\n                  <Settings className=\"w-8 h-8 text-blue-500\" />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center\">\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm font-medium text-gray-600\">Uptime</p>\n                    <p className=\"text-2xl font-bold text-gray-900\">{formatUptime(systemInfo.uptime)}</p>\n                  </div>\n                  <Activity className=\"w-8 h-8 text-green-500\" />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center\">\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm font-medium text-gray-600\">Active Connections</p>\n                    <p className=\"text-2xl font-bold text-gray-900\">{systemInfo.activeConnections}</p>\n                  </div>\n                  <Users className=\"w-8 h-8 text-purple-500\" />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center\">\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm font-medium text-gray-600\">Total Requests</p>\n                    <p className=\"text-2xl font-bold text-gray-900\">{systemInfo.totalRequests.toLocaleString()}</p>\n                  </div>\n                  <Activity className=\"w-8 h-8 text-orange-500\" />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Resource Usage */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>System Resources</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div>\n                  <div className=\"flex justify-between mb-2\">\n                    <span className=\"text-sm font-medium\">CPU Usage</span>\n                    <span className=\"text-sm text-gray-600\">{systemInfo.cpuUsage}%</span>\n                  </div>\n                  <Progress value={systemInfo.cpuUsage} />\n                </div>\n                <div>\n                  <div className=\"flex justify-between mb-2\">\n                    <span className=\"text-sm font-medium\">Memory Usage</span>\n                    <span className=\"text-sm text-gray-600\">{systemInfo.memoryUsage}%</span>\n                  </div>\n                  <Progress value={systemInfo.memoryUsage} />\n                </div>\n                <div>\n                  <div className=\"flex justify-between mb-2\">\n                    <span className=\"text-sm font-medium\">Disk Usage</span>\n                    <span className=\"text-sm text-gray-600\">\n                      {formatFileSize(systemInfo.diskUsage.used)} / {formatFileSize(systemInfo.diskUsage.total)}\n                    </span>\n                  </div>\n                  <Progress \n                    value={(systemInfo.diskUsage.used / systemInfo.diskUsage.total) * 100} \n                  />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>Quick Actions</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                <Button \n                  onClick={() => onCreateBackup?.('full')}\n                  className=\"w-full justify-start\"\n                >\n                  <Download className=\"w-4 h-4 mr-2\" />\n                  Create Full Backup\n                </Button>\n                <Button \n                  onClick={() => onCreateBackup?.('incremental')}\n                  variant=\"outline\"\n                  className=\"w-full justify-start\"\n                >\n                  <Download className=\"w-4 h-4 mr-2\" />\n                  Create Incremental Backup\n                </Button>\n                <Button \n                  variant=\"outline\"\n                  className=\"w-full justify-start\"\n                >\n                  <RefreshCw className=\"w-4 h-4 mr-2\" />\n                  Scan All Storage\n                </Button>\n                <Button \n                  variant=\"outline\"\n                  className=\"w-full justify-start\"\n                >\n                  <Shield className=\"w-4 h-4 mr-2\" />\n                  Security Audit\n                </Button>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      )}\n\n      {/* Users Tab */}\n      {activeTab === 'users' && (\n        <Card>\n          <CardHeader>\n            <CardTitle>User Management</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full text-sm\">\n                <thead>\n                  <tr className=\"border-b\">\n                    <th className=\"text-left p-2\">Username</th>\n                    <th className=\"text-left p-2\">Email</th>\n                    <th className=\"text-left p-2\">Role</th>\n                    <th className=\"text-left p-2\">Status</th>\n                    <th className=\"text-left p-2\">Last Login</th>\n                    <th className=\"text-left p-2\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {users.map(user => (\n                    <tr key={user.id} className=\"border-b\">\n                      <td className=\"p-2 font-medium\">{user.username}</td>\n                      <td className=\"p-2\">{user.email}</td>\n                      <td className=\"p-2\">{getUserRoleBadge(user.role)}</td>\n                      <td className=\"p-2\">{getUserStatusBadge(user.status)}</td>\n                      <td className=\"p-2\">\n                        {user.lastLogin ? new Date(user.lastLogin).toLocaleDateString() : 'Never'}\n                      </td>\n                      <td className=\"p-2\">\n                        <Button variant=\"outline\" size=\"sm\">\n                          Edit\n                        </Button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Storage Tab */}\n      {activeTab === 'storage' && (\n        <div className=\"space-y-4\">\n          {storageInfo.map((storage, index) => (\n            <Card key={index}>\n              <CardHeader>\n                <CardTitle className=\"flex items-center justify-between\">\n                  <span>{storage.path}</span>\n                  <Button \n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => onScanStorage?.(storage.path)}\n                  >\n                    <RefreshCw className=\"w-4 h-4 mr-2\" />\n                    Scan\n                  </Button>\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-600\">Total Space</p>\n                    <p className=\"text-lg font-semibold\">{formatFileSize(storage.totalSpace)}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-600\">Used Space</p>\n                    <p className=\"text-lg font-semibold\">{formatFileSize(storage.usedSpace)}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-600\">Available</p>\n                    <p className=\"text-lg font-semibold\">{formatFileSize(storage.availableSpace)}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-600\">Media Count</p>\n                    <p className=\"text-lg font-semibold\">{storage.mediaCount.toLocaleString()}</p>\n                  </div>\n                </div>\n                <div className=\"mt-4\">\n                  <Progress \n                    value={(storage.usedSpace / storage.totalSpace) * 100} \n                    className=\"mb-2\"\n                  />\n                  <p className=\"text-xs text-gray-600\">\n                    {storage.lastScan ? `Last scanned: ${new Date(storage.lastScan).toLocaleString()}` : 'Not scanned yet'}\n                  </p>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n\n      {/* Backups Tab */}\n      {activeTab === 'backups' && (\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between\">\n              <CardTitle>Backup Management</CardTitle>\n              <div className=\"flex gap-2\">\n                <Button onClick={() => onCreateBackup?.('full')}>\n                  <Upload className=\"w-4 h-4 mr-2\" />\n                  Full Backup\n                </Button>\n                <Button variant=\"outline\" onClick={() => onCreateBackup?.('incremental')}>\n                  <Upload className=\"w-4 h-4 mr-2\" />\n                  Incremental\n                </Button>\n              </div>\n            </div>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {backups.map(backup => (\n                <div key={backup.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                  <div className=\"flex-1\">\n                    <h4 className=\"font-medium\">{backup.filename}</h4>\n                    <p className=\"text-sm text-gray-600\">\n                      {formatFileSize(backup.size)} â€¢ Created {new Date(backup.createdAt).toLocaleString()}\n                    </p>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    {getBackupStatusBadge(backup.status)}\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      disabled={backup.status !== 'completed'}\n                      onClick={() => onRestoreBackup?.(backup.id)}\n                    >\n                      <Download className=\"w-4 h-4 mr-2\" />\n                      Restore\n                    </Button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n};","import type { SystemInfo, User, StorageInfo, Backup } from '@/types/admin';\n\nexport const adminApi = {\n  async getSystemInfo(): Promise<SystemInfo> {\n    // Mock implementation - would be replaced with actual API call\n    return {\n      version: '1.0.0',\n      uptime: 86400,\n      cpuUsage: 45,\n      memoryUsage: 62,\n      diskUsage: {\n        total: 1073741824000, // 1TB\n        used: 536870912000, // 500GB\n        free: 536870912000 // 500GB\n      },\n      activeConnections: 12,\n      totalRequests: 15420\n    };\n  },\n\n  async getUsers(): Promise<User[]> {\n    // Mock implementation\n    return [\n      {\n        id: '1',\n        username: 'admin',\n        email: 'admin@catalogizer.local',\n        role: 'admin',\n        status: 'active',\n        lastLogin: '2023-12-09T10:30:00Z',\n        createdAt: '2023-01-01T00:00:00Z'\n      },\n      {\n        id: '2',\n        username: 'user1',\n        email: 'user1@example.com',\n        role: 'user',\n        status: 'active',\n        lastLogin: '2023-12-08T15:45:00Z',\n        createdAt: '2023-02-15T10:30:00Z'\n      }\n    ];\n  },\n\n  async getStorageInfo(): Promise<StorageInfo[]> {\n    // Mock implementation\n    return [\n      {\n        path: '/media/movies',\n        totalSpace: 1073741824000,\n        usedSpace: 751619276800,\n        availableSpace: 322122547200,\n        mediaCount: 1250,\n        lastScan: '2023-12-09T09:00:00Z'\n      },\n      {\n        path: '/media/tv',\n        totalSpace: 536870912000,\n        usedSpace: 268435456000,\n        availableSpace: 268435456000,\n        mediaCount: 850,\n        lastScan: '2023-12-09T08:30:00Z'\n      }\n    ];\n  },\n\n  async getBackups(): Promise<Backup[]> {\n    // Mock implementation\n    return [\n      {\n        id: '1',\n        filename: 'catalogizer-backup-20231209-full.tar.gz',\n        size: 1073741824, // 1GB\n        createdAt: '2023-12-09T05:00:00Z',\n        type: 'full',\n        status: 'completed'\n      },\n      {\n        id: '2',\n        filename: 'catalogizer-backup-20231208-incremental.tar.gz',\n        size: 268435456, // 256MB\n        createdAt: '2023-12-08T05:00:00Z',\n        type: 'incremental',\n        status: 'completed'\n      }\n    ];\n  },\n\n  async createBackup(type: 'full' | 'incremental'): Promise<void> {\n    // Mock implementation\n  },\n\n  async restoreBackup(id: string): Promise<void> {\n    // Mock implementation\n  },\n\n  async scanStorage(path: string): Promise<void> {\n    // Mock implementation\n  },\n\n  async updateUser(id: string, updates: Partial<User>): Promise<void> {\n    // Mock implementation\n  }\n};","import React, { useState, useEffect } from 'react';\nimport { AdminPanel } from '@/components/admin/AdminPanel';\nimport { adminApi } from '@/lib/adminApi';\nimport { useQuery } from '@tanstack/react-query';\nimport toast from 'react-hot-toast';\nimport type { SystemInfo, User, StorageInfo, Backup } from '@/types/admin';\n\nexport const Admin: React.FC = () => {\n  const { data: systemInfo, isLoading: systemLoading } = useQuery({\n    queryKey: ['admin-system-info'],\n    queryFn: () => adminApi.getSystemInfo(),\n    staleTime: 1000 * 60 * 2,\n    refetchInterval: 1000 * 30, // Refresh every 30 seconds\n  });\n\n  const { data: users, isLoading: usersLoading } = useQuery({\n    queryKey: ['admin-users'],\n    queryFn: () => adminApi.getUsers(),\n    staleTime: 1000 * 60 * 5,\n  });\n\n  const { data: storageInfo, isLoading: storageLoading } = useQuery({\n    queryKey: ['admin-storage'],\n    queryFn: () => adminApi.getStorageInfo(),\n    staleTime: 1000 * 60 * 5,\n  });\n\n  const { data: backups, isLoading: backupsLoading } = useQuery({\n    queryKey: ['admin-backups'],\n    queryFn: () => adminApi.getBackups(),\n    staleTime: 1000 * 60 * 2,\n  });\n\n  const handleCreateBackup = async (type: 'full' | 'incremental') => {\n    try {\n      await adminApi.createBackup(type);\n      toast.success(`${type === 'full' ? 'Full' : 'Incremental'} backup started successfully`);\n    } catch (error) {\n      toast.error(`Failed to create backup: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  };\n\n  const handleRestoreBackup = async (id: string) => {\n    try {\n      await adminApi.restoreBackup(id);\n      toast.success('Backup restore initiated successfully');\n    } catch (error) {\n      toast.error(`Failed to restore backup: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  };\n\n  const handleScanStorage = async (path: string) => {\n    try {\n      await adminApi.scanStorage(path);\n      toast.success(`Storage scan initiated for ${path}`);\n    } catch (error) {\n      toast.error(`Failed to scan storage: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  };\n\n  const handleUpdateUser = async (id: string, updates: Partial<User>) => {\n    try {\n      await adminApi.updateUser(id, updates);\n      toast.success('User updated successfully');\n    } catch (error) {\n      toast.error(`Failed to update user: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <AdminPanel\n        systemInfo={systemInfo || {\n          version: '1.0.0',\n          uptime: 86400,\n          cpuUsage: 45,\n          memoryUsage: 62,\n          diskUsage: {\n            total: 1073741824000,\n            used: 536870912000,\n            free: 536870912000\n          },\n          activeConnections: 12,\n          totalRequests: 15420\n        }}\n        users={users || []}\n        storageInfo={storageInfo || []}\n        backups={backups || []}\n        onCreateBackup={handleCreateBackup}\n        onRestoreBackup={handleRestoreBackup}\n        onScanStorage={handleScanStorage}\n        onUpdateUser={handleUpdateUser}\n      />\n    </div>\n  );\n};"],"names":["AdminPanel","systemInfo","users","storageInfo","backups","onCreateBackup","onRestoreBackup","onScanStorage","onUpdateUser","activeTab","setActiveTab","useState","formatUptime","seconds","days","hours","minutes","formatFileSize","bytes","k","sizes","i","getUserRoleBadge","role","colors","jsx","Badge","getUserStatusBadge","status","getBackupStatusBadge","jsxs","Button","RefreshCw","Activity","Users","HardDrive","Database","id","label","Icon","Card","CardContent","Settings","CardHeader","CardTitle","Progress","Download","Shield","user","storage","index","Upload","backup","adminApi","type","path","updates","Admin","systemLoading","useQuery","usersLoading","storageLoading","backupsLoading","handleCreateBackup","toast","error","handleRestoreBackup","handleScanStorage","handleUpdateUser"],"mappings":"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"}