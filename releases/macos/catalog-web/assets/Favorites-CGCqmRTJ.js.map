{"version":3,"file":"Favorites-CGCqmRTJ.js","sources":["../../src/components/favorites/FavoritesGrid.tsx","../../src/pages/Favorites.tsx"],"sourcesContent":["import { useState, useMemo } from 'react'\nimport { \n  Grid, \n  List, \n  Heart, \n  Filter, \n  SortAsc, \n  SortDesc,\n  Star,\n  Calendar,\n  Award\n} from 'lucide-react'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card'\nimport { Button } from '@/components/ui/Button'\nimport { Input } from '@/components/ui/Input'\nimport { Select } from '@/components/ui/Select'\nimport { MediaGrid } from '@/components/media/MediaGrid'\nimport { FavoriteToggle } from './FavoriteToggle'\nimport { useFavorites } from '@/hooks/useFavorites'\nimport type { Favorite } from '@/types/favorites'\nimport type { MediaItem } from '@/types/media'\n\ninterface FavoritesGridProps {\n  className?: string\n  showFilters?: boolean\n  showStats?: boolean\n  selectable?: boolean\n  onSelectChange?: (selectedItems: MediaItem[]) => void\n}\n\nexport const FavoritesGrid: React.FC<FavoritesGridProps> = ({\n  className,\n  showFilters = true,\n  showStats = true,\n  selectable = false,\n  onSelectChange\n}) => {\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid')\n  const [searchQuery, setSearchQuery] = useState('')\n  const [mediaTypeFilter, setMediaTypeFilter] = useState<string>('all')\n  const [sortBy, setSortBy] = useState<'created_at' | 'title' | 'rating' | 'year'>('created_at')\n  const [sortOrder, setSortOrder] = useState<'asc' | 'desc'>('desc')\n  const [selectedItems, setSelectedItems] = useState<number[]>([])\n\n  const {\n    favorites,\n    total,\n    isLoading,\n    error,\n    stats,\n    toggleFavorite\n  } = useFavorites({\n    sort_by: sortBy,\n    sort_order: sortOrder,\n    ...(mediaTypeFilter !== 'all' && { media_type: mediaTypeFilter })\n  })\n\n  // Filter favorites based on search query\n  const filteredFavorites = useMemo(() => {\n    if (!searchQuery) return favorites\n    \n    return favorites.filter(favorite => \n      favorite.media_item.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      favorite.media_item.media_type.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      (favorite.media_item.year?.toString() || '').includes(searchQuery)\n    )\n  }, [favorites, searchQuery])\n\n  // Convert favorites to media items for MediaGrid\n  const mediaItems: MediaItem[] = useMemo(() => {\n    return filteredFavorites.map(favorite => ({\n      id: favorite.media_item.id,\n      title: favorite.media_item.title,\n      media_type: favorite.media_item.media_type,\n      year: favorite.media_item.year,\n      cover_image: favorite.media_item.cover_image,\n      duration: favorite.media_item.duration,\n      rating: favorite.media_item.rating,\n      quality: favorite.media_item.quality,\n      directory_path: '', // Add appropriate path\n      storage_root_name: '',\n      storage_root_protocol: '',\n      created_at: favorite.created_at,\n      updated_at: favorite.updated_at\n    }))\n  }, [filteredFavorites])\n\n  // Enhanced media item with favorite toggle\n  const enhancedMediaItems = useMemo(() => {\n    return mediaItems.map(item => ({\n      ...item,\n      actions: (\n        <div className=\"flex items-center gap-2\">\n          <FavoriteToggle\n            mediaId={item.id}\n            mediaItem={item}\n            variant=\"icon\"\n            size=\"md\"\n          />\n        </div>\n      )\n    }))\n  }, [mediaItems])\n\n  const handleSelectItem = (mediaId: number, selected: boolean) => {\n    if (!selectable) return\n    \n    setSelectedItems(prev => {\n      if (selected) {\n        return [...prev, mediaId]\n      } else {\n        return prev.filter(id => id !== mediaId)\n      }\n    })\n  }\n\n  const handleSelectAll = () => {\n    if (!selectable) return\n    \n    if (selectedItems.length === mediaItems.length) {\n      setSelectedItems([])\n    } else {\n      setSelectedItems(mediaItems.map(item => item.id))\n    }\n  }\n\n  const handleBulkRemoveFromFavorites = () => {\n    if (selectedItems.length === 0) return\n    \n    // TODO: Use bulk remove from favorites hook\n    setSelectedItems([])\n  }\n\n  if (error) {\n    return (\n      <Card className={className}>\n        <CardContent className=\"p-6\">\n          <div className=\"text-center text-red-600\">\n            <Heart className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n            <p>Failed to load favorites</p>\n            <p className=\"text-sm opacity-75 mt-1\">{String(error)}</p>\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <div className={className}>\n      {/* Stats Section */}\n      {showStats && stats && (\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\n          <Card>\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center gap-2\">\n                <Heart className=\"w-5 h-5 text-red-500\" />\n                <div>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">Total</p>\n                  <p className=\"text-xl font-semibold\">{stats.total_count}</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n          \n          <Card>\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center gap-2\">\n                <Star className=\"w-5 h-5 text-yellow-500\" />\n                <div>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">Movies</p>\n                  <p className=\"text-xl font-semibold\">{stats.media_type_breakdown.movie}</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n          \n          <Card>\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center gap-2\">\n                <Award className=\"w-5 h-5 text-blue-500\" />\n                <div>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">TV Shows</p>\n                  <p className=\"text-xl font-semibold\">{stats.media_type_breakdown.tv_show}</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n          \n          <Card>\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center gap-2\">\n                <Calendar className=\"w-5 h-5 text-green-500\" />\n                <div>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">Music</p>\n                  <p className=\"text-xl font-semibold\">{stats.media_type_breakdown.music}</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n\n      {/* Filters Section */}\n      {showFilters && (\n        <Card className=\"mb-6\">\n          <CardHeader>\n            <CardTitle className=\"text-lg\">Filters & Search</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex flex-col lg:flex-row gap-4\">\n              {/* Search */}\n              <div className=\"flex-1\">\n                <Input\n                  placeholder=\"Search favorites...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"w-full\"\n                />\n              </div>\n              \n              {/* Media Type Filter */}\n              <Select value={mediaTypeFilter} onValueChange={setMediaTypeFilter}>\n                <option value=\"all\">All Types</option>\n                <option value=\"movie\">Movies</option>\n                <option value=\"tv_show\">TV Shows</option>\n                <option value=\"music\">Music</option>\n                <option value=\"game\">Games</option>\n                <option value=\"documentary\">Documentaries</option>\n                <option value=\"anime\">Anime</option>\n              </Select>\n              \n              {/* Sort Options */}\n              <div className=\"flex gap-2\">\n                <Select value={sortBy} onValueChange={(value: any) => setSortBy(value)}>\n                  <option value=\"created_at\">Date Added</option>\n                  <option value=\"title\">Title</option>\n                  <option value=\"rating\">Rating</option>\n                  <option value=\"year\">Year</option>\n                </Select>\n                \n                <Button\n                  variant=\"outline\"\n                  size=\"icon\"\n                  onClick={() => setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc')}\n                  title={`Sort ${sortOrder === 'asc' ? 'descending' : 'ascending'}`}\n                >\n                  {sortOrder === 'asc' ? <SortAsc className=\"w-4 h-4\" /> : <SortDesc className=\"w-4 h-4\" />}\n                </Button>\n              </div>\n              \n              {/* View Mode */}\n              <div className=\"flex gap-2\">\n                <Button\n                  variant={viewMode === 'grid' ? 'default' : 'outline'}\n                  size=\"icon\"\n                  onClick={() => setViewMode('grid')}\n                  title=\"Grid view\"\n                >\n                  <Grid className=\"w-4 h-4\" />\n                </Button>\n                <Button\n                  variant={viewMode === 'list' ? 'default' : 'outline'}\n                  size=\"icon\"\n                  onClick={() => setViewMode('list')}\n                  title=\"List view\"\n                >\n                  <List className=\"w-4 h-4\" />\n                </Button>\n              </div>\n            </div>\n            \n            {/* Bulk Actions */}\n            {selectable && selectedItems.length > 0 && (\n              <div className=\"mt-4 flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n                <span className=\"text-sm text-blue-700 dark:text-blue-300\">\n                  {selectedItems.length} items selected\n                </span>\n                <div className=\"flex gap-2\">\n                  <Button variant=\"outline\" onClick={() => setSelectedItems([])}>\n                    Clear Selection\n                  </Button>\n                  <Button \n                    variant=\"destructive\" \n                    onClick={handleBulkRemoveFromFavorites}\n                  >\n                    Remove from Favorites\n                  </Button>\n                </div>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Favorites Grid/List */}\n      <Card>\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle>\n            Favorites ({filteredFavorites.length})\n          </CardTitle>\n          {selectable && (\n            <Button variant=\"outline\" onClick={handleSelectAll}>\n              {selectedItems.length === mediaItems.length ? 'Deselect All' : 'Select All'}\n            </Button>\n          )}\n        </CardHeader>\n        <CardContent>\n          {isLoading ? (\n            <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n              {Array.from({ length: 12 }).map((_, index) => (\n                <div key={index} className=\"animate-pulse\">\n                  <div className=\"bg-gray-200 dark:bg-gray-700 rounded-lg aspect-video mb-2\"></div>\n                  <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-1\"></div>\n                  <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded w-3/4\"></div>\n                </div>\n              ))}\n            </div>\n          ) : filteredFavorites.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <Heart className=\"w-16 h-16 mx-auto mb-4 text-gray-400\" />\n              <h3 className=\"text-lg font-semibold mb-2\">\n                {searchQuery ? 'No favorites found' : 'No favorites yet'}\n              </h3>\n              <p className=\"text-gray-600 dark:text-gray-400\">\n                {searchQuery \n                  ? 'Try adjusting your search or filters'\n                  : 'Start adding items to your favorites to see them here'\n                }\n              </p>\n            </div>\n          ) : (\n            <MediaGrid\n              media={enhancedMediaItems}\n              viewMode={viewMode}\n              onMediaView={() => {/* TODO: implement media view */}}\n              onMediaPlay={() => {/* TODO: implement media play */}}\n              onMediaDownload={() => {/* TODO: implement media download */}}\n              onSelect={selectable ? handleSelectItem : undefined}\n              selectedItems={selectedItems}\n              showActions={true}\n            />\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  )\n}","import { useState } from 'react'\nimport { Heart, Settings, Download, Upload } from 'lucide-react'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card'\nimport { Button } from '@/components/ui/Button'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/Tabs'\nimport { FavoritesGrid } from '@/components/favorites/FavoritesGrid'\nimport { PageHeader } from '@/components/layout/PageHeader'\nimport { useFavorites } from '@/hooks/useFavorites'\nimport { cn } from '@/lib/utils'\n\nconst FavoritesPage: React.FC = () => {\n  const [showBulkActions, setShowBulkActions] = useState(false)\n  const { stats, refetchStats } = useFavorites()\n\n  const handleExportFavorites = () => {\n    // TODO: implement export favorites to JSON/CSV\n  }\n\n  const handleImportFavorites = () => {\n    // TODO: implement import favorites from file\n  }\n\n  const handleBulkOperations = () => {\n    setShowBulkActions(!showBulkActions)\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n      <PageHeader\n        title=\"My Favorites\"\n        subtitle=\"Manage your favorite media items\"\n        icon={<Heart className=\"w-6 h-6\" />}\n        actions={\n          <div className=\"flex gap-2\">\n            <Button\n              variant=\"outline\"\n              onClick={handleBulkOperations}\n              className={cn(\n                'transition-colors',\n                showBulkActions && 'bg-blue-50 border-blue-300 text-blue-700 dark:bg-blue-900/20 dark:border-blue-600 dark:text-blue-300'\n              )}\n            >\n              <Settings className=\"w-4 h-4 mr-2\" />\n              Bulk Actions\n            </Button>\n            <Button variant=\"outline\" onClick={handleImportFavorites}>\n              <Upload className=\"w-4 h-4 mr-2\" />\n              Import\n            </Button>\n            <Button variant=\"outline\" onClick={handleExportFavorites}>\n              <Download className=\"w-4 h-4 mr-2\" />\n              Export\n            </Button>\n          </div>\n        }\n      />\n\n      <div className=\"container mx-auto px-4 py-6\">\n        <Tabs defaultValue=\"favorites\" className=\"space-y-6\">\n          <TabsList>\n            <TabsTrigger value=\"favorites\">Favorites</TabsTrigger>\n            <TabsTrigger value=\"recent\">Recently Added</TabsTrigger>\n            <TabsTrigger value=\"stats\">Statistics</TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"favorites\">\n            <FavoritesGrid\n              showFilters={true}\n              showStats={true}\n              selectable={showBulkActions}\n            />\n          </TabsContent>\n\n          <TabsContent value=\"recent\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Recently Added Favorites</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <FavoritesGrid\n                  showFilters={false}\n                  showStats={false}\n                  selectable={showBulkActions}\n                />\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"stats\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>Favorite Statistics</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  {stats ? (\n                    <div className=\"space-y-4\">\n                      <div className=\"flex justify-between items-center\">\n                        <span className=\"text-gray-600 dark:text-gray-400\">Total Favorites</span>\n                        <span className=\"text-2xl font-bold\">{stats.total_count}</span>\n                      </div>\n                      \n                      <div className=\"border-t pt-4\">\n                        <h4 className=\"font-medium mb-3\">By Media Type</h4>\n                        <div className=\"space-y-2\">\n                          {Object.entries(stats.media_type_breakdown).map(([type, count]) => (\n                            <div key={type} className=\"flex justify-between items-center\">\n                              <span className=\"capitalize text-gray-600 dark:text-gray-400\">\n                                {type.replace('_', ' ')}\n                              </span>\n                              <span className=\"font-medium\">{count}</span>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"animate-pulse\">\n                      <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-3\"></div>\n                      <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded mb-4\"></div>\n                      <div className=\"space-y-2\">\n                        <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n                        <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded w-5/6\"></div>\n                        <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded w-4/6\"></div>\n                      </div>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>Favorite Insights</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    <div className=\"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n                      <h4 className=\"font-medium text-blue-900 dark:text-blue-100 mb-2\">\n                        Most Common Type\n                      </h4>\n                      {stats && (\n                        <p className=\"text-blue-700 dark:text-blue-300\">\n                          {Object.entries(stats.media_type_breakdown).reduce((a, b) => \n                            a[1] > b[1] ? a : b\n                          )[0].replace('_', ' ')}\n                        </p>\n                      )}\n                    </div>\n\n                    <div className=\"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg\">\n                      <h4 className=\"font-medium text-green-900 dark:text-green-100 mb-2\">\n                        Recent Activity\n                      </h4>\n                      <p className=\"text-green-700 dark:text-green-300\">\n                        {stats?.recent_additions?.length || 0} items added in the last week\n                      </p>\n                    </div>\n\n                    <div className=\"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg\">\n                      <h4 className=\"font-medium text-purple-900 dark:text-purple-100 mb-2\">\n                        Storage Impact\n                      </h4>\n                      <p className=\"text-purple-700 dark:text-purple-300\">\n                        Favorites help you quickly access your most-loved content\n                      </p>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  )\n}\n\nexport default FavoritesPage"],"names":["FavoritesGrid","className","showFilters","showStats","selectable","onSelectChange","viewMode","setViewMode","useState","searchQuery","setSearchQuery","mediaTypeFilter","setMediaTypeFilter","sortBy","setSortBy","sortOrder","setSortOrder","selectedItems","setSelectedItems","favorites","isLoading","error","stats","useFavorites","filteredFavorites","useMemo","favorite","_a","mediaItems","enhancedMediaItems","item","jsx","FavoriteToggle","handleSelectItem","mediaId","selected","prev","id","handleSelectAll","handleBulkRemoveFromFavorites","Card","CardContent","jsxs","Heart","Star","Award","Calendar","CardHeader","CardTitle","Input","e","Select","value","Button","SortAsc","SortDesc","Grid","List","_","index","MediaGrid","FavoritesPage","showBulkActions","setShowBulkActions","handleExportFavorites","handleImportFavorites","handleBulkOperations","PageHeader","cn","Settings","Upload","Download","Tabs","TabsList","TabsTrigger","TabsContent","type","count","b"],"mappings":"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"}