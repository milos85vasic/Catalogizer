{"version":3,"file":"Dashboard-CW97Gj2-.js","sources":["../../src/components/dashboard/DashboardStats.tsx","../../src/components/dashboard/MediaDistributionChart.tsx","../../src/components/dashboard/ActivityFeed.tsx","../../src/pages/Dashboard.tsx"],"sourcesContent":["import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card'\nimport { \n  Database, \n  HardDrive, \n  PlusCircle, \n  Zap,\n  TrendingUp,\n  TrendingDown,\n  Users,\n  PlayCircle,\n  Clock\n} from 'lucide-react'\n\ninterface StatCardProps {\n  title: string\n  value: string | number\n  icon: React.ComponentType<{ className?: string }>\n  trend?: {\n    value: number\n    isPositive: boolean\n  }\n  description?: string\n  loading?: boolean\n}\n\nexport const StatCard: React.FC<StatCardProps> = ({\n  title,\n  value,\n  icon: Icon,\n  trend,\n  description,\n  loading = false\n}) => {\n  return (\n    <Card className=\"relative overflow-hidden\">\n      <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n        <CardTitle className=\"text-sm font-medium\">{title}</CardTitle>\n        <Icon className=\"h-4 w-4 text-muted-foreground\" />\n      </CardHeader>\n      <CardContent>\n        <div className=\"text-2xl font-bold\">\n          {loading ? (\n            <div className=\"h-8 w-20 bg-gray-200 animate-pulse rounded\" />\n          ) : (\n            value\n          )}\n        </div>\n        {(trend || description) && (\n          <div className=\"flex items-center space-x-2 text-xs text-muted-foreground mt-1\">\n            {trend && (\n              <div className={`flex items-center space-x-1 ${\n                trend.isPositive ? 'text-green-600' : 'text-red-600'\n              }`}>\n                {trend.isPositive ? (\n                  <TrendingUp className=\"h-3 w-3\" />\n                ) : (\n                  <TrendingDown className=\"h-3 w-3\" />\n                )}\n                <span>{Math.abs(trend.value)}%</span>\n              </div>\n            )}\n            {description && (\n              <span>{description}</span>\n            )}\n          </div>\n        )}\n      </CardContent>\n      \n      {/* Decorative background pattern */}\n      <div className=\"absolute top-0 right-0 -z-10 opacity-10\">\n        <Icon className=\"h-16 w-16\" />\n      </div>\n    </Card>\n  )\n}\n\ninterface DashboardStatsProps {\n  mediaStats?: {\n    total_items: number\n    total_size: number\n    recent_additions: number\n    by_type: Record<string, number>\n    by_quality: Record<string, number>\n  }\n  userStats?: {\n    active_users: number\n    total_users: number\n    sessions_today: number\n    avg_session_duration: number\n  }\n  loading?: boolean\n}\n\nexport const DashboardStats: React.FC<DashboardStatsProps> = ({\n  mediaStats,\n  userStats,\n  loading = false\n}) => {\n  const formatBytes = (bytes: number) => {\n    const sizes = ['B', 'KB', 'MB', 'GB', 'TB']\n    if (bytes === 0) return '0 B'\n    const i = Math.floor(Math.log(bytes) / Math.log(1024))\n    return `${Math.round(bytes / Math.pow(1024, i) * 100) / 100} ${sizes[i]}`\n  }\n\n  const formatDuration = (minutes: number) => {\n    if (minutes < 60) return `${minutes}m`\n    const hours = Math.floor(minutes / 60)\n    const mins = minutes % 60\n    return `${hours}h ${mins}m`\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n      {/* Total Media Items */}\n      <StatCard\n        title=\"Total Media\"\n        value={mediaStats?.total_items.toLocaleString() || '0'}\n        icon={Database}\n        trend={{\n          value: 12.5,\n          isPositive: true\n        }}\n        description=\"vs last month\"\n        loading={loading}\n      />\n      \n      {/* Storage Used */}\n      <StatCard\n        title=\"Storage Used\"\n        value={formatBytes(mediaStats?.total_size || 0)}\n        icon={HardDrive}\n        trend={{\n          value: 8.2,\n          isPositive: true\n        }}\n        description=\"vs last month\"\n        loading={loading}\n      />\n      \n      {/* Recent Additions */}\n      <StatCard\n        title=\"Recent Additions\"\n        value={mediaStats?.recent_additions || 0}\n        icon={PlusCircle}\n        trend={{\n          value: 15.3,\n          isPositive: true\n        }}\n        description=\"last 7 days\"\n        loading={loading}\n      />\n      \n      {/* Average Quality Score */}\n      <StatCard\n        title=\"Quality Score\"\n        value=\"HD\"\n        icon={Zap}\n        trend={{\n          value: 5.7,\n          isPositive: true\n        }}\n        description=\"average quality\"\n        loading={loading}\n      />\n      \n      {/* Active Users */}\n      <StatCard\n        title=\"Active Users\"\n        value={userStats?.active_users.toLocaleString() || '0'}\n        icon={Users}\n        trend={{\n          value: 3.2,\n          isPositive: true\n        }}\n        description=\"online now\"\n        loading={loading}\n      />\n      \n      {/* Total Users */}\n      <StatCard\n        title=\"Total Users\"\n        value={userStats?.total_users.toLocaleString() || '0'}\n        icon={Users}\n        trend={{\n          value: 18.7,\n          isPositive: true\n        }}\n        description=\"registered users\"\n        loading={loading}\n      />\n      \n      {/* Sessions Today */}\n      <StatCard\n        title=\"Sessions Today\"\n        value={userStats?.sessions_today.toLocaleString() || '0'}\n        icon={PlayCircle}\n        trend={{\n          value: 22.1,\n          isPositive: true\n        }}\n        description=\"viewing sessions\"\n        loading={loading}\n      />\n      \n      {/* Avg Session Duration */}\n      <StatCard\n        title=\"Avg Session\"\n        value={formatDuration(userStats?.avg_session_duration || 0)}\n        icon={Clock}\n        trend={{\n          value: 7.5,\n          isPositive: false\n        }}\n        description=\"viewing duration\"\n        loading={loading}\n      />\n    </div>\n  )\n}","import { \n  PieChart, \n  Pie, \n  Cell, \n  ResponsiveContainer, \n  Legend, \n  Tooltip\n} from 'recharts'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card'\nimport { PieChart as PieChartIcon } from 'lucide-react'\n\ninterface MediaDistributionData {\n  name: string\n  value: number\n  color: string\n}\n\ninterface MediaDistributionChartProps {\n  data?: Record<string, number>\n  loading?: boolean\n}\n\nconst COLORS = {\n  video: '#3b82f6', // blue\n  audio: '#10b981', // emerald\n  image: '#f59e0b', // amber\n  document: '#6b7280', // gray\n  other: '#ef4444' // red\n}\n\nexport const MediaDistributionChart: React.FC<MediaDistributionChartProps> = ({\n  data,\n  loading = false\n}) => {\n  const formatData = (): MediaDistributionData[] => {\n    if (!data) return []\n    \n    return Object.entries(data).map(([key, value]) => ({\n      name: key.charAt(0).toUpperCase() + key.slice(1),\n      value,\n      color: COLORS[key as keyof typeof COLORS] || COLORS.other\n    }))\n  }\n\n  const chartData = formatData()\n\n  const CustomTooltip = ({ active, payload }: any) => {\n    if (active && payload && payload.length) {\n      const data = payload[0].payload\n      const total = chartData.reduce((sum, item) => sum + item.value, 0)\n      const percentage = ((data.value / total) * 100).toFixed(1)\n      \n      return (\n        <div className=\"bg-white p-3 border border-gray-200 rounded-lg shadow-lg\">\n          <p className=\"font-semibold text-gray-900\">{data.name}</p>\n          <p className=\"text-sm text-gray-600\">\n            {data.value.toLocaleString()} files ({percentage}%)\n          </p>\n        </div>\n      )\n    }\n    return null\n  }\n\n  const renderCustomizedLabel = ({\n    cx, cy, midAngle, innerRadius, outerRadius, percent\n  }: any) => {\n    const RADIAN = Math.PI / 180\n    const radius = innerRadius + (outerRadius - innerRadius) * 0.5\n    const x = cx + radius * Math.cos(-midAngle * RADIAN)\n    const y = cy + radius * Math.sin(-midAngle * RADIAN)\n\n    if (percent < 0.05) return null // Don't show label for small slices\n\n    return (\n      <text \n        x={x} \n        y={y} \n        fill=\"white\" \n        textAnchor={x > cx ? 'start' : 'end'} \n        dominantBaseline=\"central\"\n        className=\"text-xs font-medium\"\n      >\n        {`${(percent * 100).toFixed(0)}%`}\n      </text>\n    )\n  }\n\n  if (loading) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <PieChartIcon className=\"h-5 w-5\" />\n            Media Distribution\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"h-80 flex items-center justify-center\">\n            <div className=\"animate-pulse space-y-4 w-full\">\n              <div className=\"h-4 bg-gray-200 rounded w-1/2 mx-auto\"></div>\n              <div className=\"h-48 bg-gray-200 rounded-full mx-auto\"></div>\n              <div className=\"flex space-x-4 justify-center\">\n                <div className=\"h-3 bg-gray-200 rounded w-16\"></div>\n                <div className=\"h-3 bg-gray-200 rounded w-16\"></div>\n                <div className=\"h-3 bg-gray-200 rounded w-16\"></div>\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  if (!chartData || chartData.length === 0) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <PieChartIcon className=\"h-5 w-5\" />\n            Media Distribution\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"h-80 flex items-center justify-center\">\n            <div className=\"text-center\">\n              <PieChartIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n              <p className=\"text-gray-500\">No media data available</p>\n              <p className=\"text-sm text-gray-400\">Media will appear here once scanned</p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <PieChartIcon className=\"h-5 w-5\" />\n          Media Distribution\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <ResponsiveContainer width=\"100%\" height={320}>\n          <PieChart>\n            <Pie\n              data={chartData}\n              cx=\"50%\"\n              cy=\"50%\"\n              labelLine={false}\n              label={renderCustomizedLabel}\n              outerRadius={100}\n              fill=\"#8884d8\"\n              dataKey=\"value\"\n            >\n              {chartData.map((entry, index) => (\n                <Cell key={`cell-${index}`} fill={entry.color} />\n              ))}\n            </Pie>\n            <Tooltip content={<CustomTooltip />} />\n            <Legend \n              formatter={(value, entry: any) => (\n                <span style={{ color: entry.color }}>\n                  {value}: {entry.payload.value.toLocaleString()}\n                </span>\n              )}\n              verticalAlign=\"bottom\"\n              height={36}\n            />\n          </PieChart>\n        </ResponsiveContainer>\n      </CardContent>\n    </Card>\n  )\n}","import { useState, useEffect } from 'react'\nimport { useWebSocket } from '@/lib/websocket'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card'\nimport { Button } from '@/components/ui/Button'\nimport { \n  Activity, \n  Play, \n  Upload, \n  Download, \n  Users, \n  Settings,\n  Eye,\n  Clock,\n  Filter\n} from 'lucide-react'\nimport { formatDistanceToNow } from 'date-fns'\nimport type { ActivityItem } from '@/types/dashboard'\nimport type { WebSocketMessage } from '@/lib/websocket'\n\ninterface ActivityFeedProps {\n  limit?: number\n  showFilters?: boolean\n}\n\nconst ACTIVITY_ICONS = {\n  media_played: Play,\n  media_uploaded: Upload,\n  media_downloaded: Download,\n  user_login: Users,\n  system_event: Settings,\n  media_viewed: Eye\n}\n\nconst ACTIVITY_COLORS = {\n  media_played: 'text-green-600 bg-green-100',\n  media_uploaded: 'text-blue-600 bg-blue-100',\n  media_downloaded: 'text-purple-600 bg-purple-100',\n  user_login: 'text-orange-600 bg-orange-100',\n  system_event: 'text-gray-600 bg-gray-100',\n  media_viewed: 'text-indigo-600 bg-indigo-100'\n}\n\nconst ACTIVITY_MESSAGES = {\n  media_played: (data: any) => `Started watching \"${data.title}\"`,\n  media_uploaded: (data: any) => `Uploaded \"${data.title}\"`,\n  media_downloaded: (data: any) => `Downloaded \"${data.title}\"`,\n  user_login: (data: any) => `User \"${data.username}\" logged in`,\n  system_event: (data: any) => data.message,\n  media_viewed: (data: any) => `Viewed \"${data.title}\"`\n}\n\nexport const ActivityFeed: React.FC<ActivityFeedProps> = ({\n  limit = 10,\n  showFilters = true\n}) => {\n  const [activities, setActivities] = useState<ActivityItem[]>([])\n  const [filter, setFilter] = useState<string>('all')\n  const [loading, setLoading] = useState(true)\n\n  // Fetch initial activities\n  useEffect(() => {\n    const fetchActivities = async () => {\n      try {\n        setLoading(true)\n        // Mock data for now - replace with actual API call\n        const mockActivities: ActivityItem[] = [\n          {\n            id: '1',\n            type: 'media_played',\n            title: 'Sample Movie.mp4',\n            user: 'John Doe',\n            timestamp: new Date(Date.now() - 1000 * 60 * 5), // 5 minutes ago\n            metadata: {\n              title: 'Sample Movie.mp4',\n              duration: '2h 15m',\n              quality: '1080p'\n            }\n          },\n          {\n            id: '2',\n            type: 'media_uploaded',\n            title: 'New Episode.mkv',\n            user: 'Jane Smith',\n            timestamp: new Date(Date.now() - 1000 * 60 * 15), // 15 minutes ago\n            metadata: {\n              title: 'New Episode.mkv',\n              size: '1.2GB',\n              format: 'MKV'\n            }\n          },\n          {\n            id: '3',\n            type: 'user_login',\n            title: 'User Activity',\n            user: 'Mike Johnson',\n            timestamp: new Date(Date.now() - 1000 * 60 * 30), // 30 minutes ago\n            metadata: {\n              username: 'Mike Johnson',\n              ip: '192.168.1.100'\n            }\n          },\n          {\n            id: '4',\n            type: 'system_event',\n            title: 'System Update',\n            user: 'System',\n            timestamp: new Date(Date.now() - 1000 * 60 * 60), // 1 hour ago\n            metadata: {\n              message: 'Library scan completed successfully'\n            }\n          }\n        ]\n        \n        setActivities(mockActivities)\n      } catch (error) {\n        console.error('Failed to fetch activities:', error)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchActivities()\n  }, [])\n\n  // Filter activities\n  const filteredActivities = activities.filter(activity => {\n    if (filter === 'all') return true\n    return activity.type === filter\n  }).slice(0, limit)\n\n  const ActivityItem: React.FC<{ activity: ActivityItem }> = ({ activity }) => {\n    const Icon = ACTIVITY_ICONS[activity.type] || Activity\n    const colorClass = ACTIVITY_COLORS[activity.type] || ACTIVITY_COLORS.system_event\n    const getMessage = ACTIVITY_MESSAGES[activity.type] || ((data: any) => data.title)\n\n    return (\n      <div className=\"flex items-start space-x-3 p-4 hover:bg-gray-50 transition-colors\">\n        <div className={`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${colorClass}`}>\n          <Icon className=\"w-5 h-5\" />\n        </div>\n        \n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center justify-between\">\n            <p className=\"text-sm font-medium text-gray-900 truncate\">\n              {getMessage(activity.metadata)}\n            </p>\n            <span className=\"text-xs text-gray-500 whitespace-nowrap ml-2\">\n              {formatDistanceToNow(activity.timestamp, { addSuffix: true })}\n            </span>\n          </div>\n          \n          <div className=\"flex items-center space-x-2 mt-1\">\n            <span className=\"text-xs text-gray-500\">\n              {activity.user}\n            </span>\n            \n            {/* Additional metadata based on activity type */}\n            {activity.type === 'media_played' && (\n              <span className=\"text-xs text-gray-400\">\n                • {activity.metadata.quality} • {activity.metadata.duration}\n              </span>\n            )}\n            \n            {activity.type === 'media_uploaded' && (\n              <span className=\"text-xs text-gray-400\">\n                • {activity.metadata.size} • {activity.metadata.format}\n              </span>\n            )}\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  if (loading) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Activity className=\"h-5 w-5\" />\n            Recent Activity\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {[...Array(5)].map((_, i) => (\n              <div key={i} className=\"flex items-start space-x-3 animate-pulse\">\n                <div className=\"w-10 h-10 bg-gray-200 rounded-full\"></div>\n                <div className=\"flex-1 space-y-2\">\n                  <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n                  <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <Card>\n      <CardHeader className=\"flex flex-row items-center justify-between\">\n        <CardTitle className=\"flex items-center gap-2\">\n          <Activity className=\"h-5 w-5\" />\n          Recent Activity\n        </CardTitle>\n        \n        {showFilters && (\n          <div className=\"flex items-center space-x-2\">\n            <Button\n              variant={filter === 'all' ? 'default' : 'ghost'}\n              size=\"sm\"\n              onClick={() => setFilter('all')}\n            >\n              All\n            </Button>\n            <Button\n              variant={filter === 'media_played' ? 'default' : 'ghost'}\n              size=\"sm\"\n              onClick={() => setFilter('media_played')}\n            >\n              Playing\n            </Button>\n            <Button\n              variant={filter === 'media_uploaded' ? 'default' : 'ghost'}\n              size=\"sm\"\n              onClick={() => setFilter('media_uploaded')}\n            >\n              Uploads\n            </Button>\n          </div>\n        )}\n      </CardHeader>\n      \n      <CardContent className=\"p-0\">\n        {filteredActivities.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center py-12\">\n            <Activity className=\"h-12 w-12 text-gray-400 mb-4\" />\n            <p className=\"text-gray-500 text-center\">\n              No recent activity\n              {filter !== 'all' && (\n                <span>\n                  {' '}in the <span className=\"font-medium\">{filter}</span> category\n                </span>\n              )}\n            </p>\n            <p className=\"text-sm text-gray-400 text-center\">\n              Activity will appear here as users interact with media\n            </p>\n          </div>\n        ) : (\n          <div className=\"max-h-96 overflow-y-auto\">\n            {filteredActivities.map(activity => (\n              <ActivityItem key={activity.id} activity={activity} />\n            ))}\n          </div>\n        )}\n        \n        {activities.length > limit && (\n          <div className=\"p-4 border-t border-gray-100\">\n            <Button variant=\"outline\" className=\"w-full\">\n              View All Activities\n            </Button>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  )\n}","import { useState, useEffect } from 'react'\nimport { useAuth } from '@/contexts/AuthContext'\nimport { useQuery } from '@tanstack/react-query'\nimport { DashboardStats } from '@/components/dashboard/DashboardStats'\nimport { MediaDistributionChart } from '@/components/dashboard/MediaDistributionChart'\nimport { ActivityFeed } from '@/components/dashboard/ActivityFeed'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card'\nimport { Button } from '@/components/ui/Button'\nimport { mediaApi } from '@/lib/mediaApi'\nimport {\n  Film,\n  Upload,\n  Search,\n  Settings,\n  Activity,\n  HardDrive,\n  Zap,\n  Clock\n} from 'lucide-react'\nimport { motion } from 'framer-motion'\nimport toast from 'react-hot-toast'\nimport type { MediaStats, UserStats, QuickAction } from '@/types/dashboard'\n\nconst QuickActions: React.FC = () => {\n  const handleUploadMedia = () => {\n    // Navigate to upload page or open upload modal\n    toast.success('Opening upload interface...')\n  }\n\n  const handleScanLibrary = () => {\n    // Trigger library scan\n    toast.promise(\n      mediaApi.analyzeDirectory('/'),\n      {\n        loading: 'Scanning library...',\n        success: 'Library scan started',\n        error: 'Failed to start scan'\n      }\n    )\n  }\n\n  const handleSearchMedia = () => {\n    // Navigate to media browser with focus on search\n    toast.success('Opening search interface...')\n  }\n\n  const handleSettings = () => {\n    // Navigate to settings\n    toast.success('Opening settings...')\n  }\n\n  const quickActions: QuickAction[] = [\n    {\n      id: 'upload',\n      title: 'Upload Media',\n      description: 'Add new media to your library',\n      icon: Upload,\n      action: handleUploadMedia,\n      variant: 'default'\n    },\n    {\n      id: 'scan',\n      title: 'Scan Library',\n      description: 'Update media library with new files',\n      icon: Activity,\n      action: handleScanLibrary,\n      variant: 'outline'\n    },\n    {\n      id: 'search',\n      title: 'Search',\n      description: 'Find specific media quickly',\n      icon: Search,\n      action: handleSearchMedia,\n      variant: 'outline'\n    },\n    {\n      id: 'settings',\n      title: 'Settings',\n      description: 'Configure system preferences',\n      icon: Settings,\n      action: handleSettings,\n      variant: 'outline'\n    }\n  ]\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>Quick Actions</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\n          {quickActions.map(action => {\n            const Icon = action.icon\n            return (\n              <Button\n                key={action.id}\n                variant={action.variant}\n                onClick={action.action}\n                className=\"h-auto p-4 flex flex-col items-center space-y-2\"\n              >\n                <Icon className=\"w-6 h-6\" />\n                <span className=\"text-sm font-medium\">{action.title}</span>\n              </Button>\n            )\n          })}\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n\nconst SystemStatus: React.FC = () => {\n  const [status, setStatus] = useState({\n    cpu: 45,\n    memory: 62,\n    disk: 78,\n    network: true,\n    uptime: '5d 12h 34m'\n  })\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <Activity className=\"h-5 w-5\" />\n          System Status\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-4\">\n          {/* CPU Usage */}\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between text-sm\">\n              <span>CPU Usage</span>\n              <span>{status.cpu}%</span>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n              <div \n                className={`h-2 rounded-full ${\n                  status.cpu > 80 ? 'bg-red-500' : \n                  status.cpu > 60 ? 'bg-yellow-500' : 'bg-green-500'\n                }`}\n                style={{ width: `${status.cpu}%` }}\n              />\n            </div>\n          </div>\n\n          {/* Memory Usage */}\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between text-sm\">\n              <span>Memory Usage</span>\n              <span>{status.memory}%</span>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n              <div \n                className={`h-2 rounded-full ${\n                  status.memory > 80 ? 'bg-red-500' : \n                  status.memory > 60 ? 'bg-yellow-500' : 'bg-green-500'\n                }`}\n                style={{ width: `${status.memory}%` }}\n              />\n            </div>\n          </div>\n\n          {/* Disk Usage */}\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between text-sm\">\n              <span>Disk Usage</span>\n              <span>{status.disk}%</span>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n              <div \n                className={`h-2 rounded-full ${\n                  status.disk > 80 ? 'bg-red-500' : \n                  status.disk > 60 ? 'bg-yellow-500' : 'bg-green-500'\n                }`}\n                style={{ width: `${status.disk}%` }}\n              />\n            </div>\n          </div>\n\n          {/* Additional Status */}\n          <div className=\"flex justify-between text-sm pt-2 border-t\">\n            <span>Network</span>\n            <span className={status.network ? 'text-green-600' : 'text-red-600'}>\n              {status.network ? 'Online' : 'Offline'}\n            </span>\n          </div>\n          <div className=\"flex justify-between text-sm\">\n            <span>Uptime</span>\n            <span>{status.uptime}</span>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport const Dashboard: React.FC = () => {\n  const { user } = useAuth()\n\n  // Fetch media statistics\n  const { \n    data: mediaStats, \n    isLoading: mediaLoading, \n    error: mediaError \n  } = useQuery(\n    ['media-stats'],\n    () => mediaApi.getMediaStats(),\n    {\n      refetchInterval: 30000, // Refresh every 30 seconds\n      staleTime: 10000\n    }\n  )\n\n  // Fetch user statistics (mock for now)\n  const userStats: UserStats = {\n    active_users: 3,\n    total_users: 12,\n    sessions_today: 24,\n    avg_session_duration: 45\n  }\n\n  // Handle errors\n  useEffect(() => {\n    if (mediaError) {\n      toast.error('Failed to load media statistics')\n    }\n  }, [mediaError])\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <motion.div\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"flex items-center justify-between\"\n      >\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">\n            Welcome back, {user?.username || 'User'}!\n          </h1>\n          <p className=\"text-gray-600\">\n            Here&apos;s what&apos;s happening with your media library today.\n          </p>\n        </div>\n        \n        <div className=\"flex items-center space-x-2\">\n          <Button variant=\"outline\">\n            <Clock className=\"w-4 h-4 mr-2\" />\n            Last updated: {new Date().toLocaleTimeString()}\n          </Button>\n        </div>\n      </motion.div>\n\n      {/* Main Stats Grid */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.1 }}\n      >\n        <DashboardStats\n          mediaStats={mediaStats}\n          userStats={userStats}\n          loading={mediaLoading}\n        />\n      </motion.div>\n\n      {/* Charts and Activity Row */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Media Distribution Chart */}\n        <motion.div\n          initial={{ opacity: 0, x: -20 }}\n          animate={{ opacity: 1, x: 0 }}\n          transition={{ delay: 0.2 }}\n        >\n          <MediaDistributionChart\n            data={mediaStats?.by_type}\n            loading={mediaLoading}\n          />\n        </motion.div>\n\n        {/* System Status */}\n        <motion.div\n          initial={{ opacity: 0, x: 20 }}\n          animate={{ opacity: 1, x: 0 }}\n          transition={{ delay: 0.2 }}\n        >\n          <SystemStatus />\n        </motion.div>\n      </div>\n\n      {/* Activity Feed and Quick Actions */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Activity Feed */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.3 }}\n          className=\"lg:col-span-2\"\n        >\n          <ActivityFeed limit={8} />\n        </motion.div>\n\n        {/* Quick Actions */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.4 }}\n        >\n          <QuickActions />\n        </motion.div>\n      </div>\n    </div>\n  )\n}"],"names":["StatCard","title","value","Icon","trend","description","loading","jsxs","Card","CardHeader","jsx","CardTitle","CardContent","TrendingUp","TrendingDown","DashboardStats","mediaStats","userStats","formatBytes","bytes","sizes","i","formatDuration","minutes","hours","mins","Database","HardDrive","PlusCircle","Zap","Users","PlayCircle","Clock","COLORS","MediaDistributionChart","data","chartData","key","CustomTooltip","active","payload","total","sum","item","percentage","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","RADIAN","radius","x","y","PieChartIcon","ResponsiveContainer","PieChart","Pie","entry","index","Cell","Tooltip","Legend","ACTIVITY_ICONS","Play","Upload","Download","Settings","Eye","ACTIVITY_COLORS","ACTIVITY_MESSAGES","ActivityFeed","limit","showFilters","activities","setActivities","useState","filter","setFilter","setLoading","useEffect","mockActivities","error","filteredActivities","activity","ActivityItem","Activity","colorClass","getMessage","formatDistanceToNow","_","Button","QuickActions","quickActions","toast","mediaApi","Search","action","SystemStatus","status","setStatus","Dashboard","user","useAuth","mediaLoading","mediaError","useQuery","motion"],"mappings":"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"}