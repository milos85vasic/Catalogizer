{"version":3,"file":"FavoriteToggle-C1Ak6xgo.js","sources":["../../src/lib/favoritesApi.ts","../../src/hooks/useFavorites.tsx","../../src/components/favorites/FavoriteToggle.tsx"],"sourcesContent":["import { api } from './api'\nimport type { \n  Favorite, \n  FavoriteToggleRequest, \n  FavoritesResponse, \n  FavoriteStats \n} from '@/types/favorites'\n\nexport const favoritesApi = {\n  // Get user's favorites\n  async getFavorites(params?: {\n    limit?: number\n    offset?: number\n    media_type?: string\n    sort_by?: 'created_at' | 'title' | 'rating' | 'year'\n    sort_order?: 'asc' | 'desc'\n  }): Promise<FavoritesResponse> {\n    const searchParams = new URLSearchParams()\n    if (params?.limit) searchParams.append('limit', params.limit.toString())\n    if (params?.offset) searchParams.append('offset', params.offset.toString())\n    if (params?.media_type) searchParams.append('media_type', params.media_type)\n    if (params?.sort_by) searchParams.append('sort_by', params.sort_by)\n    if (params?.sort_order) searchParams.append('sort_order', params.sort_order)\n\n    const response = await api.get(`/api/v1/favorites?${searchParams}`)\n    return response.data\n  },\n\n  // Get favorite statistics\n  async getFavoriteStats(): Promise<FavoriteStats> {\n    const response = await api.get('/api/v1/favorites/stats')\n    return response.data\n  },\n\n  // Toggle favorite status\n  async toggleFavorite(request: FavoriteToggleRequest): Promise<{ is_favorite: boolean }> {\n    const response = await api.post('/api/v1/favorites/toggle', request)\n    return response.data\n  },\n\n  // Check if media is in favorites\n  async checkFavorite(mediaId: number): Promise<{ is_favorite: boolean }> {\n    const response = await api.get(`/api/v1/favorites/check/${mediaId}`)\n    return response.data\n  },\n\n  // Add to favorites\n  async addToFavorites(mediaId: number): Promise<Favorite> {\n    const response = await api.post('/api/v1/favorites', { media_id: mediaId })\n    return response.data\n  },\n\n  // Remove from favorites\n  async removeFromFavorites(mediaId: number): Promise<void> {\n    await api.delete(`/api/v1/favorites/${mediaId}`)\n  },\n\n  // Bulk operations\n  async bulkAddToFavorites(mediaIds: number[]): Promise<{ added: number; failed: number }> {\n    const response = await api.post('/api/v1/favorites/bulk', { media_ids: mediaIds })\n    return response.data\n  },\n\n  async bulkRemoveFromFavorites(mediaIds: number[]): Promise<{ removed: number; failed: number }> {\n    const response = await api.delete('/api/v1/favorites/bulk', { data: { media_ids: mediaIds } })\n    return response.data\n  }\n}","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { favoritesApi } from '@/lib/favoritesApi'\nimport type { Favorite, FavoriteToggleRequest, FavoriteStats } from '@/types/favorites'\nimport toast from 'react-hot-toast'\n\nexport const useFavorites = (params?: {\n  limit?: number\n  offset?: number\n  media_type?: string\n  sort_by?: 'created_at' | 'title' | 'rating' | 'year'\n  sort_order?: 'asc' | 'desc'\n}) => {\n  const queryClient = useQueryClient()\n\n  const {\n    data: favoritesData,\n    isLoading: isLoadingFavorites,\n    error: favoritesError,\n    refetch: refetchFavorites\n  } = useQuery({\n    queryKey: ['favorites', params],\n    queryFn: () => favoritesApi.getFavorites(params),\n    staleTime: 1000 * 60 * 5, // 5 minutes\n    cacheTime: 1000 * 60 * 10, // 10 minutes\n  })\n\n  const {\n    data: favoriteStats,\n    isLoading: isLoadingStats,\n    error: statsError,\n    refetch: refetchStats\n  } = useQuery({\n    queryKey: ['favorites-stats'],\n    queryFn: () => favoritesApi.getFavoriteStats(),\n    staleTime: 1000 * 60 * 2, // 2 minutes\n    cacheTime: 1000 * 60 * 5, // 5 minutes\n  })\n\n  const toggleFavoriteMutation = useMutation({\n    mutationFn: (request: FavoriteToggleRequest) => favoritesApi.toggleFavorite(request),\n    onMutate: async (request) => {\n      // Cancel any ongoing refetches\n      await queryClient.cancelQueries(['favorites'])\n      \n      // Snapshot previous value\n      const previousFavorites = queryClient.getQueryData(['favorites'])\n      \n      // Optimistically update\n      queryClient.setQueryData(['favorites'], (old: any) => {\n        if (!old?.items) return old\n        \n        if (request.is_favorite) {\n          // Add to favorites (would need full media item in real implementation)\n          toast.success('Added to favorites')\n        } else {\n          // Remove from favorites\n          return {\n            ...old,\n            items: old.items.filter((fav: Favorite) => fav.media_id !== request.media_id)\n          }\n        }\n      })\n      \n      return { previousFavorites }\n    },\n    onError: (error, variables, context) => {\n      // Revert optimistic update\n      queryClient.setQueryData(['favorites'], context?.previousFavorites)\n      toast.error('Failed to update favorite status')\n    },\n    onSettled: () => {\n      // Refetch to ensure server state\n      queryClient.invalidateQueries(['favorites'])\n      queryClient.invalidateQueries(['favorites-stats'])\n    }\n  })\n\n  const bulkAddMutation = useMutation({\n    mutationFn: (mediaIds: number[]) => favoritesApi.bulkAddToFavorites(mediaIds),\n    onSuccess: (data) => {\n      toast.success(`Added ${data.added} items to favorites`)\n      queryClient.invalidateQueries(['favorites'])\n      queryClient.invalidateQueries(['favorites-stats'])\n    },\n    onError: () => {\n      toast.error('Failed to add items to favorites')\n    }\n  })\n\n  const bulkRemoveMutation = useMutation({\n    mutationFn: (mediaIds: number[]) => favoritesApi.bulkRemoveFromFavorites(mediaIds),\n    onSuccess: (data) => {\n      toast.success(`Removed ${data.removed} items from favorites`)\n      queryClient.invalidateQueries(['favorites'])\n      queryClient.invalidateQueries(['favorites-stats'])\n    },\n    onError: () => {\n      toast.error('Failed to remove items from favorites')\n    }\n  })\n\n  const checkFavoriteStatus = (mediaId: number): boolean => {\n    if (!favoritesData?.items) return false\n    return favoritesData.items.some(fav => fav.media_id === mediaId)\n  }\n\n  const toggleFavorite = (mediaId: number, currentStatus?: boolean) => {\n    const isFavorite = currentStatus ?? checkFavoriteStatus(mediaId)\n    toggleFavoriteMutation.mutate({\n      media_id: mediaId,\n      is_favorite: !isFavorite\n    })\n  }\n\n  const bulkAddToFavorites = (mediaIds: number[]) => {\n    bulkAddMutation.mutate(mediaIds)\n  }\n\n  const bulkRemoveFromFavorites = (mediaIds: number[]) => {\n    bulkRemoveMutation.mutate(mediaIds)\n  }\n\n  return {\n    favorites: favoritesData?.items || [],\n    total: favoritesData?.total || 0,\n    isLoading: isLoadingFavorites || isLoadingStats,\n    error: favoritesError || statsError,\n    stats: favoriteStats,\n    refetchFavorites,\n    refetchStats,\n    toggleFavorite,\n    checkFavoriteStatus,\n    bulkAddToFavorites,\n    bulkRemoveFromFavorites,\n    isToggling: toggleFavoriteMutation.isLoading\n  }\n}\n\n// Hook for checking single item favorite status\nexport const useFavoriteStatus = (mediaId: number) => {\n  return useQuery({\n    queryKey: ['favorite-status', mediaId],\n    queryFn: () => favoritesApi.checkFavorite(mediaId),\n    staleTime: 1000 * 60 * 5, // 5 minutes\n    enabled: !!mediaId\n  })\n}","import { useState } from 'react'\nimport { Star, Loader2 } from 'lucide-react'\nimport { Button } from '@/components/ui/Button'\nimport { useFavoriteStatus, useFavorites } from '@/hooks/useFavorites'\nimport { cn } from '@/lib/utils'\nimport type { MediaItem } from '@/types/media'\n\ninterface FavoriteToggleProps {\n  mediaId: number\n  mediaItem?: MediaItem\n  size?: 'sm' | 'md' | 'lg'\n  variant?: 'button' | 'icon' | 'card'\n  className?: string\n  showLabel?: boolean\n  disabled?: boolean\n}\n\nexport const FavoriteToggle: React.FC<FavoriteToggleProps> = ({\n  mediaId,\n  mediaItem,\n  size = 'md',\n  variant = 'button',\n  className,\n  showLabel = false,\n  disabled = false\n}) => {\n  const [isHovered, setIsHovered] = useState(false)\n  const { data: favoriteStatus, isLoading: statusLoading } = useFavoriteStatus(mediaId)\n  const { toggleFavorite, isToggling } = useFavorites()\n  \n  const isFavorite = favoriteStatus?.is_favorite || false\n  const isLoading = statusLoading || isToggling\n  \n  const sizeClasses = {\n    sm: 'w-4 h-4',\n    md: 'w-5 h-5',\n    lg: 'w-6 h-6'\n  }\n  \n  const iconSizeClasses = {\n    sm: 'w-3 h-3',\n    md: 'w-4 h-4',\n    lg: 'w-5 h-5'\n  }\n\n  const handleToggle = (e: React.MouseEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    if (!isLoading && !disabled) {\n      toggleFavorite(mediaId, isFavorite)\n    }\n  }\n\n  const handleMouseEnter = () => setIsHovered(true)\n  const handleMouseLeave = () => setIsHovered(false)\n\n  if (variant === 'icon') {\n    return (\n      <button\n        className={cn(\n          'relative inline-flex items-center justify-center p-1 rounded-full transition-all duration-200',\n          'hover:bg-gray-100 dark:hover:bg-gray-800',\n          'focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500',\n          isFavorite && 'text-yellow-500',\n          !isFavorite && 'text-gray-400 hover:text-yellow-500',\n          isLoading && 'opacity-50 cursor-not-allowed',\n          disabled && 'opacity-50 cursor-not-allowed',\n          className\n        )}\n        onClick={handleToggle}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n        disabled={isLoading || disabled}\n        title={isFavorite ? 'Remove from favorites' : 'Add to favorites'}\n      >\n        {isLoading ? (\n          <Loader2 className={cn('animate-spin', iconSizeClasses[size])} />\n        ) : (\n          <Star \n            className={cn(\n              iconSizeClasses[size],\n              isFavorite ? 'fill-current' : '',\n              isHovered && !isFavorite && 'fill-current opacity-50'\n            )} \n          />\n        )}\n      </button>\n    )\n  }\n\n  if (variant === 'card') {\n    return (\n      <div\n        className={cn(\n          'absolute top-2 right-2 z-10 opacity-0 transition-opacity duration-200',\n          'group-hover:opacity-100',\n          className\n        )}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n      >\n        <button\n          className={cn(\n            'relative inline-flex items-center justify-center p-2 rounded-full transition-all duration-200',\n            'bg-white/90 dark:bg-black/90 backdrop-blur-sm',\n            'hover:bg-white dark:hover:bg-black',\n            'shadow-md',\n            isFavorite && 'text-yellow-500',\n            !isFavorite && 'text-gray-600 hover:text-yellow-500',\n            isLoading && 'opacity-50 cursor-not-allowed',\n            disabled && 'opacity-50 cursor-not-allowed'\n          )}\n          onClick={handleToggle}\n          disabled={isLoading || disabled}\n          title={isFavorite ? 'Remove from favorites' : 'Add to favorites'}\n        >\n          {isLoading ? (\n            <Loader2 className={cn('animate-spin', iconSizeClasses[size])} />\n          ) : (\n            <Star \n              className={cn(\n                iconSizeClasses[size],\n                isFavorite ? 'fill-current' : '',\n                isHovered && !isFavorite && 'fill-current opacity-50'\n              )} \n            />\n          )}\n        </button>\n      </div>\n    )\n  }\n\n  // Default button variant\n  return (\n    <Button\n      variant={isFavorite ? 'primary' : 'outline'}\n      size={size}\n      onClick={handleToggle}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n      disabled={isLoading || disabled}\n      className={cn(\n        'transition-all duration-200',\n        isFavorite && 'bg-yellow-50 border-yellow-300 text-yellow-700 hover:bg-yellow-100 dark:bg-yellow-900/20 dark:border-yellow-600 dark:text-yellow-300',\n        !isFavorite && 'hover:border-yellow-300 hover:text-yellow-600',\n        className\n      )}\n    >\n      {isLoading ? (\n        <>\n          <Loader2 className={cn('animate-spin mr-2', iconSizeClasses[size])} />\n          {showLabel && 'Loading...'}\n        </>\n      ) : (\n        <>\n          <Star \n            className={cn(\n              'mr-2',\n              iconSizeClasses[size],\n              isFavorite ? 'fill-current' : '',\n              isHovered && !isFavorite && 'fill-current opacity-50'\n            )} \n          />\n          {showLabel && (\n            isFavorite ? 'Remove from Favorites' : 'Add to Favorites'\n          )}\n        </>\n      )}\n    </Button>\n  )\n}"],"names":["favoritesApi","params","searchParams","api","request","mediaId","mediaIds","useFavorites","queryClient","useQueryClient","favoritesData","isLoadingFavorites","favoritesError","refetchFavorites","useQuery","favoriteStats","isLoadingStats","statsError","refetchStats","toggleFavoriteMutation","useMutation","previousFavorites","old","toast","fav","error","variables","context","bulkAddMutation","data","bulkRemoveMutation","checkFavoriteStatus","toggleFavorite","currentStatus","isFavorite","bulkAddToFavorites","bulkRemoveFromFavorites","useFavoriteStatus","FavoriteToggle","mediaItem","size","variant","className","showLabel","disabled","isHovered","setIsHovered","useState","favoriteStatus","statusLoading","isToggling","isLoading","iconSizeClasses","handleToggle","e","handleMouseEnter","handleMouseLeave","jsx","cn","Loader2","Star","Button","jsxs","Fragment"],"mappings":"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"}