import{j as e,B as d,f as q}from"./index-BzqIBI_1.js";import{r}from"./router-CYAiCCsK.js";import{C as i,d as l,a as v,b as N}from"./Card-pVNkGvZm.js";import{S as I,T as Q,a as U,b as S,c as C}from"./Tabs-VczWTLgE.js";import{I as W}from"./Input-DQaGiHGP.js";import{M as J}from"./MediaGrid-BESADauV.js";import{u as L,F as Y}from"./FavoriteToggle-C1Ak6xgo.js";import{H as f,u as $,aG as K,t as X,aH as Z,aI as ee,G as se,J as ae,c as te,p as re,o as ie}from"./ui-DhyrEzjX.js";import{P as le}from"./PageHeader-1sRnzjfp.js";import"./charts-BaIhTcLh.js";import"./utils-B26ZFImD.js";const B=({className:n,showFilters:w=!0,showStats:t=!0,selectable:c=!1,onSelectChange:F})=>{const[h,j]=r.useState("grid"),[a,o]=r.useState(""),[k,G]=r.useState("all"),[M,R]=r.useState("created_at"),[y,V]=r.useState("desc"),[m,u]=r.useState([]),{favorites:_,isLoading:D,error:T,stats:g}=L({sort_by:M,sort_order:y,...k!=="all"&&{media_type:k}}),b=r.useMemo(()=>a?_.filter(s=>{var x;return s.media_item.title.toLowerCase().includes(a.toLowerCase())||s.media_item.media_type.toLowerCase().includes(a.toLowerCase())||(((x=s.media_item.year)==null?void 0:x.toString())||"").includes(a)}):_,[_,a]),p=r.useMemo(()=>b.map(s=>({id:s.media_item.id,title:s.media_item.title,media_type:s.media_item.media_type,year:s.media_item.year,cover_image:s.media_item.cover_image,duration:s.media_item.duration,rating:s.media_item.rating,quality:s.media_item.quality,directory_path:"",storage_root_name:"",storage_root_protocol:"",created_at:s.created_at,updated_at:s.updated_at})),[b]),z=r.useMemo(()=>p.map(s=>({...s,actions:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Y,{mediaId:s.id,mediaItem:s,variant:"icon",size:"md"})})})),[p]),H=(s,x)=>{c&&u(A=>x?[...A,s]:A.filter(P=>P!==s))},O=()=>{c&&(m.length===p.length?u([]):u(p.map(s=>s.id)))},E=()=>{m.length!==0&&u([])};return T?e.jsx(i,{className:n,children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"text-center text-red-600",children:[e.jsx(f,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Failed to load favorites"}),e.jsx("p",{className:"text-sm opacity-75 mt-1",children:String(T)})]})})}):e.jsxs("div",{className:n,children:[t&&g&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(i,{children:e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"}),e.jsx("p",{className:"text-xl font-semibold",children:g.total_count})]})]})})}),e.jsx(i,{children:e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Movies"}),e.jsx("p",{className:"text-xl font-semibold",children:g.media_type_breakdown.movie})]})]})})}),e.jsx(i,{children:e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"TV Shows"}),e.jsx("p",{className:"text-xl font-semibold",children:g.media_type_breakdown.tv_show})]})]})})}),e.jsx(i,{children:e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Music"}),e.jsx("p",{className:"text-xl font-semibold",children:g.media_type_breakdown.music})]})]})})})]}),w&&e.jsxs(i,{className:"mb-6",children:[e.jsx(v,{children:e.jsx(N,{className:"text-lg",children:"Filters & Search"})}),e.jsxs(l,{children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(W,{placeholder:"Search favorites...",value:a,onChange:s=>o(s.target.value),className:"w-full"})}),e.jsxs(I,{value:k,onValueChange:G,children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"movie",children:"Movies"}),e.jsx("option",{value:"tv_show",children:"TV Shows"}),e.jsx("option",{value:"music",children:"Music"}),e.jsx("option",{value:"game",children:"Games"}),e.jsx("option",{value:"documentary",children:"Documentaries"}),e.jsx("option",{value:"anime",children:"Anime"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{value:M,onValueChange:s=>R(s),children:[e.jsx("option",{value:"created_at",children:"Date Added"}),e.jsx("option",{value:"title",children:"Title"}),e.jsx("option",{value:"rating",children:"Rating"}),e.jsx("option",{value:"year",children:"Year"})]}),e.jsx(d,{variant:"outline",size:"icon",onClick:()=>V(y==="asc"?"desc":"asc"),title:`Sort ${y==="asc"?"descending":"ascending"}`,children:y==="asc"?e.jsx(Z,{className:"w-4 h-4"}):e.jsx(ee,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{variant:h==="grid"?"default":"outline",size:"icon",onClick:()=>j("grid"),title:"Grid view",children:e.jsx(se,{className:"w-4 h-4"})}),e.jsx(d,{variant:h==="list"?"default":"outline",size:"icon",onClick:()=>j("list"),title:"List view",children:e.jsx(ae,{className:"w-4 h-4"})})]})]}),c&&m.length>0&&e.jsxs("div",{className:"mt-4 flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsxs("span",{className:"text-sm text-blue-700 dark:text-blue-300",children:[m.length," items selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{variant:"outline",onClick:()=>u([]),children:"Clear Selection"}),e.jsx(d,{variant:"destructive",onClick:E,children:"Remove from Favorites"})]})]})]})]}),e.jsxs(i,{children:[e.jsxs(v,{className:"flex flex-row items-center justify-between",children:[e.jsxs(N,{children:["Favorites (",b.length,")"]}),c&&e.jsx(d,{variant:"outline",onClick:O,children:m.length===p.length?"Deselect All":"Select All"})]}),e.jsx(l,{children:D?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Array.from({length:12}).map((s,x)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-lg aspect-video mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-1"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-3/4"})]},x))}):b.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(f,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?"No favorites found":"No favorites yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a?"Try adjusting your search or filters":"Start adding items to your favorites to see them here"})]}):e.jsx(J,{media:z,viewMode:h,onMediaView:()=>{},onMediaPlay:()=>{},onMediaDownload:()=>{},onSelect:c?H:void 0,selectedItems:m,showActions:!0})})]})]})},ve=()=>{var j;const[n,w]=r.useState(!1),{stats:t}=L(),c=()=>{},F=()=>{},h=()=>{w(!n)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(le,{title:"My Favorites",subtitle:"Manage your favorite media items",icon:e.jsx(f,{className:"w-6 h-6"}),actions:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(d,{variant:"outline",onClick:h,className:q("transition-colors",n&&"bg-blue-50 border-blue-300 text-blue-700 dark:bg-blue-900/20 dark:border-blue-600 dark:text-blue-300"),children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Bulk Actions"]}),e.jsxs(d,{variant:"outline",onClick:F,children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"Import"]}),e.jsxs(d,{variant:"outline",onClick:c,children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Export"]})]})}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs(Q,{defaultValue:"favorites",className:"space-y-6",children:[e.jsxs(U,{children:[e.jsx(S,{value:"favorites",children:"Favorites"}),e.jsx(S,{value:"recent",children:"Recently Added"}),e.jsx(S,{value:"stats",children:"Statistics"})]}),e.jsx(C,{value:"favorites",children:e.jsx(B,{showFilters:!0,showStats:!0,selectable:n})}),e.jsx(C,{value:"recent",children:e.jsxs(i,{children:[e.jsx(v,{children:e.jsx(N,{children:"Recently Added Favorites"})}),e.jsx(l,{children:e.jsx(B,{showFilters:!1,showStats:!1,selectable:n})})]})}),e.jsx(C,{value:"stats",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsx(v,{children:e.jsx(N,{children:"Favorite Statistics"})}),e.jsx(l,{children:t?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Favorites"}),e.jsx("span",{className:"text-2xl font-bold",children:t.total_count})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"By Media Type"}),e.jsx("div",{className:"space-y-2",children:Object.entries(t.media_type_breakdown).map(([a,o])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"capitalize text-gray-600 dark:text-gray-400",children:a.replace("_"," ")}),e.jsx("span",{className:"font-medium",children:o})]},a))})]})]}):e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-3"}),e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-5/6"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-4/6"})]})]})})]}),e.jsxs(i,{children:[e.jsx(v,{children:e.jsx(N,{children:"Favorite Insights"})}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Most Common Type"}),t&&e.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:Object.entries(t.media_type_breakdown).reduce((a,o)=>a[1]>o[1]?a:o)[0].replace("_"," ")})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 dark:text-green-100 mb-2",children:"Recent Activity"}),e.jsxs("p",{className:"text-green-700 dark:text-green-300",children:[((j=t==null?void 0:t.recent_additions)==null?void 0:j.length)||0," items added in the last week"]})]}),e.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-purple-900 dark:text-purple-100 mb-2",children:"Storage Impact"}),e.jsx("p",{className:"text-purple-700 dark:text-purple-300",children:"Favorites help you quickly access your most-loved content"})]})]})})]})]})})]})})]})};export{ve as default};
//# sourceMappingURL=Favorites-CGCqmRTJ.js.map
