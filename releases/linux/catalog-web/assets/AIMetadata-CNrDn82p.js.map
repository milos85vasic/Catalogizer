{"version":3,"file":"AIMetadata-CNrDn82p.js","sources":["../../src/components/ai/AIComponents.tsx","../../src/components/ai/AIAnalytics.tsx","../../src/components/ai/AIMetadata.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Search, Brain, Lightbulb, Tag, Grid, Folder, Sparkles, TrendingUp } from 'lucide-react';\nimport { debounce } from '@/lib/utils';\n\n// Types for AI-powered suggestions\ninterface AISuggestion {\n  id: string;\n  title: string;\n  description: string;\n  type: 'collection' | 'smart-search' | 'content-categorization' | 'tag-suggestion';\n  confidence: number;\n  reasoning: string;\n  metadata: {\n    relatedItems: number;\n    estimatedTimeSaved: string;\n    category?: string;\n    tags?: string[];\n  };\n}\n\ninterface AICategorizationResult {\n  id: string;\n  category: string;\n  subcategory: string;\n  confidence: number;\n  reasoning: string;\n  suggestedTags: string[];\n  metadata: {\n    contentType: string;\n    quality: 'high' | 'medium' | 'low';\n    completion: number;\n  };\n}\n\ninterface AISearchQuery {\n  query: string;\n  intent: 'browse' | 'search' | 'compare' | 'organize';\n  entities: string[];\n  filters: Record<string, any>;\n  naturalLanguage: boolean;\n}\n\n// Mock AI service for demonstration\nclass AIService {\n  // Simulate AI processing delay\n  private static delay(ms = 800): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  // Generate collection suggestions based on user behavior and content patterns\n  static async generateCollectionSuggestions(context: {\n    recentSearches: string[];\n    existingCollections: string[];\n    contentAnalysis: any[];\n    userBehavior: any;\n  }): Promise<AISuggestion[]> {\n    await this.delay(1000);\n\n    const suggestions: AISuggestion[] = [\n      {\n        id: 'ai-collection-1',\n        title: 'Movie Marathon Collection',\n        description: 'Create a collection for movie marathon nights based on your recent viewing patterns',\n        type: 'collection',\n        confidence: 0.92,\n        reasoning: 'You watched 5 action movies in the past 2 weeks. Marathon collections are 78% more engaging than individual items.',\n        metadata: {\n          relatedItems: 47,\n          estimatedTimeSaved: '2.5 hours',\n          category: 'Entertainment',\n          tags: ['movies', 'marathon', 'action']\n        }\n      },\n      {\n        id: 'ai-collection-2',\n        title: 'Work-from-Home Resources',\n        description: 'Organize your work-related resources and productivity tools',\n        type: 'collection',\n        confidence: 0.88,\n        reasoning: 'Recent searches show increased work-related content consumption. Productivity collections improve workflow by 45%.',\n        metadata: {\n          relatedItems: 23,\n          estimatedTimeSaved: '1.8 hours',\n          category: 'Work',\n          tags: ['work', 'productivity', 'remote']\n        }\n      },\n      {\n        id: 'ai-collection-3',\n        title: 'Learning Path: Web Development',\n        description: 'Create a structured learning path from your development resources',\n        type: 'collection',\n        confidence: 0.85,\n        reasoning: 'You have 12 development tutorials. Structured learning paths increase completion rates by 62%.',\n        metadata: {\n          relatedItems: 19,\n          estimatedTimeSaved: '3.2 hours',\n          category: 'Education',\n          tags: ['development', 'learning', 'tutorial']\n        }\n      }\n    ];\n\n    return suggestions.filter(s => s.confidence > 0.8);\n  }\n\n  // Categorize content using AI analysis\n  static async categorizeContent(item: {\n    title: string;\n    description?: string;\n    metadata?: any;\n  }): Promise<AICategorizationResult> {\n    await this.delay(600);\n\n    const categories = [\n      'Entertainment', 'Work', 'Education', 'Personal', 'Health & Fitness', \n      'Finance', 'Technology', 'Travel', 'Food & Cooking', 'Shopping'\n    ];\n\n    const category = categories[Math.floor(Math.random() * categories.length)];\n    const confidence = 0.75 + Math.random() * 0.2;\n\n    return {\n      id: `ai-cat-${Date.now()}`,\n      category,\n      subcategory: `${category}/${item.title.split(' ')[0]}`,\n      confidence,\n      reasoning: `AI analysis of title, content type, and metadata suggests ${category} category with ${Math.round(confidence * 100)}% confidence.`,\n      suggestedTags: [category.toLowerCase(), item.title.toLowerCase().split(' ')[0], 'suggested'],\n      metadata: {\n        contentType: 'video',\n        quality: confidence > 0.9 ? 'high' : confidence > 0.8 ? 'medium' : 'low',\n        completion: Math.floor(Math.random() * 100)\n      }\n    };\n  }\n\n  // Process natural language search queries\n  static async processNaturalLanguageQuery(query: string): Promise<AISearchQuery> {\n    await this.delay(400);\n\n    // Simple intent detection based on keywords\n    const isBrowse = /show|browse|list|view|see/.test(query.toLowerCase());\n    const isSearch = /find|search|look for|where is/.test(query.toLowerCase());\n    const isCompare = /compare|difference|better|versus|vs/.test(query.toLowerCase());\n    const isOrganize = /organize|group|sort|arrange/.test(query.toLowerCase());\n\n    let intent: AISearchQuery['intent'] = 'search';\n    if (isBrowse) intent = 'browse';\n    else if (isCompare) intent = 'compare';\n    else if (isOrganize) intent = 'organize';\n\n    // Extract entities (simple keyword extraction)\n    const entities = query\n      .toLowerCase()\n      .replace(/\\b(the|a|an|and|or|but|in|on|at|to|for|of|with|by)\\b/g, '')\n      .split(' ')\n      .filter(word => word.length > 2)\n      .slice(0, 5);\n\n    return {\n      query,\n      intent,\n      entities,\n      filters: {},\n      naturalLanguage: true\n    };\n  }\n\n  // Generate smart search suggestions\n  static async generateSmartSearchSuggestions(partialQuery: string): Promise<string[]> {\n    await this.delay(300);\n\n    const suggestions = [\n      `${partialQuery} collection`,\n      `${partialQuery} high quality`,\n      `recent ${partialQuery}`,\n      `popular ${partialQuery}`,\n      `${partialQuery} tutorial`,\n      `${partialQuery} for beginners`,\n      `complete ${partialQuery}`,\n      `${partialQuery} review`\n    ];\n\n    return suggestions.slice(0, 5);\n  }\n}\n\n// AI-powered collection suggestions component\ninterface AICollectionSuggestionsProps {\n  onSuggestionAccept: (suggestion: AISuggestion) => void;\n  maxSuggestions?: number;\n}\n\nexport const AICollectionSuggestions: React.FC<AICollectionSuggestionsProps> = ({\n  onSuggestionAccept,\n  maxSuggestions = 3\n}) => {\n  const [suggestions, setSuggestions] = useState<AISuggestion[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const loadSuggestions = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const result = await AIService.generateCollectionSuggestions({\n          recentSearches: ['action movies', 'productivity tools', 'web development'],\n          existingCollections: ['Favorites', 'Work Projects', 'Personal Growth'],\n          contentAnalysis: [],\n          userBehavior: {}\n        });\n        setSuggestions(result.slice(0, maxSuggestions));\n      } catch (err) {\n        setError('Failed to load AI suggestions');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadSuggestions();\n  }, [maxSuggestions]);\n\n  if (loading) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n        <div className=\"flex items-center space-x-3 mb-4\">\n          <Brain className=\"w-5 h-5 text-indigo-600\" />\n          <h3 className=\"font-semibold text-gray-900\">AI Suggestions</h3>\n          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 ml-auto\"></div>\n        </div>\n        <div className=\"space-y-3\">\n          {[1, 2, 3].map(i => (\n            <div key={i} className=\"animate-pulse\">\n              <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n              <div className=\"h-3 bg-gray-200 rounded w-full\"></div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n        <div className=\"flex items-center space-x-2\">\n          <div className=\"w-5 h-5 text-red-600\">⚠️</div>\n          <span className=\"text-red-800\">{error}</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n      <div className=\"flex items-center space-x-3 mb-4\">\n        <Brain className=\"w-5 h-5 text-indigo-600\" />\n        <h3 className=\"font-semibold text-gray-900\">AI-Powered Suggestions</h3>\n        <Sparkles className=\"w-4 h-4 text-yellow-500 ml-auto\" />\n      </div>\n\n      {suggestions.length === 0 ? (\n        <p className=\"text-gray-500 text-sm\">No AI suggestions available at the moment.</p>\n      ) : (\n        <div className=\"space-y-3\">\n          {suggestions.map((suggestion) => (\n            <div\n              key={suggestion.id}\n              className=\"border border-gray-100 rounded-lg p-3 hover:border-indigo-200 hover:bg-indigo-50 transition-colors cursor-pointer\"\n              onClick={() => onSuggestionAccept(suggestion)}\n            >\n              <div className=\"flex items-start justify-between mb-2\">\n                <div className=\"flex items-center space-x-2\">\n                  {suggestion.type === 'collection' && <Folder className=\"w-4 h-4 text-indigo-600\" />}\n                  <h4 className=\"font-medium text-gray-900\">{suggestion.title}</h4>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"flex items-center\">\n                    <div className=\"w-2 h-2 rounded-full bg-green-500 mr-1\"></div>\n                    <span className=\"text-xs text-gray-600\">\n                      {Math.round(suggestion.confidence * 100)}% match\n                    </span>\n                  </div>\n                </div>\n              </div>\n              \n              <p className=\"text-sm text-gray-600 mb-2\">{suggestion.description}</p>\n              \n              <div className=\"flex items-center justify-between text-xs\">\n                <div className=\"flex items-center space-x-3 text-gray-500\">\n                  <span className=\"flex items-center space-x-1\">\n                    <Grid className=\"w-3 h-3\" />\n                    <span>{suggestion.metadata.relatedItems} items</span>\n                  </span>\n                  <span className=\"flex items-center space-x-1\">\n                    <TrendingUp className=\"w-3 h-3\" />\n                    <span>{suggestion.metadata.estimatedTimeSaved} saved</span>\n                  </span>\n                </div>\n                {suggestion.metadata.tags && (\n                  <div className=\"flex space-x-1\">\n                    {suggestion.metadata.tags.slice(0, 2).map(tag => (\n                      <span key={tag} className=\"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs\">\n                        {tag}\n                      </span>\n                    ))}\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"mt-2 p-2 bg-blue-50 rounded text-xs text-blue-700\">\n                <strong>AI Reasoning:</strong> {suggestion.reasoning}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Natural language search component\ninterface AINaturalSearchProps {\n  onSearch: (query: AISearchQuery) => void;\n  placeholder?: string;\n}\n\nexport const AINaturalSearch: React.FC<AINaturalSearchProps> = ({\n  onSearch,\n  placeholder = \"Search naturally... try 'show me action movies' or 'find productivity tools'\"\n}) => {\n  const [query, setQuery] = useState('');\n  const [suggestions, setSuggestions] = useState<string[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n\n  const debouncedGetSuggestions = useCallback(\n    debounce(async (input: string) => {\n      if (input.length < 3) {\n        setSuggestions([]);\n        return;\n      }\n\n      setLoading(true);\n      try {\n        const result = await AIService.generateSmartSearchSuggestions(input);\n        setSuggestions(result);\n      } catch (err) {\n        console.error('Failed to get suggestions:', err);\n      } finally {\n        setLoading(false);\n      }\n    }, 300),\n    []\n  );\n\n  useEffect(() => {\n    debouncedGetSuggestions(query);\n  }, [query, debouncedGetSuggestions]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!query.trim()) return;\n\n    setLoading(true);\n    try {\n      const processedQuery = await AIService.processNaturalLanguageQuery(query);\n      onSearch(processedQuery);\n      setShowSuggestions(false);\n    } catch (err) {\n      console.error('Failed to process query:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"relative\">\n      <form onSubmit={handleSubmit} className=\"relative\">\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\n          <input\n            type=\"text\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            onFocus={() => setShowSuggestions(true)}\n            placeholder={placeholder}\n            className=\"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n          />\n          <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-2\">\n            {loading && (\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600\"></div>\n            )}\n            <Brain className=\"w-5 h-5 text-indigo-600\" />\n          </div>\n        </div>\n      </form>\n\n      {showSuggestions && suggestions.length > 0 && (\n        <div className=\"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg\">\n          <div className=\"p-2 border-b border-gray-100\">\n            <div className=\"flex items-center space-x-2 text-xs text-gray-600\">\n              <Lightbulb className=\"w-3 h-3\" />\n              <span>AI-powered suggestions</span>\n            </div>\n          </div>\n          {suggestions.map((suggestion, index) => (\n            <button\n              key={index}\n              onClick={() => {\n                setQuery(suggestion);\n                setShowSuggestions(false);\n              }}\n              className=\"w-full text-left px-4 py-2 hover:bg-gray-50 text-sm text-gray-700 hover:text-indigo-600 transition-colors\"\n            >\n              {suggestion}\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Smart content categorization component\ninterface AIContentCategorizerProps {\n  item: {\n    title: string;\n    description?: string;\n    metadata?: any;\n  };\n  onCategorizationComplete: (result: AICategorizationResult) => void;\n}\n\nexport const AIContentCategorizer: React.FC<AIContentCategorizerProps> = ({\n  item,\n  onCategorizationComplete\n}) => {\n  const [categorization, setCategorization] = useState<AICategorizationResult | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [categorizing, setCategorizing] = useState(false);\n\n  const categorizeContent = async () => {\n    setCategorizing(true);\n    try {\n      const result = await AIService.categorizeContent(item);\n      setCategorization(result);\n      onCategorizationComplete(result);\n    } catch (err) {\n      console.error('Failed to categorize content:', err);\n    } finally {\n      setCategorizing(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n      <div className=\"flex items-center space-x-3 mb-4\">\n        <Tag className=\"w-5 h-5 text-indigo-600\" />\n        <h3 className=\"font-semibold text-gray-900\">Smart Content Categorization</h3>\n      </div>\n\n      {!categorization && !categorizing && (\n        <div className=\"text-center py-4\">\n          <p className=\"text-gray-600 mb-4\">AI can automatically categorize your content</p>\n          <button\n            onClick={categorizeContent}\n            className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center space-x-2 mx-auto\"\n          >\n            <Brain className=\"w-4 h-4\" />\n            <span>Categorize with AI</span>\n          </button>\n        </div>\n      )}\n\n      {categorizing && (\n        <div className=\"text-center py-4\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto mb-3\"></div>\n          <p className=\"text-gray-600\">AI is analyzing your content...</p>\n        </div>\n      )}\n\n      {categorization && (\n        <div className=\"space-y-3\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h4 className=\"font-medium text-gray-900\">{categorization.category}</h4>\n              <p className=\"text-sm text-gray-600\">{categorization.subcategory}</p>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"w-2 h-2 rounded-full bg-green-500\"></div>\n              <span className=\"text-sm text-gray-600\">\n                {Math.round(categorization.confidence * 100)}% confidence\n              </span>\n            </div>\n          </div>\n\n          <div className=\"p-3 bg-gray-50 rounded-lg\">\n            <p className=\"text-sm text-gray-700\">{categorization.reasoning}</p>\n          </div>\n\n          <div>\n            <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Suggested Tags:</h5>\n            <div className=\"flex flex-wrap gap-2\">\n              {categorization.suggestedTags.map(tag => (\n                <span key={tag} className=\"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm\">\n                  {tag}\n                </span>\n              ))}\n            </div>\n          </div>\n\n          <button\n            onClick={categorizeContent}\n            className=\"text-sm text-indigo-600 hover:text-indigo-800 transition-colors\"\n          >\n            Recategorize with AI\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Export AI service for external use\nexport { AIService };\nexport type { AISuggestion, AICategorizationResult, AISearchQuery };","import React, { useState, useEffect, useCallback } from 'react';\nimport { Zap, Target, TrendingUp, BarChart3, Settings, RefreshCw, Lightbulb, Activity } from 'lucide-react';\n\n// Types for AI analytics and predictions\ninterface UserBehaviorPattern {\n  id: string;\n  pattern: string;\n  frequency: number;\n  confidence: number;\n  description: string;\n  recommendations: string[];\n  impact: 'high' | 'medium' | 'low';\n}\n\ninterface AIPrediction {\n  id: string;\n  type: 'trending' | 'recommendation' | 'organization' | 'engagement';\n  title: string;\n  description: string;\n  confidence: number;\n  timeframe: string;\n  actions: {\n    title: string;\n    description: string;\n    impact: 'high' | 'medium' | 'low';\n    effort: 'low' | 'medium' | 'high';\n  }[];\n  metrics: {\n    estimatedImpact: string;\n    timeToImplement: string;\n    userSatisfaction: number;\n  };\n}\n\ninterface ContentInsight {\n  id: string;\n  category: string;\n  metric: string;\n  value: number;\n  trend: 'up' | 'down' | 'stable';\n  changePercentage: number;\n  recommendations: string[];\n  timeframe: string;\n}\n\ninterface AIOrganizationSuggestion {\n  id: string;\n  title: string;\n  description: string;\n  priority: 'high' | 'medium' | 'low';\n  effort: 'low' | 'medium' | 'high';\n  expectedBenefit: string;\n  steps: {\n    title: string;\n    description: string;\n    automated: boolean;\n  }[];\n  beforeAfter?: {\n    description: string;\n    improvement: string;\n  };\n}\n\n// Mock AI analytics service\nclass AIAnalyticsService {\n  private static delay(ms = 800): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  // Analyze user behavior patterns\n  static async analyzeUserBehavior(userId: string): Promise<UserBehaviorPattern[]> {\n    await this.delay(1200);\n\n    return [\n      {\n        id: 'pattern-1',\n        pattern: 'Evening Entertainment Browsing',\n        frequency: 0.85,\n        confidence: 0.92,\n        description: 'You frequently browse entertainment content between 7-10 PM on weekdays',\n        recommendations: [\n          'Create \"Evening Entertainment\" collection for quick access',\n          'Set up automated content suggestions for evening hours',\n          'Organize entertainment content by mood and duration'\n        ],\n        impact: 'high'\n      },\n      {\n        id: 'pattern-2',\n        pattern: 'Weekend Learning Sessions',\n        frequency: 0.65,\n        confidence: 0.78,\n        description: 'You access educational content primarily on weekend mornings',\n        recommendations: [\n          'Create structured weekend learning paths',\n          'Set reminders for new educational content',\n          'Organize tutorials by skill level and prerequisites'\n        ],\n        impact: 'medium'\n      },\n      {\n        id: 'pattern-3',\n        pattern: 'Work Resource Collection',\n        frequency: 0.70,\n        confidence: 0.85,\n        description: 'You collect work-related resources throughout the week but rarely organize them',\n        recommendations: [\n          'Implement automatic work content categorization',\n          'Set up weekly organization reminders',\n          'Create project-based work collections'\n        ],\n        impact: 'high'\n      }\n    ];\n  }\n\n  // Generate AI predictions\n  static async generatePredictions(context: {\n    userHistory: any[];\n    contentMetrics: any;\n    currentTrends: any;\n  }): Promise<AIPrediction[]> {\n    await this.delay(1000);\n\n    return [\n      {\n        id: 'pred-1',\n        type: 'trending',\n        title: 'Rising Interest in Productivity Tools',\n        description: 'Based on your recent searches and collection activity, productivity tools content will likely interest you',\n        confidence: 0.87,\n        timeframe: 'Next 2 weeks',\n        actions: [\n          {\n            title: 'Create Productivity Hub Collection',\n            description: 'Organize all productivity tools and resources in one centralized location',\n            impact: 'high',\n            effort: 'medium'\n          },\n          {\n            title: 'Enable AI-Powered Suggestions',\n            description: 'Turn on AI recommendations for productivity-related content',\n            impact: 'medium',\n            effort: 'low'\n          }\n        ],\n        metrics: {\n          estimatedImpact: '+40% engagement',\n          timeToImplement: '30 minutes',\n          userSatisfaction: 0.89\n        }\n      },\n      {\n        id: 'pred-2',\n        type: 'organization',\n        title: 'Collection Optimization Needed',\n        description: 'Your collections show signs of fragmentation and could benefit from intelligent reorganization',\n        confidence: 0.92,\n        timeframe: 'This week',\n        actions: [\n          {\n            title: 'Auto-Merge Similar Collections',\n            description: 'Use AI to identify and merge collections with overlapping content',\n            impact: 'high',\n            effort: 'low'\n          },\n          {\n            title: 'Implement Smart Tags',\n            description: 'Add AI-generated tags to improve content discoverability',\n            impact: 'medium',\n            effort: 'low'\n          }\n        ],\n        metrics: {\n          estimatedImpact: '+60% organization efficiency',\n          timeToImplement: '15 minutes',\n          userSatisfaction: 0.91\n        }\n      }\n    ];\n  }\n\n  // Generate content insights\n  static async generateContentInsights(): Promise<ContentInsight[]> {\n    await this.delay(800);\n\n    return [\n      {\n        id: 'insight-1',\n        category: 'Entertainment',\n        metric: 'Engagement Rate',\n        value: 78,\n        trend: 'up',\n        changePercentage: 15.3,\n        recommendations: [\n          'Focus on high-quality entertainment content',\n          'Create curated entertainment playlists',\n          'Schedule regular content refreshes'\n        ],\n        timeframe: 'Last 30 days'\n      },\n      {\n        id: 'insight-2',\n        category: 'Education',\n        metric: 'Completion Rate',\n        value: 45,\n        trend: 'down',\n        changePercentage: -8.7,\n        recommendations: [\n          'Break down long educational content into smaller modules',\n          'Add progress tracking and milestones',\n          'Provide prerequisite recommendations'\n        ],\n        timeframe: 'Last 30 days'\n      }\n    ];\n  }\n\n  // Generate organization suggestions\n  static async generateOrganizationSuggestions(collections: any[]): Promise<AIOrganizationSuggestion[]> {\n    await this.delay(1500);\n\n    return [\n      {\n        id: 'org-1',\n        title: 'Consolidate Similar Collections',\n        description: 'AI has identified 5 collections with significant overlap that could be merged for better organization',\n        priority: 'high',\n        effort: 'low',\n        expectedBenefit: 'Reduce collection count by 40% while improving findability',\n        steps: [\n          {\n            title: 'Identify Overlapping Content',\n            description: 'AI will analyze content similarities across collections',\n            automated: true\n          },\n          {\n            title: 'Create Merged Collection Structure',\n            description: 'Design new collection hierarchy with smart sub-collections',\n            automated: false\n          },\n          {\n            title: 'Migrate Content Automatically',\n            description: 'AI will move content to new structure while preserving metadata',\n            automated: true\n          }\n        ],\n        beforeAfter: {\n          description: 'Before: 15 scattered collections with duplicates',\n          improvement: 'After: 9 well-organized collections with clear hierarchy'\n        }\n      },\n      {\n        id: 'org-2',\n        title: 'Implement Smart Tagging System',\n        description: 'Add AI-powered tags to all content for better search and discovery',\n        priority: 'medium',\n        effort: 'medium',\n        expectedBenefit: 'Improve content discoverability by 65%',\n        steps: [\n          {\n            title: 'Analyze Existing Content',\n            description: 'AI will analyze all content to extract meaningful tags',\n            automated: true\n          },\n          {\n            title: 'Create Tag Hierarchy',\n            description: 'Organize tags into categories and sub-categories',\n            automated: false\n          },\n          {\n            title: 'Apply Tags to Content',\n            description: 'Automatically apply relevant tags to all items',\n            automated: true\n          }\n        ]\n      }\n    ];\n  }\n}\n\n// User Behavior Analytics Component\ninterface AIUserBehaviorAnalyticsProps {\n  userId: string;\n  onActionImplement: (action: string) => void;\n}\n\nexport const AIUserBehaviorAnalytics: React.FC<AIUserBehaviorAnalyticsProps> = ({\n  userId,\n  onActionImplement\n}) => {\n  const [patterns, setPatterns] = useState<UserBehaviorPattern[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const loadPatterns = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const result = await AIAnalyticsService.analyzeUserBehavior(userId);\n      setPatterns(result);\n    } catch (err) {\n      setError('Failed to analyze user behavior');\n    } finally {\n      setLoading(false);\n    }\n  }, [userId]);\n\n  useEffect(() => {\n    loadPatterns();\n  }, [loadPatterns]);\n\n  const getImpactColor = (impact: string) => {\n    switch (impact) {\n      case 'high': return 'text-red-600 bg-red-50';\n      case 'medium': return 'text-yellow-600 bg-yellow-50';\n      case 'low': return 'text-green-600 bg-green-50';\n      default: return 'text-gray-600 bg-gray-50';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n        <div className=\"flex items-center space-x-3 mb-4\">\n          <Activity className=\"w-5 h-5 text-indigo-600\" />\n          <h3 className=\"font-semibold text-gray-900\">User Behavior Analytics</h3>\n          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 ml-auto\"></div>\n        </div>\n        <div className=\"space-y-3\">\n          {[1, 2, 3].map(i => (\n            <div key={i} className=\"animate-pulse\">\n              <div className=\"h-4 bg-gray-200 rounded w-2/3 mb-2\"></div>\n              <div className=\"h-3 bg-gray-200 rounded w-full mb-1\"></div>\n              <div className=\"h-3 bg-gray-200 rounded w-4/5\"></div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n        <div className=\"flex items-center space-x-2\">\n          <div className=\"w-5 h-5 text-red-600\">⚠️</div>\n          <span className=\"text-red-800\">{error}</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n      <div className=\"flex items-center space-x-3 mb-4\">\n        <Activity className=\"w-5 h-5 text-indigo-600\" />\n        <h3 className=\"font-semibold text-gray-900\">User Behavior Analytics</h3>\n        <button\n          onClick={loadPatterns}\n          className=\"ml-auto p-1 hover:bg-gray-100 rounded-full transition-colors\"\n        >\n          <RefreshCw className=\"w-4 h-4 text-gray-600\" />\n        </button>\n      </div>\n\n      {patterns.length === 0 ? (\n        <p className=\"text-gray-500 text-sm\">No behavior patterns available.</p>\n      ) : (\n        <div className=\"space-y-4\">\n          {patterns.map(pattern => (\n            <div key={pattern.id} className=\"border border-gray-100 rounded-lg p-3\">\n              <div className=\"flex items-start justify-between mb-2\">\n                <div>\n                  <h4 className=\"font-medium text-gray-900\">{pattern.pattern}</h4>\n                  <div className=\"flex items-center space-x-2 mt-1\">\n                    <span className=\"text-sm text-gray-600\">\n                      {Math.round(pattern.frequency * 100)}% frequency\n                    </span>\n                    <span className=\"text-sm text-gray-400\">•</span>\n                    <span className=\"text-sm text-gray-600\">\n                      {Math.round(pattern.confidence * 100)}% confidence\n                    </span>\n                  </div>\n                </div>\n                <span className={`px-2 py-1 rounded-full text-xs font-medium ${getImpactColor(pattern.impact)}`}>\n                  {pattern.impact} impact\n                </span>\n              </div>\n\n              <p className=\"text-sm text-gray-700 mb-3\">{pattern.description}</p>\n\n              <div className=\"space-y-2\">\n                <h5 className=\"text-xs font-medium text-gray-700 uppercase tracking-wide\">AI Recommendations:</h5>\n                {pattern.recommendations.map((rec, index) => (\n                  <div key={index} className=\"flex items-start space-x-2\">\n                    <Lightbulb className=\"w-3 h-3 text-yellow-500 mt-0.5 flex-shrink-0\" />\n                    <span className=\"text-sm text-gray-600\">{rec}</span>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"mt-3 pt-3 border-t border-gray-100\">\n                <button\n                  onClick={() => onActionImplement(`Implement recommendations for: ${pattern.pattern}`)}\n                  className=\"text-sm text-indigo-600 hover:text-indigo-800 transition-colors\"\n                >\n                  Implement Suggestions\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// AI Predictions Component\ninterface AIPredictionsProps {\n  onPredictionAction: (predictionId: string, actionId: string) => void;\n}\n\nexport const AIPredictions: React.FC<AIPredictionsProps> = ({\n  onPredictionAction\n}) => {\n  const [predictions, setPredictions] = useState<AIPrediction[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [expandedPrediction, setExpandedPrediction] = useState<string | null>(null);\n\n  const loadPredictions = useCallback(async () => {\n    setLoading(true);\n    try {\n      const result = await AIAnalyticsService.generatePredictions({\n        userHistory: [],\n        contentMetrics: {},\n        currentTrends: {}\n      });\n      setPredictions(result);\n    } catch (err) {\n      console.error('Failed to load predictions:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    loadPredictions();\n  }, [loadPredictions]);\n\n  const getPredictionIcon = (type: string) => {\n    switch (type) {\n      case 'trending': return <TrendingUp className=\"w-4 h-4\" />;\n      case 'recommendation': return <Target className=\"w-4 h-4\" />;\n      case 'organization': return <Settings className=\"w-4 h-4\" />;\n      case 'engagement': return <BarChart3 className=\"w-4 h-4\" />;\n      default: return <Zap className=\"w-4 h-4\" />;\n    }\n  };\n\n  const getPredictionColor = (type: string) => {\n    switch (type) {\n      case 'trending': return 'text-blue-600 bg-blue-50';\n      case 'recommendation': return 'text-green-600 bg-green-50';\n      case 'organization': return 'text-purple-600 bg-purple-50';\n      case 'engagement': return 'text-orange-600 bg-orange-50';\n      default: return 'text-gray-600 bg-gray-50';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n        <div className=\"flex items-center space-x-3 mb-4\">\n          <Zap className=\"w-5 h-5 text-indigo-600\" />\n          <h3 className=\"font-semibold text-gray-900\">AI Predictions</h3>\n          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 ml-auto\"></div>\n        </div>\n        <div className=\"space-y-3\">\n          {[1, 2].map(i => (\n            <div key={i} className=\"animate-pulse\">\n              <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n              <div className=\"h-3 bg-gray-200 rounded w-full\"></div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n      <div className=\"flex items-center space-x-3 mb-4\">\n        <Zap className=\"w-5 h-5 text-indigo-600\" />\n        <h3 className=\"font-semibold text-gray-900\">AI Predictions</h3>\n        <span className=\"ml-auto text-xs text-gray-500\">Updated hourly</span>\n      </div>\n\n      {predictions.length === 0 ? (\n        <p className=\"text-gray-500 text-sm\">No predictions available.</p>\n      ) : (\n        <div className=\"space-y-3\">\n          {predictions.map(prediction => (\n            <div key={prediction.id} className=\"border border-gray-100 rounded-lg p-3\">\n              <div \n                className=\"flex items-start justify-between cursor-pointer\"\n                onClick={() => setExpandedPrediction(\n                  expandedPrediction === prediction.id ? null : prediction.id\n                )}\n              >\n                <div className=\"flex items-start space-x-3\">\n                  <div className={`p-2 rounded-lg ${getPredictionColor(prediction.type)}`}>\n                    {getPredictionIcon(prediction.type)}\n                  </div>\n                  <div>\n                    <h4 className=\"font-medium text-gray-900\">{prediction.title}</h4>\n                    <div className=\"flex items-center space-x-2 mt-1\">\n                      <span className=\"text-sm text-gray-600\">\n                        {Math.round(prediction.confidence * 100)}% confidence\n                      </span>\n                      <span className=\"text-sm text-gray-400\">•</span>\n                      <span className=\"text-sm text-gray-600\">{prediction.timeframe}</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"w-2 h-2 rounded-full bg-green-500\"></div>\n                  <span className=\"text-xs text-gray-600\">Active</span>\n                </div>\n              </div>\n\n              <p className=\"text-sm text-gray-700 mt-2 mb-3\">{prediction.description}</p>\n\n              {expandedPrediction === prediction.id && (\n                <div className=\"space-y-3 mt-4 pt-3 border-t border-gray-100\">\n                  <div>\n                    <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Recommended Actions:</h5>\n                    <div className=\"space-y-2\">\n                      {prediction.actions.map((action, index) => (\n                        <div key={index} className=\"flex items-start justify-between p-3 bg-gray-50 rounded-lg\">\n                          <div>\n                            <h6 className=\"text-sm font-medium text-gray-900\">{action.title}</h6>\n                            <p className=\"text-xs text-gray-600 mt-1\">{action.description}</p>\n                            <div className=\"flex items-center space-x-3 mt-2\">\n                              <span className=\"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded\">\n                                {action.impact} impact\n                              </span>\n                              <span className=\"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded\">\n                                {action.effort} effort\n                              </span>\n                            </div>\n                          </div>\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              onPredictionAction(prediction.id, action.title);\n                            }}\n                            className=\"ml-3 px-3 py-1 bg-indigo-600 text-white text-xs rounded hover:bg-indigo-700 transition-colors\"\n                          >\n                            Implement\n                          </button>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div className=\"bg-blue-50 p-3 rounded-lg\">\n                    <h5 className=\"text-sm font-medium text-blue-900 mb-2\">Expected Impact:</h5>\n                    <div className=\"grid grid-cols-3 gap-3 text-xs\">\n                      <div>\n                        <span className=\"text-blue-700\">Impact:</span>\n                        <span className=\"text-blue-900 font-medium block\">{prediction.metrics.estimatedImpact}</span>\n                      </div>\n                      <div>\n                        <span className=\"text-blue-700\">Time:</span>\n                        <span className=\"text-blue-900 font-medium block\">{prediction.metrics.timeToImplement}</span>\n                      </div>\n                      <div>\n                        <span className=\"text-blue-700\">Satisfaction:</span>\n                        <span className=\"text-blue-900 font-medium block\">{Math.round(prediction.metrics.userSatisfaction * 100)}%</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Smart Organization Suggestions Component\ninterface AISmartOrganizationProps {\n  collections: any[];\n  onSuggestionApply: (suggestionId: string) => void;\n}\n\nexport const AISmartOrganization: React.FC<AISmartOrganizationProps> = ({\n  collections,\n  onSuggestionApply\n}) => {\n  const [suggestions, setSuggestions] = useState<AIOrganizationSuggestion[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [expandedSuggestion, setExpandedSuggestion] = useState<string | null>(null);\n\n  const loadSuggestions = useCallback(async () => {\n    setLoading(true);\n    try {\n      const result = await AIAnalyticsService.generateOrganizationSuggestions(collections);\n      setSuggestions(result);\n    } catch (err) {\n      console.error('Failed to load organization suggestions:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, [collections]);\n\n  useEffect(() => {\n    loadSuggestions();\n  }, [loadSuggestions]);\n\n  const getPriorityColor = (priority: string) => {\n    switch (priority) {\n      case 'high': return 'text-red-600 bg-red-50';\n      case 'medium': return 'text-yellow-600 bg-yellow-50';\n      case 'low': return 'text-green-600 bg-green-50';\n      default: return 'text-gray-600 bg-gray-50';\n    }\n  };\n\n  const getEffortColor = (effort: string) => {\n    switch (effort) {\n      case 'high': return 'text-purple-600 bg-purple-50';\n      case 'medium': return 'text-blue-600 bg-blue-50';\n      case 'low': return 'text-green-600 bg-green-50';\n      default: return 'text-gray-600 bg-gray-50';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n        <div className=\"flex items-center space-x-3 mb-4\">\n          <Settings className=\"w-5 h-5 text-indigo-600\" />\n          <h3 className=\"font-semibold text-gray-900\">Smart Organization</h3>\n          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 ml-auto\"></div>\n        </div>\n        <div className=\"space-y-3\">\n          {[1, 2].map(i => (\n            <div key={i} className=\"animate-pulse\">\n              <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n              <div className=\"h-3 bg-gray-200 rounded w-full\"></div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n      <div className=\"flex items-center space-x-3 mb-4\">\n        <Settings className=\"w-5 h-5 text-indigo-600\" />\n        <h3 className=\"font-semibold text-gray-900\">Smart Organization</h3>\n        <span className=\"ml-auto text-xs text-gray-500\">AI-powered</span>\n      </div>\n\n      {suggestions.length === 0 ? (\n        <p className=\"text-gray-500 text-sm\">No organization suggestions available.</p>\n      ) : (\n        <div className=\"space-y-3\">\n          {suggestions.map(suggestion => (\n            <div key={suggestion.id} className=\"border border-gray-100 rounded-lg p-3\">\n              <div \n                className=\"flex items-start justify-between cursor-pointer\"\n                onClick={() => setExpandedSuggestion(\n                  expandedSuggestion === suggestion.id ? null : suggestion.id\n                )}\n              >\n                <div className=\"flex-1\">\n                  <h4 className=\"font-medium text-gray-900\">{suggestion.title}</h4>\n                  <p className=\"text-sm text-gray-600 mt-1\">{suggestion.description}</p>\n                  <div className=\"flex items-center space-x-2 mt-2\">\n                    <span className={`text-xs px-2 py-1 rounded ${getPriorityColor(suggestion.priority)}`}>\n                      {suggestion.priority} priority\n                    </span>\n                    <span className={`text-xs px-2 py-1 rounded ${getEffortColor(suggestion.effort)}`}>\n                      {suggestion.effort} effort\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {expandedSuggestion === suggestion.id && (\n                <div className=\"mt-4 pt-3 border-t border-gray-100 space-y-3\">\n                  <div className=\"bg-green-50 p-3 rounded-lg\">\n                    <h5 className=\"text-sm font-medium text-green-900\">Expected Benefit:</h5>\n                    <p className=\"text-sm text-green-700\">{suggestion.expectedBenefit}</p>\n                  </div>\n\n                  <div>\n                    <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Implementation Steps:</h5>\n                    <div className=\"space-y-2\">\n                      {suggestion.steps.map((step, index) => (\n                        <div key={index} className=\"flex items-start space-x-3\">\n                          <div className=\"flex-shrink-0 w-6 h-6 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center text-xs font-medium\">\n                            {index + 1}\n                          </div>\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center space-x-2\">\n                              <h6 className=\"text-sm font-medium text-gray-900\">{step.title}</h6>\n                              {step.automated && (\n                                <span className=\"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded\">Automated</span>\n                              )}\n                            </div>\n                            <p className=\"text-xs text-gray-600 mt-1\">{step.description}</p>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n\n                  {suggestion.beforeAfter && (\n                    <div className=\"bg-gray-50 p-3 rounded-lg\">\n                      <h5 className=\"text-sm font-medium text-gray-900 mb-2\">Before/After:</h5>\n                      <p className=\"text-sm text-gray-600\">{suggestion.beforeAfter.description}</p>\n                      <p className=\"text-sm font-medium text-green-700 mt-1\">{suggestion.beforeAfter.improvement}</p>\n                    </div>\n                  )}\n\n                  <button\n                    onClick={() => onSuggestionApply(suggestion.id)}\n                    className=\"w-full px-4 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 transition-colors\"\n                  >\n                    Apply Suggestion\n                  </button>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Export AI analytics service for external use\nexport { AIAnalyticsService };\nexport type { UserBehaviorPattern, AIPrediction, ContentInsight, AIOrganizationSuggestion };","import React, { useState, useEffect, useCallback } from 'react';\nimport { Brain, Zap, Search, TrendingUp, Settings, Sparkles, FileText, Image, Video, Music, Download, Share } from 'lucide-react';\n\n// Types for AI metadata extraction and automation\ninterface ExtractedMetadata {\n  id: string;\n  title: string;\n  description: string;\n  tags: string[];\n  categories: string[];\n  confidence: number;\n  source: 'ai' | 'manual' | 'hybrid';\n  extractedFields: {\n    [key: string]: {\n      value: any;\n      confidence: number;\n      source: string;\n    };\n  };\n}\n\ninterface AutomationRule {\n  id: string;\n  name: string;\n  description: string;\n  trigger: {\n    type: 'content_added' | 'schedule' | 'manual' | 'content_updated';\n    conditions: {\n      field: string;\n      operator: 'equals' | 'contains' | 'starts_with' | 'regex';\n      value: any;\n    }[];\n  };\n  actions: {\n    type: 'categorize' | 'tag' | 'move_to_collection' | 'send_notification' | 'transform';\n    parameters: any;\n  }[];\n  enabled: boolean;\n  priority: 'low' | 'medium' | 'high';\n  executionCount: number;\n  lastExecuted?: string;\n}\n\ninterface ContentQuality {\n  score: number;\n  factors: {\n    completeness: number;\n    accuracy: number;\n    engagement: number;\n    relevance: number;\n  };\n  recommendations: string[];\n  improvements: {\n    type: 'add_metadata' | 'improve_description' | 'add_tags' | 'enhance_content';\n    description: string;\n    impact: 'high' | 'medium' | 'low';\n  }[];\n}\n\ninterface SmartContent {\n  id: string;\n  type: 'video' | 'image' | 'document' | 'audio' | 'mixed';\n  qualityScore: number;\n  autoGenerated: {\n    title: string;\n    description: string;\n    tags: string[];\n    thumbnail?: string;\n    preview?: string;\n  };\n  metadata: ExtractedMetadata;\n  processing: {\n    status: 'pending' | 'processing' | 'completed' | 'failed';\n    stage: string;\n    progress: number;\n  };\n}\n\n// Mock AI service for metadata extraction and automation\nclass AIMetadataService {\n  private static delay(ms = 600): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  // Extract metadata from content using AI\n  static async extractMetadata(content: {\n    title?: string;\n    description?: string;\n    fileType?: string;\n    size?: number;\n    duration?: number;\n    url?: string;\n  }): Promise<ExtractedMetadata> {\n    await this.delay(1200);\n\n    const title = content.title || 'Untitled Content';\n    const description = content.description || '';\n    \n    // Simulate AI analysis based on content properties\n    const contentType = this.detectContentType(content.fileType);\n    const confidence = 0.75 + Math.random() * 0.2;\n    \n    // Extract relevant tags based on content\n    const tags = this.extractTags(title, description, contentType);\n    \n    // Determine categories\n    const categories = this.determineCategories(title, description, contentType);\n\n    return {\n      id: `metadata-${Date.now()}`,\n      title: this.generateSmartTitle(title, contentType),\n      description: this.generateSmartDescription(title, description, contentType),\n      tags,\n      categories,\n      confidence,\n      source: 'ai',\n      extractedFields: {\n        contentType: { value: contentType, confidence: 0.95, source: 'file_analysis' },\n        quality: { value: this.assessQuality(content), confidence: 0.80, source: 'ai_analysis' },\n        engagement: { value: this.predictEngagement(content), confidence: 0.70, source: 'ml_model' },\n        ...(content.duration ? { duration: { value: content.duration, confidence: 0.90, source: 'metadata' } } : {}),\n        ...(content.size ? { size: { value: content.size, confidence: 0.95, source: 'file_system' } } : {})\n      }\n    };\n  }\n\n  // Analyze content quality\n  static async analyzeContentQuality(content: any): Promise<ContentQuality> {\n    await this.delay(800);\n\n    const completeness = Math.random() * 0.4 + 0.6; // 60-100%\n    const accuracy = Math.random() * 0.3 + 0.7; // 70-100%\n    const engagement = Math.random() * 0.4 + 0.5; // 50-90%\n    const relevance = Math.random() * 0.3 + 0.6; // 60-90%\n\n    const score = (completeness + accuracy + engagement + relevance) / 4;\n\n    return {\n      score,\n      factors: { completeness, accuracy, engagement, relevance },\n      recommendations: this.generateRecommendations(score, content),\n      improvements: this.generateImprovements(content, score)\n    };\n  }\n\n  // Generate automation rules based on patterns\n  static async generateAutomationRules(userBehavior: any): Promise<AutomationRule[]> {\n    await this.delay(1000);\n\n    return [\n      {\n        id: 'auto-1',\n        name: 'Auto-Categorize Entertainment Content',\n        description: 'Automatically categorize entertainment content and add relevant tags',\n        trigger: {\n          type: 'content_added',\n          conditions: [\n            { field: 'contentType', operator: 'contains', value: 'video' },\n            { field: 'title', operator: 'regex', value: '(movie|film|series|show)' }\n          ]\n        },\n        actions: [\n          {\n            type: 'categorize',\n            parameters: { category: 'Entertainment', subcategory: 'Movies' }\n          },\n          {\n            type: 'tag',\n            parameters: { tags: ['entertainment', 'video', 'auto-categorized'] }\n          }\n        ],\n        enabled: true,\n        priority: 'medium',\n        executionCount: 47,\n        lastExecuted: new Date(Date.now() - 1000 * 60 * 30).toISOString()\n      },\n      {\n        id: 'auto-2',\n        name: 'Weekly Content Organization',\n        description: 'Review and organize content collections weekly',\n        trigger: {\n          type: 'schedule',\n          conditions: [\n            { field: 'frequency', operator: 'equals', value: 'weekly' }\n          ]\n        },\n        actions: [\n          {\n            type: 'move_to_collection',\n            parameters: { organizeBy: 'category', mergeSimilar: true }\n          }\n        ],\n        enabled: true,\n        priority: 'low',\n        executionCount: 12,\n        lastExecuted: new Date(Date.now() - 1000 * 60 * 60 * 24 * 3).toISOString()\n      }\n    ];\n  }\n\n  // Process content with AI\n  static async processContent(content: any): Promise<SmartContent> {\n    await this.delay(1500);\n\n    const contentType = this.detectContentType(content.fileType);\n    const qualityScore = Math.random() * 0.3 + 0.7; // 70-100%\n\n    return {\n      id: `smart-content-${Date.now()}`,\n      type: contentType,\n      qualityScore,\n      autoGenerated: {\n        title: this.generateSmartTitle(content.title, contentType),\n        description: this.generateSmartDescription(content.title, content.description, contentType),\n        tags: this.extractTags(content.title, content.description, contentType),\n        thumbnail: Math.random() > 0.5 ? 'auto-generated-thumbnail.jpg' : undefined,\n        preview: Math.random() > 0.7 ? 'auto-generated-preview.mp4' : undefined\n      },\n      metadata: await this.extractMetadata(content),\n      processing: {\n        status: 'completed',\n        stage: 'metadata_extraction',\n        progress: 100\n      }\n    };\n  }\n\n  // Helper methods\n  private static detectContentType(fileType?: string): SmartContent['type'] {\n    if (!fileType) return 'mixed';\n    \n    const type = fileType.toLowerCase();\n    if (type.includes('video')) return 'video';\n    if (type.includes('image')) return 'image';\n    if (type.includes('audio') || type.includes('music')) return 'audio';\n    if (type.includes('document') || type.includes('pdf') || type.includes('text')) return 'document';\n    return 'mixed';\n  }\n\n  private static generateSmartTitle(title: string, contentType: string): string {\n    if (title && title.length > 10) return title;\n    \n    const prefixes = {\n      video: ['Video:', 'Movie:', 'Documentary:'],\n      image: ['Image:', 'Photo:', 'Graphic:'],\n      audio: ['Audio:', 'Music:', 'Podcast:'],\n      document: ['Document:', 'Article:', 'Report:'],\n      mixed: ['Content:', 'Media:', 'File:']\n    };\n\n    const prefixList = prefixes[contentType as keyof typeof prefixes] || prefixes.mixed;\n    const prefix = prefixList[Math.floor(Math.random() * prefixList.length)];\n    \n    return title ? `${prefix} ${title}` : `${prefix} Untitled ${contentType}`;\n  }\n\n  private static generateSmartDescription(title: string, description: string, contentType: string): string {\n    if (description && description.length > 20) return description;\n    \n    const templates = {\n      video: `High-quality video content titled \"${title}\". Great for entertainment and educational purposes.`,\n      image: `Professional image titled \"${title}\". Perfect for visual content and creative projects.`,\n      audio: `Audio content titled \"${title}\". Ideal for listening and audio experiences.`,\n      document: `Document titled \"${title}\". Contains valuable information and insights.`,\n      mixed: `Content titled \"${title}\". Versatile media with multiple applications.`\n    };\n\n    return templates[contentType as keyof typeof templates] || templates.mixed;\n  }\n\n  private static extractTags(title: string, description: string, contentType: string): string[] {\n    const tags = [contentType, 'ai-generated'];\n    \n    // Extract keywords from title\n    const titleWords = title.toLowerCase().split(' ').filter(word => word.length > 3);\n    tags.push(...titleWords.slice(0, 3));\n    \n    // Extract keywords from description\n    if (description) {\n      const descWords = description.toLowerCase().split(' ').filter(word => word.length > 3);\n      tags.push(...descWords.slice(0, 2));\n    }\n    \n    // Add content type specific tags\n    const typeTags = {\n      video: ['video', 'multimedia', 'visual'],\n      image: ['image', 'photo', 'visual'],\n      audio: ['audio', 'sound', 'listening'],\n      document: ['document', 'text', 'reading'],\n      mixed: ['content', 'media', 'versatile']\n    };\n    \n    tags.push(...typeTags[contentType as keyof typeof typeTags]);\n    \n    // Remove duplicates and limit to 10 tags\n    return [...new Set(tags)].slice(0, 10);\n  }\n\n  private static determineCategories(title: string, description: string, contentType: string): string[] {\n    const categories = [contentType];\n    \n    // Simple keyword-based categorization\n    const keywords = (title + ' ' + description).toLowerCase();\n    \n    if (keywords.includes('work') || keywords.includes('business') || keywords.includes('professional')) {\n      categories.push('Work');\n    }\n    if (keywords.includes('entertainment') || keywords.includes('fun') || keywords.includes('leisure')) {\n      categories.push('Entertainment');\n    }\n    if (keywords.includes('education') || keywords.includes('learn') || keywords.includes('tutorial')) {\n      categories.push('Education');\n    }\n    if (keywords.includes('personal') || keywords.includes('family') || keywords.includes('home')) {\n      categories.push('Personal');\n    }\n    \n    return categories;\n  }\n\n  private static assessQuality(content: any): number {\n    let score = 0.5; // Base score\n    \n    if (content.size && content.size > 1000000) score += 0.2; // Larger files often better quality\n    if (content.title && content.title.length > 10) score += 0.1;\n    if (content.description && content.description.length > 50) score += 0.1;\n    if (content.duration && content.duration > 30) score += 0.1; // Longer content\n    \n    return Math.min(score, 1.0);\n  }\n\n  private static predictEngagement(content: any): number {\n    let prediction = 0.3; // Base prediction\n    \n    if (content.title && content.title.length > 15) prediction += 0.1;\n    if (content.description && content.description.length > 100) prediction += 0.1;\n    if (content.tags && content.tags.length > 5) prediction += 0.1;\n    if (content.categories && content.categories.length > 2) prediction += 0.1;\n    \n    // Add some randomness\n    prediction += Math.random() * 0.3;\n    \n    return Math.min(prediction, 1.0);\n  }\n\n  private static generateRecommendations(score: number, content: any): string[] {\n    const recommendations = [];\n    \n    if (score < 0.7) {\n      recommendations.push('Improve content metadata for better discoverability');\n      recommendations.push('Add more descriptive tags and categories');\n    }\n    if (score < 0.8) {\n      recommendations.push('Enhance description with more details');\n    }\n    if (!content.thumbnail) {\n      recommendations.push('Add thumbnail for visual appeal');\n    }\n    \n    return recommendations;\n  }\n\n  private static generateImprovements(content: any, score: number): ContentQuality['improvements'] {\n    const improvements: ContentQuality['improvements'] = [];\n    \n    if (!content.description || content.description.length < 50) {\n      improvements.push({\n        type: 'improve_description',\n        description: 'Add a more detailed description (minimum 50 characters)',\n        impact: 'medium'\n      });\n    }\n    \n    if (!content.tags || content.tags.length < 5) {\n      improvements.push({\n        type: 'add_tags',\n        description: 'Add more relevant tags (minimum 5 recommended)',\n        impact: 'high'\n      });\n    }\n    \n    if (!content.categories || content.categories.length < 2) {\n      improvements.push({\n        type: 'add_metadata',\n        description: 'Categorize content for better organization',\n        impact: 'high'\n      });\n    }\n    \n    return improvements;\n  }\n}\n\n// AI Metadata Extractor Component\ninterface AIMetadataExtractorProps {\n  content: any;\n  onMetadataExtracted: (metadata: ExtractedMetadata) => void;\n}\n\nexport const AIMetadataExtractor: React.FC<AIMetadataExtractorProps> = ({\n  content,\n  onMetadataExtracted\n}) => {\n  const [metadata, setMetadata] = useState<ExtractedMetadata | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [extracting, setExtracting] = useState(false);\n\n  const extractMetadata = async () => {\n    setExtracting(true);\n    try {\n      const result = await AIMetadataService.extractMetadata(content);\n      setMetadata(result);\n      onMetadataExtracted(result);\n    } catch (err) {\n      console.error('Failed to extract metadata:', err);\n    } finally {\n      setExtracting(false);\n    }\n  };\n\n  if (extracting) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n        <div className=\"text-center py-4\">\n          <Brain className=\"w-8 h-8 text-indigo-600 mx-auto mb-3 animate-pulse\" />\n          <p className=\"text-gray-600\">AI is extracting metadata...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!metadata) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n        <div className=\"flex items-center space-x-3 mb-4\">\n          <FileText className=\"w-5 h-5 text-indigo-600\" />\n          <h3 className=\"font-semibold text-gray-900\">AI Metadata Extraction</h3>\n        </div>\n        <div className=\"text-center py-4\">\n          <p className=\"text-gray-600 mb-4\">Extract rich metadata using AI analysis</p>\n          <button\n            onClick={extractMetadata}\n            className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center space-x-2 mx-auto\"\n          >\n            <Zap className=\"w-4 h-4\" />\n            <span>Extract Metadata</span>\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n      <div className=\"flex items-center space-x-3 mb-4\">\n        <FileText className=\"w-5 h-5 text-indigo-600\" />\n        <h3 className=\"font-semibold text-gray-900\">Extracted Metadata</h3>\n        <div className=\"ml-auto flex items-center space-x-2\">\n          <div className=\"w-2 h-2 rounded-full bg-green-500\"></div>\n          <span className=\"text-sm text-gray-600\">AI-Generated</span>\n        </div>\n      </div>\n\n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"text-sm font-medium text-gray-700\">Title</label>\n          <p className=\"text-gray-900\">{metadata.title}</p>\n        </div>\n\n        <div>\n          <label className=\"text-sm font-medium text-gray-700\">Description</label>\n          <p className=\"text-gray-600 text-sm\">{metadata.description}</p>\n        </div>\n\n        <div>\n          <label className=\"text-sm font-medium text-gray-700\">Tags</label>\n          <div className=\"flex flex-wrap gap-2 mt-1\">\n            {metadata.tags.map(tag => (\n              <span key={tag} className=\"px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs\">\n                {tag}\n              </span>\n            ))}\n          </div>\n        </div>\n\n        <div>\n          <label className=\"text-sm font-medium text-gray-700\">Categories</label>\n          <div className=\"flex flex-wrap gap-2 mt-1\">\n            {metadata.categories.map(category => (\n              <span key={category} className=\"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs\">\n                {category}\n              </span>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"pt-3 border-t border-gray-100\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-sm font-medium text-gray-700\">Confidence</span>\n            <span className=\"text-sm text-gray-600\">{Math.round(metadata.confidence * 100)}%</span>\n          </div>\n          <div className=\"w-full bg-gray-200 rounded-full h-2\">\n            <div \n              className=\"bg-indigo-600 h-2 rounded-full\"\n              style={{ width: `${metadata.confidence * 100}%` }}\n            ></div>\n          </div>\n        </div>\n\n        <button\n          onClick={extractMetadata}\n          className=\"text-sm text-indigo-600 hover:text-indigo-800 transition-colors\"\n        >\n          Re-extract Metadata\n        </button>\n      </div>\n    </div>\n  );\n};\n\n// AI Automation Rules Component\ninterface AIAutomationRulesProps {\n  onRuleToggle: (ruleId: string, enabled: boolean) => void;\n  onRuleExecute: (ruleId: string) => void;\n}\n\nexport const AIAutomationRules: React.FC<AIAutomationRulesProps> = ({\n  onRuleToggle,\n  onRuleExecute\n}) => {\n  const [rules, setRules] = useState<AutomationRule[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [expandedRule, setExpandedRule] = useState<string | null>(null);\n\n  const loadRules = useCallback(async () => {\n    setLoading(true);\n    try {\n      const result = await AIMetadataService.generateAutomationRules({});\n      setRules(result);\n    } catch (err) {\n      console.error('Failed to load automation rules:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    loadRules();\n  }, [loadRules]);\n\n  const getPriorityColor = (priority: string) => {\n    switch (priority) {\n      case 'high': return 'text-red-600 bg-red-50';\n      case 'medium': return 'text-yellow-600 bg-yellow-50';\n      case 'low': return 'text-green-600 bg-green-50';\n      default: return 'text-gray-600 bg-gray-50';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n        <div className=\"flex items-center space-x-3 mb-4\">\n          <Settings className=\"w-5 h-5 text-indigo-600\" />\n          <h3 className=\"font-semibold text-gray-900\">AI Automation Rules</h3>\n          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 ml-auto\"></div>\n        </div>\n        <div className=\"space-y-3\">\n          {[1, 2].map(i => (\n            <div key={i} className=\"animate-pulse\">\n              <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n              <div className=\"h-3 bg-gray-200 rounded w-full\"></div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n      <div className=\"flex items-center space-x-3 mb-4\">\n        <Settings className=\"w-5 h-5 text-indigo-600\" />\n        <h3 className=\"font-semibold text-gray-900\">AI Automation Rules</h3>\n        <Sparkles className=\"w-4 h-4 text-yellow-500 ml-auto\" />\n      </div>\n\n      {rules.length === 0 ? (\n        <p className=\"text-gray-500 text-sm\">No automation rules available.</p>\n      ) : (\n        <div className=\"space-y-3\">\n          {rules.map(rule => (\n            <div key={rule.id} className=\"border border-gray-100 rounded-lg p-3\">\n              <div \n                className=\"flex items-start justify-between cursor-pointer\"\n                onClick={() => setExpandedRule(\n                  expandedRule === rule.id ? null : rule.id\n                )}\n              >\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center space-x-2\">\n                    <h4 className=\"font-medium text-gray-900\">{rule.name}</h4>\n                    <span className={`text-xs px-2 py-1 rounded ${getPriorityColor(rule.priority)}`}>\n                      {rule.priority}\n                    </span>\n                  </div>\n                  <p className=\"text-sm text-gray-600 mt-1\">{rule.description}</p>\n                  <div className=\"flex items-center space-x-4 mt-2 text-xs text-gray-500\">\n                    <span>Executed {rule.executionCount} times</span>\n                    {rule.lastExecuted && (\n                      <span>Last: {new Date(rule.lastExecuted).toLocaleDateString()}</span>\n                    )}\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      onRuleToggle(rule.id, !rule.enabled);\n                    }}\n                    className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n                      rule.enabled ? 'bg-indigo-600' : 'bg-gray-200'\n                    }`}\n                  >\n                    <span\n                      className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                        rule.enabled ? 'translate-x-6' : 'translate-x-1'\n                      }`}\n                    />\n                  </button>\n                </div>\n              </div>\n\n              {expandedRule === rule.id && (\n                <div className=\"mt-4 pt-3 border-t border-gray-100 space-y-3\">\n                  <div>\n                    <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Trigger</h5>\n                    <div className=\"text-sm text-gray-600\">\n                      <span className=\"font-medium\">Type:</span> {rule.trigger.type}\n                    </div>\n                    {rule.trigger.conditions.length > 0 && (\n                      <div className=\"mt-1\">\n                        <span className=\"font-medium\">Conditions:</span>\n                        <ul className=\"list-disc list-inside text-xs text-gray-600 mt-1\">\n                          {rule.trigger.conditions.map((condition, index) => (\n                            <li key={index}>\n                              {condition.field} {condition.operator} {condition.value}\n                            </li>\n                          ))}\n                        </ul>\n                      </div>\n                    )}\n                  </div>\n\n                  <div>\n                    <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Actions</h5>\n                    <ul className=\"space-y-1\">\n                      {rule.actions.map((action, index) => (\n                        <li key={index} className=\"text-sm text-gray-600\">\n                          <span className=\"font-medium\">{action.type}:</span> {JSON.stringify(action.parameters)}\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n\n                  <button\n                    onClick={() => onRuleExecute(rule.id)}\n                    className=\"w-full px-3 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 transition-colors\"\n                  >\n                    Execute Rule Now\n                  </button>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// AI Content Quality Analyzer Component\ninterface AIContentQualityAnalyzerProps {\n  content: any;\n  onQualityImprovement: (improvement: string) => void;\n}\n\nexport const AIContentQualityAnalyzer: React.FC<AIContentQualityAnalyzerProps> = ({\n  content,\n  onQualityImprovement\n}) => {\n  const [quality, setQuality] = useState<ContentQuality | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [analyzing, setAnalyzing] = useState(false);\n\n  const analyzeQuality = async () => {\n    setAnalyzing(true);\n    try {\n      const result = await AIMetadataService.analyzeContentQuality(content);\n      setQuality(result);\n    } catch (err) {\n      console.error('Failed to analyze content quality:', err);\n    } finally {\n      setAnalyzing(false);\n    }\n  };\n\n  if (analyzing) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n        <div className=\"text-center py-4\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto mb-3\"></div>\n          <p className=\"text-gray-600\">AI is analyzing content quality...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!quality) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n        <div className=\"flex items-center space-x-3 mb-4\">\n          <TrendingUp className=\"w-5 h-5 text-indigo-600\" />\n          <h3 className=\"font-semibold text-gray-900\">AI Quality Analysis</h3>\n        </div>\n        <div className=\"text-center py-4\">\n          <p className=\"text-gray-600 mb-4\">Analyze content quality and get improvement suggestions</p>\n          <button\n            onClick={analyzeQuality}\n            className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center space-x-2 mx-auto\"\n          >\n            <Brain className=\"w-4 h-4\" />\n            <span>Analyze Quality</span>\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const getScoreColor = (score: number) => {\n    if (score >= 0.8) return 'text-green-600';\n    if (score >= 0.6) return 'text-yellow-600';\n    return 'text-red-600';\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n      <div className=\"flex items-center space-x-3 mb-4\">\n        <TrendingUp className=\"w-5 h-5 text-indigo-600\" />\n        <h3 className=\"font-semibold text-gray-900\">Content Quality Analysis</h3>\n        <div className=\"ml-auto flex items-center space-x-2\">\n          <div className={`text-2xl font-bold ${getScoreColor(quality.score)}`}>\n            {Math.round(quality.score * 100)}%\n          </div>\n        </div>\n      </div>\n\n      <div className=\"space-y-4\">\n        <div>\n          <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Quality Factors</h4>\n          <div className=\"space-y-2\">\n            {Object.entries(quality.factors).map(([factor, score]) => (\n              <div key={factor} className=\"flex items-center justify-between\">\n                <span className=\"text-sm text-gray-600 capitalize\">{factor}</span>\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"w-20 bg-gray-200 rounded-full h-2\">\n                    <div \n                      className={`h-2 rounded-full ${getScoreColor(score)}`}\n                      style={{ width: `${score * 100}%` }}\n                    ></div>\n                  </div>\n                  <span className=\"text-sm text-gray-600\">{Math.round(score * 100)}%</span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {quality.recommendations.length > 0 && (\n          <div>\n            <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Recommendations</h4>\n            <ul className=\"space-y-1\">\n              {quality.recommendations.map((rec, index) => (\n                <li key={index} className=\"text-sm text-gray-600 flex items-start space-x-2\">\n                  <Sparkles className=\"w-3 h-3 text-yellow-500 mt-0.5 flex-shrink-0\" />\n                  <span>{rec}</span>\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n\n        {quality.improvements.length > 0 && (\n          <div>\n            <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Improvement Actions</h4>\n            <div className=\"space-y-2\">\n              {quality.improvements.map((improvement, index) => (\n                <div key={index} className=\"flex items-start justify-between p-2 bg-gray-50 rounded\">\n                  <div>\n                    <div className=\"flex items-center space-x-2\">\n                      <span className=\"text-sm font-medium text-gray-900\">{improvement.type}</span>\n                      <span className={`text-xs px-2 py-1 rounded ${\n                        improvement.impact === 'high' ? 'bg-red-100 text-red-700' :\n                        improvement.impact === 'medium' ? 'bg-yellow-100 text-yellow-700' :\n                        'bg-green-100 text-green-700'\n                      }`}>\n                        {improvement.impact} impact\n                      </span>\n                    </div>\n                    <p className=\"text-xs text-gray-600 mt-1\">{improvement.description}</p>\n                  </div>\n                  <button\n                    onClick={() => onQualityImprovement(improvement.description)}\n                    className=\"text-xs text-indigo-600 hover:text-indigo-800 transition-colors\"\n                  >\n                    Apply\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        <button\n          onClick={analyzeQuality}\n          className=\"text-sm text-indigo-600 hover:text-indigo-800 transition-colors\"\n        >\n          Re-analyze Quality\n        </button>\n      </div>\n    </div>\n  );\n};\n\n// Export AI metadata service for external use\nexport { AIMetadataService };\nexport type { ExtractedMetadata, AutomationRule, ContentQuality, SmartContent };"],"names":["AIService","ms","resolve","context","s","item","categories","category","confidence","query","isBrowse","isCompare","isOrganize","intent","entities","word","partialQuery","AICollectionSuggestions","onSuggestionAccept","maxSuggestions","suggestions","setSuggestions","useState","loading","setLoading","error","setError","useEffect","result","jsxs","jsx","Brain","i","Sparkles","suggestion","Folder","Grid","TrendingUp","tag","AINaturalSearch","onSearch","placeholder","setQuery","showSuggestions","setShowSuggestions","debouncedGetSuggestions","useCallback","debounce","input","err","handleSubmit","e","processedQuery","Search","Lightbulb","index","AIContentCategorizer","onCategorizationComplete","categorization","setCategorization","categorizing","setCategorizing","categorizeContent","Tag","AIAnalyticsService","userId","collections","AIUserBehaviorAnalytics","onActionImplement","patterns","setPatterns","loadPatterns","getImpactColor","impact","Activity","RefreshCw","pattern","rec","AIPredictions","onPredictionAction","predictions","setPredictions","expandedPrediction","setExpandedPrediction","loadPredictions","getPredictionIcon","type","Target","Settings","BarChart3","Zap","getPredictionColor","prediction","action","AISmartOrganization","onSuggestionApply","expandedSuggestion","setExpandedSuggestion","loadSuggestions","getPriorityColor","priority","getEffortColor","effort","step","AIMetadataService","content","title","description","contentType","tags","completeness","accuracy","engagement","relevance","score","userBehavior","qualityScore","fileType","prefixes","prefixList","prefix","templates","titleWords","descWords","typeTags","keywords","recommendations","improvements","AIMetadataExtractor","onMetadataExtracted","metadata","setMetadata","extracting","setExtracting","extractMetadata","FileText","AIAutomationRules","onRuleToggle","onRuleExecute","rules","setRules","expandedRule","setExpandedRule","loadRules","rule","condition","AIContentQualityAnalyzer","onQualityImprovement","quality","setQuality","analyzing","setAnalyzing","analyzeQuality","getScoreColor","factor","improvement"],"mappings":"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"}