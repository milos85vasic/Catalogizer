{"version":3,"file":"ConversionTools-9f69Kl8o.js","sources":["../../src/components/conversion/FormatConverter.tsx","../../src/lib/conversionApi.ts","../../src/pages/ConversionTools.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Settings, PlayCircle, Download, Clock, CheckCircle, AlertCircle, X, RefreshCw } from 'lucide-react';\nimport { Button } from '../ui/Button';\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/Card';\nimport { Badge } from '../ui/Badge';\nimport { Progress } from '../ui/Progress';\nimport { Input } from '../ui/Input';\n\ninterface ConversionJob {\n  id: string;\n  sourceFile: {\n    path: string;\n    name: string;\n    format: string;\n    size: number;\n  };\n  targetFormat: string;\n  quality: 'low' | 'medium' | 'high' | 'ultra';\n  status: 'pending' | 'processing' | 'completed' | 'failed' | 'cancelled';\n  progress: number;\n  startTime?: string;\n  endTime?: string;\n  outputFile?: string;\n  error?: string;\n  options: {\n    resolution?: string;\n    bitrate?: number;\n    framerate?: number;\n    audioCodec?: string;\n    videoCodec?: string;\n  };\n}\n\ninterface FormatConverterProps {\n  jobs: ConversionJob[];\n  supportedFormats: string[];\n  onStartConversion?: (job: Omit<ConversionJob, 'id' | 'status' | 'progress'>) => void;\n  onCancelConversion?: (id: string) => void;\n  onRetryConversion?: (id: string) => void;\n  onDownloadFile?: (path: string) => void;\n}\n\nexport const FormatConverter: React.FC<FormatConverterProps> = ({\n  jobs,\n  supportedFormats,\n  onStartConversion,\n  onCancelConversion,\n  onRetryConversion,\n  onDownloadFile\n}) => {\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [targetFormat, setTargetFormat] = useState('mp4');\n  const [quality, setQuality] = useState<'low' | 'medium' | 'high' | 'ultra'>('medium');\n  const [customOptions, setCustomOptions] = useState({\n    resolution: '',\n    bitrate: '',\n    framerate: '',\n    audioCodec: '',\n    videoCodec: ''\n  });\n\n  const qualityPresets = {\n    low: { resolution: '480p', bitrate: 1000, label: 'Low (Fast)' },\n    medium: { resolution: '720p', bitrate: 2500, label: 'Medium (Balanced)' },\n    high: { resolution: '1080p', bitrate: 5000, label: 'High (Quality)' },\n    ultra: { resolution: '4K', bitrate: 15000, label: 'Ultra (Best)' }\n  };\n\n  const handleFileSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files && event.target.files[0]) {\n      setSelectedFile(event.target.files[0]);\n    }\n  };\n\n  const handleStartConversion = () => {\n    if (!selectedFile) return;\n\n    const preset = qualityPresets[quality];\n    const job: Omit<ConversionJob, 'id' | 'status' | 'progress'> = {\n      sourceFile: {\n        path: URL.createObjectURL(selectedFile),\n        name: selectedFile.name,\n        format: selectedFile.name.split('.').pop()?.toLowerCase() || 'unknown',\n        size: selectedFile.size\n      },\n      targetFormat,\n      quality,\n      options: {\n        resolution: customOptions.resolution || preset.resolution,\n        bitrate: customOptions.bitrate ? parseInt(customOptions.bitrate) : preset.bitrate,\n        framerate: customOptions.framerate ? parseInt(customOptions.framerate) : 30,\n        audioCodec: customOptions.audioCodec || 'aac',\n        videoCodec: customOptions.videoCodec || 'h264'\n      }\n    };\n\n    onStartConversion?.(job);\n    setShowCreateModal(false);\n    setSelectedFile(null);\n    setCustomOptions({\n      resolution: '',\n      bitrate: '',\n      framerate: '',\n      audioCodec: '',\n      videoCodec: ''\n    });\n  };\n\n  const formatFileSize = (bytes: number) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  const formatDuration = (startTime?: string, endTime?: string) => {\n    if (!startTime || !endTime) return '---';\n    const start = new Date(startTime);\n    const end = new Date(endTime);\n    const duration = Math.round((end.getTime() - start.getTime()) / 1000);\n    const minutes = Math.floor(duration / 60);\n    const seconds = duration % 60;\n    return `${minutes}m ${seconds}s`;\n  };\n\n  const getStatusIcon = (status: ConversionJob['status']) => {\n    switch (status) {\n      case 'completed':\n        return <CheckCircle className=\"w-5 h-5 text-green-500\" />;\n      case 'processing':\n        return <RefreshCw className=\"w-5 h-5 text-blue-500 animate-spin\" />;\n      case 'failed':\n        return <AlertCircle className=\"w-5 h-5 text-red-500\" />;\n      case 'cancelled':\n        return <X className=\"w-5 h-5 text-gray-500\" />;\n      default:\n        return <Clock className=\"w-5 h-5 text-gray-400\" />;\n    }\n  };\n\n  const getStatusBadge = (status: ConversionJob['status']) => {\n    const variants = {\n      pending: 'secondary',\n      processing: 'default',\n      completed: 'default',\n      failed: 'destructive',\n      cancelled: 'outline'\n    } as const;\n\n    return (\n      <Badge variant={variants[status]}>\n        {status.charAt(0).toUpperCase() + status.slice(1)}\n      </Badge>\n    );\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-bold\">Format Converter</h2>\n        <Button onClick={() => setShowCreateModal(true)}>\n          <Settings className=\"w-4 h-4 mr-2\" />\n          New Conversion\n        </Button>\n      </div>\n\n      {/* Active Jobs */}\n      <div className=\"space-y-4\">\n        {jobs.map(job => (\n          <Card key={job.id}>\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-start gap-4\">\n                <div className=\"mt-1\">\n                  {getStatusIcon(job.status)}\n                </div>\n                \n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-start justify-between mb-2\">\n                    <div>\n                      <h3 className=\"font-medium text-gray-900 truncate\">\n                        {job.sourceFile.name}\n                      </h3>\n                      <p className=\"text-sm text-gray-600\">\n                        {job.sourceFile.format.toUpperCase()} → {job.targetFormat.toUpperCase()} • {job.quality}\n                      </p>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      {getStatusBadge(job.status)}\n                      {job.status === 'completed' && job.outputFile && (\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => onDownloadFile?.(job.outputFile!)}\n                        >\n                          <Download className=\"w-4 h-4 mr-1\" />\n                          Download\n                        </Button>\n                      )}\n                      {job.status === 'failed' && (\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => onRetryConversion?.(job.id)}\n                        >\n                          <RefreshCw className=\"w-4 h-4 mr-1\" />\n                          Retry\n                        </Button>\n                      )}\n                      {['pending', 'processing'].includes(job.status) && (\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => onCancelConversion?.(job.id)}\n                        >\n                          Cancel\n                        </Button>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Progress Bar */}\n                  {job.status === 'processing' && (\n                    <Progress value={job.progress} className=\"mb-3\" showLabel />\n                  )}\n\n                  {/* Details */}\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600\">\n                    <div>\n                      <span className=\"block font-medium\">File Size</span>\n                      {formatFileSize(job.sourceFile.size)}\n                    </div>\n                    <div>\n                      <span className=\"block font-medium\">Duration</span>\n                      {formatDuration(job.startTime, job.endTime)}\n                    </div>\n                    <div>\n                      <span className=\"block font-medium\">Resolution</span>\n                      {job.options.resolution}\n                    </div>\n                    <div>\n                      <span className=\"block font-medium\">Bitrate</span>\n                      {job.options.bitrate} kbps\n                    </div>\n                  </div>\n\n                  {/* Error Message */}\n                  {job.status === 'failed' && job.error && (\n                    <div className=\"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700\">\n                      {job.error}\n                    </div>\n                  )}\n\n                  {/* Success Message */}\n                  {job.status === 'completed' && job.outputFile && (\n                    <div className=\"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700\">\n                      Conversion completed successfully. File is ready for download.\n                    </div>\n                  )}\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n      {/* Empty State */}\n      {jobs.length === 0 && (\n        <Card className=\"text-center py-12\">\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto\">\n                <Settings className=\"w-8 h-8 text-gray-400\" />\n              </div>\n              <div>\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                  No conversion jobs\n                </h3>\n                <p className=\"text-gray-600 mb-4\">\n                  Start your first media format conversion\n                </p>\n                <Button onClick={() => setShowCreateModal(true)}>\n                  <Settings className=\"w-4 h-4 mr-2\" />\n                  Create Conversion Job\n                </Button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Create Conversion Modal */}\n      {showCreateModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n          <Card className=\"w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <CardHeader>\n              <CardTitle>Create Conversion Job</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              {/* File Selection */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Select File\n                </label>\n                <input\n                  type=\"file\"\n                  accept=\"video/*,audio/*\"\n                  onChange={handleFileSelect}\n                  className=\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                />\n                {selectedFile && (\n                  <p className=\"mt-2 text-sm text-gray-600\">\n                    Selected: {selectedFile.name} ({formatFileSize(selectedFile.size)})\n                  </p>\n                )}\n              </div>\n\n              {/* Target Format */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Target Format\n                </label>\n                <select\n                  value={targetFormat}\n                  onChange={(e) => setTargetFormat(e.target.value)}\n                  className=\"w-full p-3 border border-gray-300 rounded-lg\"\n                >\n                  {supportedFormats.map(format => (\n                    <option key={format} value={format}>\n                      {format.toUpperCase()}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Quality Selection */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Quality Preset\n                </label>\n                <div className=\"grid grid-cols-2 gap-3\">\n                  {Object.entries(qualityPresets).map(([key, preset]) => (\n                    <label\n                      key={key}\n                      className={`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${\n                        quality === key \n                          ? 'border-blue-500 bg-blue-50' \n                          : 'border-gray-200 hover:border-gray-300'\n                      }`}\n                    >\n                      <input\n                        type=\"radio\"\n                        name=\"quality\"\n                        value={key}\n                        checked={quality === key}\n                        onChange={(e) => setQuality(e.target.value as any)}\n                        className=\"sr-only\"\n                      />\n                      <div>\n                        <div className=\"font-medium\">{preset.label}</div>\n                        <div className=\"text-sm text-gray-600\">\n                          {preset.resolution} • {preset.bitrate}kbps\n                        </div>\n                      </div>\n                    </label>\n                  ))}\n                </div>\n              </div>\n\n              {/* Custom Options */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Custom Options (Optional)\n                </label>\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <Input\n                    placeholder=\"Resolution (e.g., 1080p)\"\n                    value={customOptions.resolution}\n                    onChange={(e) => setCustomOptions(prev => ({ ...prev, resolution: e.target.value }))}\n                  />\n                  <Input\n                    placeholder=\"Bitrate (kbps)\"\n                    type=\"number\"\n                    value={customOptions.bitrate}\n                    onChange={(e) => setCustomOptions(prev => ({ ...prev, bitrate: e.target.value }))}\n                  />\n                  <Input\n                    placeholder=\"Framerate (fps)\"\n                    type=\"number\"\n                    value={customOptions.framerate}\n                    onChange={(e) => setCustomOptions(prev => ({ ...prev, framerate: e.target.value }))}\n                  />\n                  <Input\n                    placeholder=\"Audio Codec (e.g., aac)\"\n                    value={customOptions.audioCodec}\n                    onChange={(e) => setCustomOptions(prev => ({ ...prev, audioCodec: e.target.value }))}\n                  />\n                </div>\n              </div>\n\n              {/* Actions */}\n              <div className=\"flex gap-3\">\n                <Button\n                  variant=\"outline\"\n                  onClick={() => setShowCreateModal(false)}\n                  className=\"flex-1\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  onClick={handleStartConversion}\n                  disabled={!selectedFile}\n                  className=\"flex-1\"\n                >\n                  <PlayCircle className=\"w-4 h-4 mr-2\" />\n                  Start Conversion\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n    </div>\n  );\n};","import type { ConversionJob } from '@/types/conversion';\n\nexport const conversionApi = {\n  async getConversionJobs(): Promise<ConversionJob[]> {\n    // Mock implementation - would be replaced with actual API call\n    return [\n      {\n        id: '1',\n        sourceFile: {\n          path: '/media/movies/sample.mkv',\n          name: 'sample.mkv',\n          format: 'mkv',\n          size: 1073741824 // 1GB\n        },\n        targetFormat: 'mp4',\n        quality: 'high',\n        status: 'completed',\n        progress: 100,\n        startTime: '2023-12-09T10:00:00Z',\n        endTime: '2023-12-09T10:15:00Z',\n        outputFile: '/media/converted/sample.mp4',\n        options: {\n          resolution: '1080p',\n          bitrate: 5000,\n          framerate: 30,\n          audioCodec: 'aac',\n          videoCodec: 'h264'\n        }\n      },\n      {\n        id: '2',\n        sourceFile: {\n          path: '/media/movies/another-video.avi',\n          name: 'another-video.avi',\n          format: 'avi',\n          size: 2147483648 // 2GB\n        },\n        targetFormat: 'mp4',\n        quality: 'medium',\n        status: 'processing',\n        progress: 65,\n        startTime: '2023-12-09T11:30:00Z',\n        options: {\n          resolution: '720p',\n          bitrate: 2500,\n          framerate: 30,\n          audioCodec: 'aac',\n          videoCodec: 'h264'\n        }\n      }\n    ];\n  },\n\n  async startConversion(jobData: Omit<ConversionJob, 'id' | 'status' | 'progress'>): Promise<ConversionJob> {\n    // Mock implementation\n    const newJob: ConversionJob = {\n      ...jobData,\n      id: Date.now().toString(),\n      status: 'pending',\n      progress: 0\n    };\n    return newJob;\n  },\n\n  async cancelConversion(id: string): Promise<void> {\n    // Mock implementation\n  },\n\n  async retryConversion(id: string): Promise<void> {\n    // Mock implementation\n  },\n\n  async downloadFile(path: string): Promise<void> {\n    // Mock implementation - would trigger file download\n  }\n};","import React, { useState, useEffect } from 'react';\nimport { FormatConverter } from '@/components/conversion/FormatConverter';\nimport { conversionApi } from '@/lib/conversionApi';\nimport { useQuery } from '@tanstack/react-query';\nimport toast from 'react-hot-toast';\nimport type { ConversionJob } from '@/types/conversion';\n\nexport const ConversionTools: React.FC = () => {\n  const [jobs, setJobs] = useState<ConversionJob[]>([]);\n  const [supportedFormats] = useState(['mp4', 'mkv', 'avi', 'mov', 'webm', 'mp3', 'wav', 'flac']);\n\n  const { data, isLoading, refetch } = useQuery({\n    queryKey: ['conversion-jobs'],\n    queryFn: () => conversionApi.getConversionJobs(),\n    staleTime: 1000 * 60 * 2,\n    refetchInterval: 1000 * 30, // Refresh every 30 seconds for active jobs\n  });\n\n  useEffect(() => {\n    if (data) {\n      setJobs(data);\n    }\n  }, [data]);\n\n  const handleStartConversion = async (jobData: any) => {\n    try {\n      const newJob = await conversionApi.startConversion(jobData);\n      setJobs(prev => [newJob, ...prev]);\n      toast.success('Conversion started successfully');\n      refetch(); // Refresh jobs list\n    } catch (error) {\n      toast.error(`Failed to start conversion: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  };\n\n  const handleCancelConversion = async (id: string) => {\n    try {\n      await conversionApi.cancelConversion(id);\n      setJobs(prev => \n        prev.map(job => \n          job.id === id ? { ...job, status: 'cancelled' } : job\n        )\n      );\n      toast.success('Conversion cancelled');\n    } catch (error) {\n      toast.error(`Failed to cancel conversion: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  };\n\n  const handleRetryConversion = async (id: string) => {\n    try {\n      await conversionApi.retryConversion(id);\n      setJobs(prev => \n        prev.map(job => \n          job.id === id ? { ...job, status: 'pending', progress: 0 } : job\n        )\n      );\n      toast.success('Conversion retry initiated');\n    } catch (error) {\n      toast.error(`Failed to retry conversion: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  };\n\n  const handleDownloadFile = async (path: string) => {\n    try {\n      await conversionApi.downloadFile(path);\n      toast.success('File downloaded successfully');\n    } catch (error) {\n      toast.error(`Failed to download file: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-2\">\n          Format Converter\n        </h1>\n        <p className=\"text-gray-600 dark:text-gray-400\">\n          Convert media files to different formats with customizable quality settings\n        </p>\n      </div>\n      \n      <FormatConverter\n        jobs={jobs}\n        supportedFormats={supportedFormats}\n        onStartConversion={handleStartConversion}\n        onCancelConversion={handleCancelConversion}\n        onRetryConversion={handleRetryConversion}\n        onDownloadFile={handleDownloadFile}\n      />\n    </div>\n  );\n};"],"names":["FormatConverter","jobs","supportedFormats","onStartConversion","onCancelConversion","onRetryConversion","onDownloadFile","showCreateModal","setShowCreateModal","useState","selectedFile","setSelectedFile","targetFormat","setTargetFormat","quality","setQuality","customOptions","setCustomOptions","qualityPresets","handleFileSelect","event","handleStartConversion","preset","job","_a","formatFileSize","bytes","k","sizes","i","formatDuration","startTime","endTime","start","end","duration","minutes","seconds","getStatusIcon","status","jsx","CheckCircle","RefreshCw","AlertCircle","X","Clock","getStatusBadge","variants","Badge","jsxs","Button","Settings","Card","CardContent","Download","Progress","CardHeader","CardTitle","e","format","key","Input","prev","PlayCircle","conversionApi","jobData","id","path","ConversionTools","setJobs","data","isLoading","refetch","useQuery","useEffect","newJob","toast","error","handleCancelConversion","handleRetryConversion","handleDownloadFile"],"mappings":"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"}