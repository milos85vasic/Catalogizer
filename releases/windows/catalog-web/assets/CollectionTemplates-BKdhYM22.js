import{j as e,B as u,n as k}from"./index-BzqIBI_1.js";import{r as n}from"./router-CYAiCCsK.js";import{I as U}from"./Input-DQaGiHGP.js";import{S as F}from"./Tabs-VczWTLgE.js";import{B as y}from"./Badge-CeVT3Lft.js";import{m as j,X as $,S as ee,G as D,J as se,u as C,N as ae,A as te,v as ie,aW as re,aX as le,aY as ce,Y as ne,t as de,i as oe,aC as W,T as me,F as xe,Z as ge}from"./ui-DhyrEzjX.js";import"./charts-BaIhTcLh.js";import"./utils-B26ZFImD.js";const d=[{id:"media",name:"Media Collections",icon:e.jsx(xe,{className:"w-4 h-4"}),color:"blue"},{id:"workflow",name:"Workflow Templates",icon:e.jsx(ge,{className:"w-4 h-4"}),color:"purple"},{id:"organization",name:"Organization",icon:e.jsx(D,{className:"w-4 h-4"}),color:"green"},{id:"automation",name:"Automation",icon:e.jsx(W,{className:"w-4 h-4"}),color:"orange"}],S={simple:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",advanced:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},pe=[{id:"recent-movies",name:"Recent Movies",description:"Movies added in the last 30 days with ratings above 4.0",category:"media",icon:e.jsx(ie,{className:"w-6 h-6"}),rules:[{field:"media_type",operator:"equals",value:"video"},{field:"category",operator:"equals",value:"movie"},{field:"created_at",operator:"greater_than",value:"30_days_ago",timeBased:!0},{field:"rating",operator:"greater_than",value:4}],metrics:{popularity:95,complexity:"simple",estimatedItems:"~50-200"},tags:["movies","recent","high-rated"],preview:{type:"Video",count:127,size:"45.2 GB"}},{id:"music-genres",name:"Music by Genres",description:"Organized collection of music sorted by genres and sub-genres",category:"media",icon:e.jsx(re,{className:"w-6 h-6"}),rules:[{field:"media_type",operator:"equals",value:"audio"},{field:"genre",operator:"is_not_empty",value:""}],settings:{groupBy:"genre",sortBy:"artist",includeAlbums:!0,includePlaylists:!1},metrics:{popularity:88,complexity:"medium",estimatedItems:"~1000-5000"},tags:["music","genres","organized"],preview:{type:"Audio",count:2847,size:"12.8 GB"}},{id:"photo-library",name:"Photo Library",description:"Complete photo collection with date and location organization",category:"media",icon:e.jsx(le,{className:"w-6 h-6"}),rules:[{field:"media_type",operator:"equals",value:"image"},{field:"format",operator:"in",value:["jpg","png","raw","heic"]}],settings:{groupBy:"date_taken",includeLocation:!0,includeAlbums:!0,faceDetection:!0},metrics:{popularity:92,complexity:"advanced",estimatedItems:"~5000-20000"},tags:["photos","images","library"],preview:{type:"Images",count:8472,size:"67.3 GB"}},{id:"watchlist",name:"Watchlist Manager",description:"Dynamic watchlist with progress tracking and recommendations",category:"workflow",icon:e.jsx(ce,{className:"w-6 h-6"}),rules:[{field:"watchlist_status",operator:"equals",value:"to_watch"},{field:"media_type",operator:"in",value:["video"]}],settings:{autoRemoveWatched:!0,includeRecommendations:!0,sortBy:"priority",progressTracking:!0},metrics:{popularity:85,complexity:"medium",estimatedItems:"~25-100"},tags:["watchlist","tracking","workflow"],preview:{type:"Mixed",count:43,size:"156 GB"}},{id:"content-review",name:"Content Review Queue",description:"Items pending review with quality checks and metadata validation",category:"workflow",icon:e.jsx(ne,{className:"w-6 h-6"}),rules:[{field:"review_status",operator:"equals",value:"pending"},{field:"quality_score",operator:"less_than",value:.8}],settings:{includeQualityCheck:!0,includeMetadataValidation:!0,autoCategorization:!1,notificationEnabled:!0},metrics:{popularity:72,complexity:"advanced",estimatedItems:"~10-50"},tags:["review","quality","workflow"],preview:{type:"Mixed",count:18,size:"4.2 GB"}},{id:"by-decade",name:"Decades Collection",description:"Media organized by decades for nostalgic browsing",category:"organization",icon:e.jsx(de,{className:"w-6 h-6"}),rules:[{field:"media_type",operator:"in",value:["video","audio","image"]}],settings:{groupBy:"decade",includeUnknownDates:!1,createSubCollections:!0},metrics:{popularity:78,complexity:"simple",estimatedItems:"~3000-15000"},tags:["organization","timeline","decades"],preview:{type:"Mixed",count:5934,size:"892.4 GB"}},{id:"workspace-projects",name:"Workspace Projects",description:"Professional projects and work-related media",category:"organization",icon:e.jsx(oe,{className:"w-6 h-6"}),rules:[{field:"category",operator:"equals",value:"work"},{field:"project_type",operator:"is_not_empty",value:""}],settings:{groupBy:"project",includeArchived:!1,includeCollaborative:!0},metrics:{popularity:65,complexity:"medium",estimatedItems:"~200-1000"},tags:["work","projects","organization"],preview:{type:"Documents",count:342,size:"23.8 GB"}},{id:"smart-suggestions",name:"Smart Suggestions",description:"AI-powered collection with suggested items based on preferences",category:"automation",icon:e.jsx(W,{className:"w-6 h-6"}),rules:[{field:"ai_score",operator:"greater_than",value:.7},{field:"user_preference_match",operator:"greater_than",value:.8}],settings:{updateFrequency:"daily",includeFeedback:!0,learningEnabled:!0,maxItems:100},metrics:{popularity:91,complexity:"advanced",estimatedItems:"~50-100"},tags:["ai","suggestions","automation"],preview:{type:"Mixed",count:87,size:"45.2 GB"}},{id:"trending-content",name:"Trending Now",description:"Currently popular and trending content in your library",category:"automation",icon:e.jsx(me,{className:"w-6 h-6"}),rules:[{field:"recent_plays",operator:"greater_than",value:10},{field:"trending_score",operator:"greater_than",value:.6}],settings:{updateFrequency:"hourly",timeWindow:"7_days",includeSocialSignals:!0},metrics:{popularity:96,complexity:"medium",estimatedItems:"~25-75"},tags:["trending","popular","automation"],preview:{type:"Mixed",count:34,size:"28.7 GB"}}],Ce=({onClose:Q,onApplyTemplate:Y})=>{var A,M,L,P,E,G,q,O;const[g,V]=n.useState("all"),[p,X]=n.useState(""),[w,_]=n.useState("grid"),[t,h]=n.useState(null),[he,H]=n.useState(!1),[v,z]=n.useState(""),[I,B]=n.useState(!1),[f,Z]=n.useState("popularity"),[ue,J]=n.useState(!1),N=n.useMemo(()=>{const s=pe.filter(a=>{const i=g==="all"||a.category===g,l=!p||a.name.toLowerCase().includes(p.toLowerCase())||a.description.toLowerCase().includes(p.toLowerCase())||a.tags.some(c=>c.toLowerCase().includes(p.toLowerCase()));return i&&l});return s.sort((a,i)=>{var l,c,o,m,x,r;switch(f){case"popularity":return(((l=i.metrics)==null?void 0:l.popularity)||0)-(((c=a.metrics)==null?void 0:c.popularity)||0);case"name":return a.name.localeCompare(i.name);case"complexity":{const R={simple:1,medium:2,advanced:3};return R[((o=a.metrics)==null?void 0:o.complexity)||"simple"]-R[((m=i.metrics)==null?void 0:m.complexity)||"simple"]}case"updated":return(((x=i.metrics)==null?void 0:x.lastUpdated)||"").localeCompare(((r=a.metrics)==null?void 0:r.lastUpdated)||"");default:return 0}}),s},[g,p,f]),K=async s=>{if(!v.trim()){k.error("Please enter a collection name");return}B(!0);try{await Y(s,v.trim()),k.success(`Collection "${v}" created from template`),T()}catch(a){k.error(a instanceof Error?a.message:"Failed to create collection")}finally{B(!1)}},T=()=>{h(null),z(""),H(!1),J(!1),Q()},b=s=>s.charAt(0).toUpperCase()+s.slice(1);return e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-900 rounded-xl shadow-2xl w-full max-w-7xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Collection Templates"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Choose from pre-built templates to get started"})]}),e.jsx(u,{variant:"ghost",size:"sm",onClick:T,children:e.jsx($,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsx(U,{placeholder:"Search templates...",value:p,onChange:s=>X(s.target.value),icon:e.jsx(ee,{className:"w-4 h-4"})})}),e.jsx(F,{value:g,onChange:V,options:[{value:"all",label:"All Categories"},...d.map(s=>({value:s.id,label:s.name}))]}),e.jsx(F,{value:f,onChange:s=>Z(s),options:[{value:"popularity",label:"Most Popular"},{value:"name",label:"Name"},{value:"complexity",label:"Complexity"},{value:"updated",label:"Recently Updated"}]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{variant:w==="grid"?"default":"ghost",size:"sm",onClick:()=>_("grid"),children:e.jsx(D,{className:"w-4 h-4"})}),e.jsx(u,{variant:w==="list"?"default":"ghost",size:"sm",onClick:()=>_("list"),children:e.jsx(se,{className:"w-4 h-4"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:g==="all"?"All Templates":(A=d.find(s=>s.id===g))==null?void 0:A.name}),e.jsxs(y,{variant:"outline",children:[N.length," templates"]})]})}),w==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:N.map(s=>{var a,i,l,c,o,m,x;return e.jsxs(j.div,{whileHover:{y:-2},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>h(s),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-2 rounded-lg bg-${(a=d.find(r=>r.id===s.category))==null?void 0:a.color}-100 dark:bg-${(i=d.find(r=>r.id===s.category))==null?void 0:i.color}-900`,children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(l=d.find(r=>r.id===s.category))==null?void 0:l.name})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:[((c=s.metrics)==null?void 0:c.popularity)||0,"%"]})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(y,{className:S[((o=s.metrics)==null?void 0:o.complexity)||"simple"],children:b(((m=s.metrics)==null?void 0:m.complexity)||"simple")}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:((x=s.metrics)==null?void 0:x.estimatedItems)||"N/A"})]}),s.preview&&e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:s.preview.type}),e.jsxs("span",{children:[s.preview.count," items"]})]})})]},s.id)})}):e.jsx("div",{className:"space-y-2",children:N.map(s=>{var a,i,l,c,o,m,x;return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>h(s),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-lg bg-${(a=d.find(r=>r.id===s.category))==null?void 0:a.color}-100 dark:bg-${(i=d.find(r=>r.id===s.category))==null?void 0:i.color}-900`,children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:S[((l=s.metrics)==null?void 0:l.complexity)||"simple"],children:b(((c=s.metrics)==null?void 0:c.complexity)||"simple")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:[((o=s.metrics)==null?void 0:o.popularity)||0,"%"]})]})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("span",{children:((m=s.metrics)==null?void 0:m.estimatedItems)||"N/A"}),s.preview&&e.jsxs("span",{children:[s.preview.count," items"]}),((x=s.metrics)==null?void 0:x.lastUpdated)&&e.jsxs("span",{children:["Updated ",s.metrics.lastUpdated]})]})]}),e.jsx(ae,{className:"w-5 h-5 text-gray-400"})]})},s.id)})})]}),e.jsx(te,{children:t&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>h(null),children:e.jsx(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-900 rounded-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:s=>s.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-3 rounded-lg bg-${(M=d.find(s=>s.id===t.category))==null?void 0:M.color}-100 dark:bg-${(L=d.find(s=>s.id===t.category))==null?void 0:L.color}-900`,children:t.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t.name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:(P=d.find(s=>s.id===t.category))==null?void 0:P.name})]})]}),e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>h(null),children:e.jsx($,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Metrics"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Popularity"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsxs("span",{className:"text-sm font-medium",children:[((E=t.metrics)==null?void 0:E.popularity)||0,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Complexity"}),e.jsx(y,{className:S[((G=t.metrics)==null?void 0:G.complexity)||"simple"],children:b(((q=t.metrics)==null?void 0:q.complexity)||"simple")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Estimated Items"}),e.jsx("span",{className:"text-sm font-medium",children:((O=t.metrics)==null?void 0:O.estimatedItems)||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(s=>e.jsx(y,{variant:"outline",children:s},s))})]})]}),t.preview&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Preview"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.preview.count}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Items"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.preview.type}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Type"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.preview.size}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Size"})]})]})})]}),t.rules&&t.rules.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Rules"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-2",children:t.rules.map((s,a)=>e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[s.field," ",s.operator," ",s.value,s.timeBased&&e.jsx(y,{className:"ml-2",variant:"outline",children:"Time-based"})]},a))})]}),t.settings&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Settings"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(t.settings).map(([s,a])=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[s,": "]}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:typeof a=="boolean"?a?"Yes":"No":String(a)})]},s))})})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[e.jsx("div",{className:"flex-1",children:e.jsx(U,{placeholder:"Enter collection name...",value:v,onChange:s=>z(s.target.value)})}),e.jsx(u,{variant:"outline",onClick:()=>h(null),children:"Cancel"}),e.jsx(u,{onClick:()=>K(t),disabled:!v.trim()||I,children:I?"Creating...":"Create Collection"})]})]})})})})]})})};export{Ce as CollectionTemplates,Ce as default};
//# sourceMappingURL=CollectionTemplates-BKdhYM22.js.map
