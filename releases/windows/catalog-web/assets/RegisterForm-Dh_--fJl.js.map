{"version":3,"file":"RegisterForm-Dh_--fJl.js","sources":["../../src/components/auth/RegisterForm.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { useAuth } from '@/contexts/AuthContext'\nimport { Button } from '@/components/ui/Button'\nimport { Input } from '@/components/ui/Input'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/Card'\nimport { User, Mail, Lock, Eye, EyeOff } from 'lucide-react'\nimport { motion } from 'framer-motion'\n\nexport const RegisterForm: React.FC = () => {\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n    firstName: '',\n    lastName: '',\n  })\n  const [showPassword, setShowPassword] = useState(false)\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n  const [errors, setErrors] = useState<Record<string, string>>({})\n  const { register } = useAuth()\n  const navigate = useNavigate()\n\n  const validateForm = () => {\n    const newErrors: Record<string, string> = {}\n\n    if (!formData.username.trim()) {\n      newErrors.username = 'Username is required'\n    } else if (formData.username.length < 3) {\n      newErrors.username = 'Username must be at least 3 characters'\n    }\n\n    if (!formData.email.trim()) {\n      newErrors.email = 'Email is required'\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n      newErrors.email = 'Email is invalid'\n    }\n\n    if (!formData.firstName.trim()) {\n      newErrors.firstName = 'First name is required'\n    }\n\n    if (!formData.lastName.trim()) {\n      newErrors.lastName = 'Last name is required'\n    }\n\n    if (!formData.password) {\n      newErrors.password = 'Password is required'\n    } else if (formData.password.length < 8) {\n      newErrors.password = 'Password must be at least 8 characters'\n    }\n\n    if (!formData.confirmPassword) {\n      newErrors.confirmPassword = 'Please confirm your password'\n    } else if (formData.password !== formData.confirmPassword) {\n      newErrors.confirmPassword = 'Passwords do not match'\n    }\n\n    setErrors(newErrors)\n    return Object.keys(newErrors).length === 0\n  }\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target\n    setFormData(prev => ({ ...prev, [name]: value }))\n    if (errors[name]) {\n      setErrors(prev => ({ ...prev, [name]: '' }))\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (!validateForm()) return\n\n    setIsLoading(true)\n    try {\n      await register({\n        username: formData.username.trim(),\n        email: formData.email.trim(),\n        password: formData.password,\n        first_name: formData.firstName.trim(),\n        last_name: formData.lastName.trim(),\n      })\n      navigate('/login')\n    } catch (error) {\n      console.error('Registration failed:', error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 px-4\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5 }}\n        className=\"w-full max-w-md\"\n      >\n        <Card className=\"shadow-2xl border-0 bg-white/80 backdrop-blur-md dark:bg-gray-800/80\">\n          <CardHeader className=\"space-y-1\">\n            <div className=\"flex justify-center mb-4\">\n              <div className=\"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center\">\n                <span className=\"text-white font-bold text-xl\">C</span>\n              </div>\n            </div>\n            <CardTitle className=\"text-2xl text-center\">Create account</CardTitle>\n            <CardDescription className=\"text-center\">\n              Join Catalogizer to start organizing your media\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <Input\n                  label=\"First Name\"\n                  type=\"text\"\n                  name=\"firstName\"\n                  value={formData.firstName}\n                  onChange={handleChange}\n                  placeholder=\"John\"\n                  error={errors.firstName}\n                  required\n                />\n                <Input\n                  label=\"Last Name\"\n                  type=\"text\"\n                  name=\"lastName\"\n                  value={formData.lastName}\n                  onChange={handleChange}\n                  placeholder=\"Doe\"\n                  error={errors.lastName}\n                  required\n                />\n              </div>\n\n              <Input\n                label=\"Username\"\n                type=\"text\"\n                name=\"username\"\n                value={formData.username}\n                onChange={handleChange}\n                placeholder=\"Enter username\"\n                icon={<User className=\"h-4 w-4\" />}\n                error={errors.username}\n                required\n              />\n\n              <Input\n                label=\"Email\"\n                type=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleChange}\n                placeholder=\"Enter email address\"\n                icon={<Mail className=\"h-4 w-4\" />}\n                error={errors.email}\n                required\n              />\n\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                  Password\n                </label>\n                <div className=\"relative\">\n                  <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                  <Input\n                    type={showPassword ? 'text' : 'password'}\n                    name=\"password\"\n                    value={formData.password}\n                    onChange={handleChange}\n                    placeholder=\"Create password\"\n                    className=\"pl-10 pr-12\"\n                    error={errors.password}\n                    required\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowPassword(!showPassword)}\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n                  >\n                    {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                  Confirm Password\n                </label>\n                <div className=\"relative\">\n                  <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                  <Input\n                    type={showConfirmPassword ? 'text' : 'password'}\n                    name=\"confirmPassword\"\n                    value={formData.confirmPassword}\n                    onChange={handleChange}\n                    placeholder=\"Confirm password\"\n                    className=\"pl-10 pr-12\"\n                    error={errors.confirmPassword}\n                    required\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n                  >\n                    {showConfirmPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                  </button>\n                </div>\n              </div>\n\n              <Button\n                type=\"submit\"\n                className=\"w-full\"\n                loading={isLoading}\n              >\n                Create account\n              </Button>\n            </form>\n\n            <div className=\"mt-6\">\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <div className=\"w-full border-t border-gray-300 dark:border-gray-600\" />\n                </div>\n                <div className=\"relative flex justify-center text-sm\">\n                  <span className=\"px-2 bg-white text-gray-500 dark:bg-gray-800 dark:text-gray-400\">\n                    Already have an account?\n                  </span>\n                </div>\n              </div>\n              <div className=\"mt-6\">\n                <Link to=\"/login\">\n                  <Button variant=\"outline\" className=\"w-full\">\n                    Sign in instead\n                  </Button>\n                </Link>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </motion.div>\n    </div>\n  )\n}"],"names":["RegisterForm","formData","setFormData","useState","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","isLoading","setIsLoading","errors","setErrors","register","useAuth","navigate","useNavigate","validateForm","newErrors","handleChange","e","name","value","prev","handleSubmit","error","jsx","motion","jsxs","Card","CardHeader","CardTitle","CardDescription","CardContent","Input","User","Mail","Lock","EyeOff","Eye","Button","Link"],"mappings":"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"}